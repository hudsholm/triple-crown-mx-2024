<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Triple Crown Motocross - 2024 Report</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body>

<div id="quarto-search-results"></div>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">1 Abstract</a></li>
  <li><a href="#background-information" id="toc-background-information" class="nav-link" data-scroll-target="#background-information">2 Background information</a></li>
  <li><a href="#data-scraping-and-tidying" id="toc-data-scraping-and-tidying" class="nav-link" data-scroll-target="#data-scraping-and-tidying">3 Data scraping and tidying</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">4 Analysis</a>
  <ul class="collapse">
  <li><a href="#demographic-summary" id="toc-demographic-summary" class="nav-link" data-scroll-target="#demographic-summary">4.1 Demographic summary</a></li>
  <li><a href="#passing-probabilities" id="toc-passing-probabilities" class="nav-link" data-scroll-target="#passing-probabilities">4.2 Passing probabilities</a></li>
  <li><a href="#rider-fatique" id="toc-rider-fatique" class="nav-link" data-scroll-target="#rider-fatique">4.3 Rider fatique</a></li>
  <li><a href="#rider-rivalries" id="toc-rider-rivalries" class="nav-link" data-scroll-target="#rider-rivalries">4.4 Rider rivalries</a></li>
  <li><a href="#points-race" id="toc-points-race" class="nav-link" data-scroll-target="#points-race">4.5 Points race</a></li>
  <li><a href="#positions-gained" id="toc-positions-gained" class="nav-link" data-scroll-target="#positions-gained">4.6 Positions gained</a></li>
  <li><a href="#best-starters" id="toc-best-starters" class="nav-link" data-scroll-target="#best-starters">4.7 Best starters</a></li>
  <li><a href="#lap-consistency" id="toc-lap-consistency" class="nav-link" data-scroll-target="#lap-consistency">4.8 Lap consistency</a></li>
  <li><a href="#lap-comparisons-to-race-leader" id="toc-lap-comparisons-to-race-leader" class="nav-link" data-scroll-target="#lap-comparisons-to-race-leader">4.9 Lap comparisons to race leader</a></li>
  <li><a href="#win-probability-model" id="toc-win-probability-model" class="nav-link" data-scroll-target="#win-probability-model">4.10 Win probability model</a></li>
  <li><a href="#rider-profiles" id="toc-rider-profiles" class="nav-link" data-scroll-target="#rider-profiles">4.11 Rider profiles</a></li>
  </ul></li>
  <li><a href="#extensions" id="toc-extensions" class="nav-link" data-scroll-target="#extensions">5 Extensions</a></li>
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">6 Notes</a></li>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link" data-scroll-target="#acknowledgements">7 Acknowledgements</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Triple Crown Motocross - 2024 Report</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="abstract" class="level1">
<h1>1 Abstract</h1>
<p>The Triple Crown Series is Canadaâ€™s premier off-road motorcycle racing series. Data including the places and lap times of riders are freely available online, provided by <a href="https://www.tracksidesoftware.com/">Trackside</a>. However, there exists no published analysis on the series. This report aims to take these first steps and do some exploratory data analysis.</p>
</section>
<section id="background-information" class="level1">
<h1>2 Background information</h1>
<p>The Triple Crown Series is named in reference to the three main events in the sport of off-road motorcycle racing. There is motocross (outdoors, usually featuring longer courses), supercross (usually compact, shorter courses), and arenacross (supercross but restricted to an arena or stadium). Riders take part in rounds of these three types of races throughout the year, accumulating points in attempt to win the championship. In 2024, only motocross events took place.</p>
<p>There are three main classes for the Triple Crown Series. There is one class for women, WMX. There are two classes for the men, 250 Pro/Am and 450 Pro. The 250 class of riders are a mixture of amateur and professional riders, racing 250cc dirt bikes. The 450 class of riders are professional riders, racing 450cc dirt bikes.</p>
</section>
<section id="data-scraping-and-tidying" class="level1">
<h1>3 Data scraping and tidying</h1>
<p>Importing relevant packages:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># data cleaning</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest) <span class="co"># data scraping</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr) <span class="co"># string operations</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate) <span class="co"># date/time operations</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt) <span class="co"># tables</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2) <span class="co"># visuals</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(expm) <span class="co"># matrix operations</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Importing rider information spreadsheet:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>riders <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"rider_info.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(riders)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 251
Columns: 4
$ name     &lt;chr&gt; "JESS PETTIS", "JOSIAH NATZKE", "PRESTON KILROY", "AARON TANTâ€¦
$ class    &lt;chr&gt; "450", "450", "450", "450", "450", "450", "450", "450", "450"â€¦
$ year     &lt;int&gt; 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2024, 2â€¦
$ location &lt;chr&gt; "Quebec", "New Zealand", "Wyoming", "Quebec", "Ontario", "Briâ€¦</code></pre>
</div>
</div>
<p>The individual moto results table does not display any information about points scored. The following is a self-created tibble that will eventually get added. This will allow for analysis about points scored throughout a season.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>points <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">finish =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">40</span>, </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">points =</span> <span class="fu">c</span>(<span class="dv">25</span>,<span class="dv">22</span>,<span class="dv">20</span>,<span class="dv">18</span>,<span class="dv">16</span>,<span class="dv">15</span>,<span class="dv">14</span>,<span class="dv">13</span>,<span class="dv">12</span>,<span class="dv">11</span>,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>                            <span class="dv">10</span>,<span class="dv">9</span>,<span class="dv">8</span>,<span class="dv">7</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>                            <span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>points <span class="sc">|&gt;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">20</span>) <span class="sc">|&gt;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">finish =</span> <span class="st">"Finish"</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">points =</span> <span class="st">"Points"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="gbducujqav" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#gbducujqav table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gbducujqav thead, #gbducujqav tbody, #gbducujqav tfoot, #gbducujqav tr, #gbducujqav td, #gbducujqav th {
  border-style: none;
}

#gbducujqav p {
  margin: 0;
  padding: 0;
}

#gbducujqav .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gbducujqav .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gbducujqav .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gbducujqav .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gbducujqav .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gbducujqav .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gbducujqav .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gbducujqav .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gbducujqav .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gbducujqav .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gbducujqav .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gbducujqav .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gbducujqav .gt_spanner_row {
  border-bottom-style: hidden;
}

#gbducujqav .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gbducujqav .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gbducujqav .gt_from_md > :first-child {
  margin-top: 0;
}

#gbducujqav .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gbducujqav .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gbducujqav .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gbducujqav .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gbducujqav .gt_row_group_first td {
  border-top-width: 2px;
}

#gbducujqav .gt_row_group_first th {
  border-top-width: 2px;
}

#gbducujqav .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gbducujqav .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gbducujqav .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gbducujqav .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gbducujqav .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gbducujqav .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gbducujqav .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gbducujqav .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gbducujqav .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gbducujqav .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gbducujqav .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gbducujqav .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gbducujqav .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gbducujqav .gt_left {
  text-align: left;
}

#gbducujqav .gt_center {
  text-align: center;
}

#gbducujqav .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gbducujqav .gt_font_normal {
  font-weight: normal;
}

#gbducujqav .gt_font_bold {
  font-weight: bold;
}

#gbducujqav .gt_font_italic {
  font-style: italic;
}

#gbducujqav .gt_super {
  font-size: 65%;
}

#gbducujqav .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gbducujqav .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gbducujqav .gt_indent_1 {
  text-indent: 5px;
}

#gbducujqav .gt_indent_2 {
  text-indent: 10px;
}

#gbducujqav .gt_indent_3 {
  text-indent: 15px;
}

#gbducujqav .gt_indent_4 {
  text-indent: 20px;
}

#gbducujqav .gt_indent_5 {
  text-indent: 25px;
}

#gbducujqav .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#gbducujqav div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="finish" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Finish</th>
<th id="points" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Points</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="finish">1</td>
<td class="gt_row gt_right" headers="points">25</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">2</td>
<td class="gt_row gt_right" headers="points">22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">3</td>
<td class="gt_row gt_right" headers="points">20</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">4</td>
<td class="gt_row gt_right" headers="points">18</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">5</td>
<td class="gt_row gt_right" headers="points">16</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">6</td>
<td class="gt_row gt_right" headers="points">15</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">7</td>
<td class="gt_row gt_right" headers="points">14</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">8</td>
<td class="gt_row gt_right" headers="points">13</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">9</td>
<td class="gt_row gt_right" headers="points">12</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">10</td>
<td class="gt_row gt_right" headers="points">11</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">11</td>
<td class="gt_row gt_right" headers="points">10</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">12</td>
<td class="gt_row gt_right" headers="points">9</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">13</td>
<td class="gt_row gt_right" headers="points">8</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">14</td>
<td class="gt_row gt_right" headers="points">7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">15</td>
<td class="gt_row gt_right" headers="points">6</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">16</td>
<td class="gt_row gt_right" headers="points">5</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">17</td>
<td class="gt_row gt_right" headers="points">4</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">18</td>
<td class="gt_row gt_right" headers="points">3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="finish">19</td>
<td class="gt_row gt_right" headers="points">2</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="finish">20</td>
<td class="gt_row gt_right" headers="points">1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Here is a function that converts the lap times (string format) to seconds (numeric format). For example, a lap time of 1:13.21 gets converted to 73.021.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>convert_to_seconds <span class="ot">&lt;-</span> <span class="cf">function</span>(time_string) {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.na</span>(time_string) <span class="sc">|</span> time_string <span class="sc">==</span> <span class="st">""</span>) {</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="cn">NA</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">grepl</span>(<span class="st">":"</span>, time_string)) {</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    mins <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(time_string, <span class="dv">1</span>, </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">regexpr</span>(<span class="st">":"</span>, time_string) <span class="sc">-</span> <span class="dv">1</span>))</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    secs <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">substr</span>(time_string, </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">regexpr</span>(<span class="st">":"</span>, time_string) <span class="sc">+</span> <span class="dv">1</span>,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">nchar</span>(time_string)))</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(mins <span class="sc">*</span> <span class="dv">60</span> <span class="sc">+</span> secs)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  } </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> {</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    numeric_val <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(time_string)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(numeric_val)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here is the function to scrap the data from the Trackside tables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mx_scraping <span class="ot">&lt;-</span> <span class="cf">function</span>(url, year, round, moto, track,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                        date, raceid, class, type) {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  webpage <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  lap_times_table <span class="ot">&lt;-</span> webpage <span class="sc">|&gt;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_nodes</span>(<span class="st">"table"</span>) <span class="sc">|&gt;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  lap_times <span class="ot">&lt;-</span> lap_times_table[[<span class="dv">8</span>]]</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  lap_times <span class="ot">&lt;-</span> lap_times <span class="sc">|&gt;</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="dv">3</span><span class="sc">:</span><span class="fu">n</span>())</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  lap <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"L"</span>, <span class="dv">1</span><span class="sc">:</span>(<span class="fu">ncol</span>(lap_times)<span class="sc">-</span><span class="dv">1</span>))</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  lap2 <span class="ot">&lt;-</span> <span class="fu">append</span>(<span class="st">"name"</span>, lap)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  lap_times_reduced <span class="ot">&lt;-</span> lap_times <span class="sc">|&gt;</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setNames</span>(lap2)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  check <span class="ot">&lt;-</span> lap_times_reduced<span class="sc">$</span>name[<span class="dv">1</span>]</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">str_detect</span>(check, <span class="st">"</span><span class="sc">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</span><span class="st">"</span>)) {</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>      lap_times_reduced <span class="ot">&lt;-</span> lap_times_reduced <span class="sc">|&gt;</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        <span class="fu">separate_wider_delim</span>(</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        name,</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">delim =</span> <span class="st">"</span><span class="sc">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</span><span class="st">"</span>,</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"name1"</span>, <span class="st">"name2"</span>),</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">too_few =</span> <span class="st">"align_start"</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">separate_wider_delim</span>(</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>        name1,</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">delim =</span> <span class="st">" - "</span>,</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>        <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"finish"</span>, <span class="st">"rider"</span>),</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>        <span class="at">too_few =</span> <span class="st">"align_start"</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>      <span class="fu">separate_wider_delim</span>(</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>        name2,</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>        <span class="at">delim =</span> <span class="st">"</span><span class="sc">\t\r\n\t\t\t\t\t</span><span class="st"> "</span>,</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>        <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"location"</span>, <span class="st">"number"</span>),</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">too_few =</span> <span class="st">"align_start"</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>      <span class="fu">drop_na</span>(rider) <span class="sc">|&gt;</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>        <span class="at">finish =</span> <span class="fu">seq_len</span>(<span class="fu">nrow</span>(lap_times_reduced)<span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>        <span class="at">number =</span> <span class="fu">str_remove</span>(number, <span class="st">"#"</span>)</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>  lap_times_reduced <span class="ot">&lt;-</span> lap_times_reduced <span class="sc">|&gt;</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">separate_wider_delim</span>(</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>      name,</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>      <span class="at">delim =</span> <span class="st">" - "</span>,</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"finish"</span>, <span class="st">"name"</span>),</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>      <span class="at">too_few =</span> <span class="st">"align_start"</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">|&gt;</span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">separate_wider_delim</span>(</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>      name,</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>      <span class="at">delim =</span> <span class="st">"#"</span>,</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">names =</span> <span class="fu">c</span>(<span class="st">"rider"</span>, <span class="st">"number"</span>)</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_na</span>(rider) <span class="sc">|&gt;</span></span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">rider =</span> <span class="fu">str_trim</span>(rider),</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>           <span class="at">finish =</span> <span class="fu">seq_len</span>(<span class="fu">nrow</span>(lap_times_reduced)<span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>           <span class="at">location =</span> <span class="cn">NA</span></span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>           )</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>  lap_times_reduced2 <span class="ot">&lt;-</span> lap_times_reduced</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (col <span class="cf">in</span> lap) {</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>    lap_times_reduced2 <span class="ot">&lt;-</span> lap_times_reduced2 <span class="sc">|&gt;</span></span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>      <span class="fu">separate_wider_delim</span>(</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>        col,</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>        <span class="at">delim =</span> <span class="st">"</span><span class="sc">\r\n\t\t\t\t\t</span><span class="st">"</span>,</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">names =</span> <span class="fu">c</span>(<span class="fu">paste0</span>(col, <span class="st">"_time"</span>), <span class="fu">paste0</span>(col, <span class="st">"_behind"</span>), </span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>                <span class="fu">paste0</span>(col, <span class="st">"_place"</span>)),</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>        <span class="at">too_few =</span> <span class="st">"align_start"</span></span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>  lap3 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"L"</span>, <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(lap), <span class="st">"_place"</span>)</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>  lap_times_reduced2 <span class="ot">&lt;-</span> lap_times_reduced2 <span class="sc">|&gt;</span></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="fu">across</span>(lap3, <span class="sc">~</span> <span class="fu">str_extract</span>(.x, <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>                  <span class="fu">as.numeric</span>(), <span class="at">.names =</span> <span class="st">"{col}"</span>))</span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>  lap4 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"L"</span>, <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(lap), <span class="st">"_time"</span>)</span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>  lap5 <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"L"</span>, <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(lap), <span class="st">"_behind"</span>)</span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>  final_lap_times <span class="ot">&lt;-</span> lap_times_reduced2</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> lap4) {</span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>    final_lap_times <span class="ot">&lt;-</span> final_lap_times <span class="sc">|&gt;</span> </span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="sc">!!</span><span class="fu">sym</span>(i) <span class="sc">:</span><span class="er">=</span> <span class="fu">str_trim</span>(<span class="sc">!!</span><span class="fu">sym</span>(i)),</span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a>             <span class="sc">!!</span><span class="fu">sym</span>(i) <span class="sc">:</span><span class="er">=</span> <span class="fu">sapply</span>(<span class="sc">!!</span><span class="fu">sym</span>(i), convert_to_seconds))</span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> lap5) {</span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a>    final_lap_times <span class="ot">&lt;-</span> final_lap_times <span class="sc">|&gt;</span> </span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="sc">!!</span><span class="fu">sym</span>(i) <span class="sc">:</span><span class="er">=</span> <span class="fu">str_trim</span>(<span class="sc">!!</span><span class="fu">sym</span>(i)),</span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a>             <span class="sc">!!</span><span class="fu">sym</span>(i) <span class="sc">:</span><span class="er">=</span> <span class="fu">sapply</span>(<span class="sc">!!</span><span class="fu">sym</span>(i), convert_to_seconds))</span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>  final_lap_times <span class="ot">&lt;-</span> final_lap_times <span class="sc">|&gt;</span></span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(</span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>      <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"L"</span>), </span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"lap"</span>, <span class="st">".value"</span>), </span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_pattern =</span> <span class="st">"L(</span><span class="sc">\\</span><span class="st">d+)_(time|behind|place)"</span>,</span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a>      <span class="at">names_repair =</span> <span class="st">"unique"</span></span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">lap =</span> <span class="fu">as.numeric</span>(lap),</span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>           <span class="at">year =</span> year,</span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>           <span class="at">round =</span> round,</span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>           <span class="at">moto =</span> moto,</span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a>           <span class="at">track =</span> track,</span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>           <span class="at">date =</span> <span class="fu">parse_date</span>(date, <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a>           <span class="at">race_id =</span> raceid,</span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a>           <span class="at">class =</span> class,</span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> type) <span class="sc">|&gt;</span></span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(points) <span class="sc">|&gt;</span></span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_na</span>(time)</span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(final_lap_times)</span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>From here, we can apply this function for every moto of each class.</p>
<p>450 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>rd11_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14641&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"Wild Rose MX"</span>, <span class="st">"06/02/2024"</span>, <span class="st">"450_2024_1"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>rd12_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14641&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"Wild Rose MX"</span>, <span class="st">"06/02/2024"</span>, <span class="st">"450_2024_2"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>rd21_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14683&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"Lethbridge MX"</span>, <span class="st">"06/09/2024"</span>, <span class="st">"450_2024_3"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>rd22_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14683&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="st">"Lethbridge MX"</span>, <span class="st">"06/09/2024"</span>, <span class="st">"450_2024_4"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>rd31_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14767&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="st">"Prairie Hill MX"</span>, <span class="st">"06/16/2024"</span>, <span class="st">"450_2024_5"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>rd32_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14767&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="st">"Prairie Hill MX"</span>, <span class="st">"06/16/2024"</span>, <span class="st">"450_2024_6"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>rd41_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14774&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="st">"Gopher Dunes"</span>, <span class="st">"07/07/2024"</span>, <span class="st">"450_2024_7"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>rd42_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14774&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="st">"Gopher Dunes"</span>, <span class="st">"07/07/2024"</span>, <span class="st">"450_2024_8"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>rd51_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14781&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="st">"Sand Del Lee MX101"</span>, <span class="st">"07/14/2024"</span>, <span class="st">"450_2024_9"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>rd52_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14781&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="st">"Sand Del Lee MX101"</span>, <span class="st">"07/14/2024"</span>, <span class="st">"450_2024_10"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>rd61_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14788&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="st">"Riverglade MX"</span>, <span class="st">"07/19/2024"</span>, <span class="st">"450_2024_11"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>rd62_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14788&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="st">"Riverglade MX"</span>, <span class="st">"07/19/2024"</span>, <span class="st">"450_2024_12"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>rd71_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14795&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">7</span>, <span class="dv">1</span>, <span class="st">"MX Deschambault"</span>, <span class="st">"07/26/2024"</span>, <span class="st">"450_2024_13"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>rd72_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14795&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">7</span>, <span class="dv">2</span>, <span class="st">"MX Deschambault"</span>, <span class="st">"07/26/2024"</span>, <span class="st">"450_2024_14"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>rd81_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14802&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="st">"Walton Raceway"</span>, <span class="st">"08/09/2024"</span>, <span class="st">"450_2024_15"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>rd82_2024_450 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=33&amp;e=14802&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">8</span>, <span class="dv">2</span>, <span class="st">"Walton Raceway"</span>, <span class="st">"08/09/2024"</span>, <span class="st">"450_2024_16"</span>, <span class="st">"450"</span>, <span class="st">"mx"</span>)</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>all_2024_450 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(rd11_2024_450, rd12_2024_450,</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>                          rd21_2024_450, rd22_2024_450,</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>                          rd31_2024_450, rd32_2024_450,</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>                          rd41_2024_450, rd42_2024_450,</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>                          rd51_2024_450, rd52_2024_450,</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>                          rd61_2024_450, rd62_2024_450,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>                          rd71_2024_450, rd72_2024_450,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>                          rd81_2024_450, rd82_2024_450)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>250 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>rd11_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14641&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"Wild Rose MX"</span>, <span class="st">"06/02/2024"</span>, <span class="st">"250_2024_1"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>rd12_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14641&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"Wild Rose MX"</span>, <span class="st">"06/02/2024"</span>, <span class="st">"250_2024_2"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>rd21_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14683&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"Lethbridge MX"</span>, <span class="st">"06/09/2024"</span>, <span class="st">"250_2024_3"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>rd22_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14683&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="st">"Lethbridge MX"</span>, <span class="st">"06/09/2024"</span>, <span class="st">"250_2024_4"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>rd31_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14767&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="st">"Prairie Hill MX"</span>, <span class="st">"06/16/2024"</span>, <span class="st">"250_2024_5"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>rd32_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14767&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="st">"Prairie Hill MX"</span>, <span class="st">"06/16/2024"</span>, <span class="st">"250_2024_6"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>rd41_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14774&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="st">"Gopher Dunes"</span>, <span class="st">"07/07/2024"</span>, <span class="st">"250_2024_7"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>rd42_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14774&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">4</span>, <span class="dv">2</span>, <span class="st">"Gopher Dunes"</span>, <span class="st">"07/07/2024"</span>, <span class="st">"250_2024_8"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>rd51_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14781&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="st">"Sand Del Lee MX101"</span>, <span class="st">"07/14/2024"</span>, <span class="st">"250_2024_9"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>rd52_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14781&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="st">"Sand Del Lee MX101"</span>, <span class="st">"07/14/2024"</span>, <span class="st">"250_2024_10"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>rd61_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14788&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="st">"Riverglade MX"</span>, <span class="st">"07/19/2024"</span>, <span class="st">"250_2024_11"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>rd62_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14788&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="st">"Riverglade MX"</span>, <span class="st">"07/19/2024"</span>, <span class="st">"250_2024_12"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>rd71_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14795&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">7</span>, <span class="dv">1</span>, <span class="st">"MX Deschambault"</span>, <span class="st">"07/26/2024"</span>, <span class="st">"250_2024_13"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>rd72_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14795&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">7</span>, <span class="dv">2</span>, <span class="st">"MX Deschambault"</span>, <span class="st">"07/26/2024"</span>, <span class="st">"250_2024_14"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>rd81_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14802&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="st">"Walton Raceway"</span>, <span class="st">"08/09/2024"</span>, <span class="st">"250_2024_15"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>rd82_2024_250 <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=32&amp;e=14802&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">8</span>, <span class="dv">2</span>, <span class="st">"Walton Raceway"</span>, <span class="st">"08/09/2024"</span>, <span class="st">"250_2024_16"</span>, <span class="st">"250"</span>, <span class="st">"mx"</span>)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>all_2024_250 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(rd11_2024_250, rd12_2024_250,</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>                          rd21_2024_250, rd22_2024_250,</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>                          rd31_2024_250, rd32_2024_250,</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>                          rd41_2024_250, rd42_2024_250,</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>                          rd51_2024_250, rd52_2024_250,</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>                          rd61_2024_250, rd62_2024_250,</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>                          rd71_2024_250, rd72_2024_250,</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>                          rd81_2024_250, rd82_2024_250)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>WMX class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>rd11_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=54&amp;e=14641&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="st">"Wild Rose MX"</span>, <span class="st">"06/02/2024"</span>, <span class="st">"wmx_2024_1"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>rd12_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=54&amp;e=14641&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"Wild Rose MX"</span>, <span class="st">"06/02/2024"</span>, <span class="st">"wmx_2024_2"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>rd21_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=54&amp;e=14683&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="st">"Lethbridge MX"</span>, <span class="st">"06/09/2024"</span>, <span class="st">"wmx_2024_3"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>rd22_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=54&amp;e=14683&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="st">"Lethbridge MX"</span>, <span class="st">"06/09/2024"</span>, <span class="st">"wmx_2024_4"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>rd31_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=54&amp;e=14767&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">3</span>, <span class="dv">1</span>, <span class="st">"Prairie Hill MX"</span>, <span class="st">"06/16/2024"</span>, <span class="st">"wmx_2024_5"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>rd32_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=54&amp;e=14767&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="st">"Prairie Hill MX"</span>, <span class="st">"06/16/2024"</span>, <span class="st">"wmx_2024_6"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that there are no WMX lap times for at Gopher Dunes so only scraping the results</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">"https://cmrc.tracksideresults.com/class.asp?s=&amp;c=58&amp;e=14774"</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>webpage <span class="ot">&lt;-</span> <span class="fu">read_html</span>(url)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>lap_times_table <span class="ot">&lt;-</span> webpage <span class="sc">|&gt;</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">"table"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>lap_times <span class="ot">&lt;-</span> lap_times_table[[<span class="dv">8</span>]]</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>rd4_2024_wmx <span class="ot">&lt;-</span> lap_times <span class="sc">|&gt;</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>() <span class="sc">|&gt;</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">2</span><span class="sc">:</span><span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>X1, <span class="sc">-</span>X3, <span class="sc">-</span>X7) <span class="sc">|&gt;</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">number =</span> X2,</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>         <span class="at">rider =</span> X4,</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>         <span class="at">moto1_finish =</span> X5,</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>         <span class="at">moto2_finish =</span> X6) <span class="sc">|&gt;</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(moto1_finish, moto2_finish), </span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"moto"</span>, </span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"finish"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">moto =</span> <span class="fu">str_extract</span>(moto, <span class="st">"</span><span class="sc">\\</span><span class="st">d+"</span>),</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>         <span class="at">finish =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"(st|nd|rd|th)$"</span>, <span class="st">""</span>, finish)),</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>         <span class="at">number =</span> <span class="fu">str_remove</span>(number, <span class="st">"#"</span>)</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">|&gt;</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lap =</span> <span class="cn">NA</span>,</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>         <span class="at">time =</span> <span class="cn">NA</span>,</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">behind =</span> <span class="cn">NA</span>,</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>         <span class="at">place =</span> <span class="cn">NA</span>,</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">year =</span> <span class="dv">2024</span>,</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>         <span class="at">moto =</span> <span class="fu">as.numeric</span>(moto),</span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">round =</span> <span class="dv">4</span>,</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>         <span class="at">track =</span> <span class="st">"Gopher Dunes"</span>,</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">parse_date</span>(<span class="st">"07/07/2024"</span>, <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>         <span class="at">race_id =</span> <span class="fu">ifelse</span>(moto <span class="sc">==</span> <span class="dv">1</span>, <span class="st">"wmx_2024_7"</span>, <span class="st">"wmx_2024_8"</span>),</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>         <span class="at">class =</span> <span class="st">"WMX"</span>,</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>         <span class="at">type =</span> <span class="st">"mx"</span>) <span class="sc">|&gt;</span></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(points) <span class="sc">|&gt;</span></span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(finish, rider, number, lap, time, behind, place,</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>         year, round, moto, track, date, race_id, class, type, points) <span class="sc">|&gt;</span></span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rider =</span> <span class="fu">str_trim</span>(rider) <span class="sc">|&gt;</span> <span class="fu">str_squish</span>())</span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>rd51_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=58&amp;e=14781&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">5</span>, <span class="dv">1</span>, <span class="st">"Sand Del Lee MX101"</span>, <span class="st">"07/14/2024"</span>, <span class="st">"wmx_2024_9"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>rd52_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=58&amp;e=14781&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">5</span>, <span class="dv">2</span>, <span class="st">"Sand Del Lee MX101"</span>, <span class="st">"07/14/2024"</span>, <span class="st">"wmx_2024_10"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>rd61_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=58&amp;e=14788&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="st">"Riverglade MX"</span>, <span class="st">"07/19/2024"</span>, <span class="st">"wmx_2024_11"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>rd62_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=58&amp;e=14788&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="st">"Riverglade MX"</span>, <span class="st">"07/19/2024"</span>, <span class="st">"wmx_2024_12"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>rd71_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=58&amp;e=14795&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">7</span>, <span class="dv">1</span>, <span class="st">"MX Deschambault"</span>, <span class="st">"07/26/2024"</span>, <span class="st">"wmx_2024_13"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>rd72_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=58&amp;e=14795&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">7</span>, <span class="dv">2</span>, <span class="st">"MX Deschambault"</span>, <span class="st">"07/26/2024"</span>, <span class="st">"wmx_2024_14"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>rd81_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=83&amp;e=14802&amp;rn=1&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="st">"Walton Raceway"</span>, <span class="st">"08/09/2024"</span>, <span class="st">"wmx_2024_15"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>rd82_2024_wmx <span class="ot">&lt;-</span> <span class="fu">mx_scraping</span>(<span class="st">"https://cmrc.tracksideresults.com/laptimes.asp?s=&amp;c=83&amp;e=14802&amp;rn=2&amp;rt=M"</span>, <span class="dv">2024</span>, <span class="dv">8</span>, <span class="dv">2</span>, <span class="st">"Walton Raceway"</span>, <span class="st">"08/09/2024"</span>, <span class="st">"wmx_2024_16"</span>, <span class="st">"WMX"</span>, <span class="st">"mx"</span>)</span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>all_2024_wmx <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(rd11_2024_wmx, rd12_2024_wmx,</span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>                          rd21_2024_wmx, rd22_2024_wmx,</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>                          rd31_2024_wmx, rd32_2024_wmx,</span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>                          rd4_2024_wmx,</span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>                          rd51_2024_wmx, rd52_2024_wmx,</span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a>                          rd61_2024_wmx, rd62_2024_wmx,</span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>                          rd71_2024_wmx, rd72_2024_wmx,</span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>                          rd81_2024_wmx, rd82_2024_wmx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Merge all three classes and then writing to a csv to save.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>all_2024 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(all_2024_450, all_2024_250, all_2024_wmx)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(all_2024,<span class="st">"all_2024.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Join in rider information for a more complete dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>all_2024_cleaned <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"all_2024_cleaned.csv"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="ot">&lt;-</span> all_2024_cleaned <span class="sc">|&gt;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cross_join</span>(riders) <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(rider, name) <span class="sc">&amp;</span> class.x <span class="sc">==</span> class.y <span class="sc">&amp;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>           year.x <span class="sc">==</span> year.y) <span class="sc">|&gt;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, location, number, finish, lap, time, behind, place,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>         year.x, round, moto, track, date, race_id, class.x, </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>         type, points) <span class="sc">|&gt;</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">rider =</span> name, <span class="at">year =</span> year.x, <span class="at">class =</span> class.x) <span class="sc">|&gt;</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(date))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(all_2024_complete,<span class="st">"all_2024_complete.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="analysis" class="level1">
<h1>4 Analysis</h1>
<section id="demographic-summary" class="level2">
<h2 class="anchored" data-anchor-id="demographic-summary">4.1 Demographic summary</h2>
<p>Distributions of home locations:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(class, rider, location) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(class, location) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>(),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> class,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> n) <span class="sc">|&gt;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span> location <span class="sc">==</span> <span class="st">"unknown"</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">250</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">250</span><span class="st">`</span>), <span class="dv">0</span>, <span class="st">`</span><span class="at">250</span><span class="st">`</span>),</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">WMX =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(WMX), <span class="dv">0</span>, WMX),</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">450</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">450</span><span class="st">`</span>), <span class="dv">0</span>, <span class="st">`</span><span class="at">450</span><span class="st">`</span>)) <span class="sc">|&gt;</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(location, <span class="st">`</span><span class="at">450</span><span class="st">`</span>, <span class="st">`</span><span class="at">250</span><span class="st">`</span>, WMX) <span class="sc">|&gt;</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">location =</span> <span class="st">"Location"</span>,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>             <span class="st">`</span><span class="at">450</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"450"</span>,</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>             <span class="st">`</span><span class="at">250</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"250"</span>,</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">WMX =</span> <span class="st">"WMX"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="hxxzssapsm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hxxzssapsm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hxxzssapsm thead, #hxxzssapsm tbody, #hxxzssapsm tfoot, #hxxzssapsm tr, #hxxzssapsm td, #hxxzssapsm th {
  border-style: none;
}

#hxxzssapsm p {
  margin: 0;
  padding: 0;
}

#hxxzssapsm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hxxzssapsm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hxxzssapsm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hxxzssapsm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hxxzssapsm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hxxzssapsm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hxxzssapsm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hxxzssapsm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hxxzssapsm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hxxzssapsm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hxxzssapsm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hxxzssapsm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hxxzssapsm .gt_spanner_row {
  border-bottom-style: hidden;
}

#hxxzssapsm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hxxzssapsm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hxxzssapsm .gt_from_md > :first-child {
  margin-top: 0;
}

#hxxzssapsm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hxxzssapsm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hxxzssapsm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hxxzssapsm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hxxzssapsm .gt_row_group_first td {
  border-top-width: 2px;
}

#hxxzssapsm .gt_row_group_first th {
  border-top-width: 2px;
}

#hxxzssapsm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hxxzssapsm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hxxzssapsm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hxxzssapsm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hxxzssapsm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hxxzssapsm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hxxzssapsm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hxxzssapsm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hxxzssapsm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hxxzssapsm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hxxzssapsm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hxxzssapsm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hxxzssapsm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hxxzssapsm .gt_left {
  text-align: left;
}

#hxxzssapsm .gt_center {
  text-align: center;
}

#hxxzssapsm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hxxzssapsm .gt_font_normal {
  font-weight: normal;
}

#hxxzssapsm .gt_font_bold {
  font-weight: bold;
}

#hxxzssapsm .gt_font_italic {
  font-style: italic;
}

#hxxzssapsm .gt_super {
  font-size: 65%;
}

#hxxzssapsm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hxxzssapsm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hxxzssapsm .gt_indent_1 {
  text-indent: 5px;
}

#hxxzssapsm .gt_indent_2 {
  text-indent: 10px;
}

#hxxzssapsm .gt_indent_3 {
  text-indent: 15px;
}

#hxxzssapsm .gt_indent_4 {
  text-indent: 20px;
}

#hxxzssapsm .gt_indent_5 {
  text-indent: 25px;
}

#hxxzssapsm .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#hxxzssapsm div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="location" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Location</th>
<th id="a450" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">450</th>
<th id="a250" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">250</th>
<th id="WMX" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">WMX</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="location">Ontario</td>
<td class="gt_row gt_right" headers="450">12</td>
<td class="gt_row gt_right" headers="250">20</td>
<td class="gt_row gt_right" headers="WMX">14</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Quebec</td>
<td class="gt_row gt_right" headers="450">10</td>
<td class="gt_row gt_right" headers="250">11</td>
<td class="gt_row gt_right" headers="WMX">14</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">British Columbia</td>
<td class="gt_row gt_right" headers="450">9</td>
<td class="gt_row gt_right" headers="250">13</td>
<td class="gt_row gt_right" headers="WMX">4</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Alberta</td>
<td class="gt_row gt_right" headers="450">6</td>
<td class="gt_row gt_right" headers="250">8</td>
<td class="gt_row gt_right" headers="WMX">8</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Manitoba</td>
<td class="gt_row gt_right" headers="450">2</td>
<td class="gt_row gt_right" headers="250">8</td>
<td class="gt_row gt_right" headers="WMX">7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Washington</td>
<td class="gt_row gt_right" headers="450">4</td>
<td class="gt_row gt_right" headers="250">5</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Saskatchewan</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">4</td>
<td class="gt_row gt_right" headers="WMX">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Michigan</td>
<td class="gt_row gt_right" headers="450">4</td>
<td class="gt_row gt_right" headers="250">2</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Nova Scotia</td>
<td class="gt_row gt_right" headers="450">3</td>
<td class="gt_row gt_right" headers="250">2</td>
<td class="gt_row gt_right" headers="WMX">4</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Connecticut</td>
<td class="gt_row gt_right" headers="450">3</td>
<td class="gt_row gt_right" headers="250">3</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Pennsylvania</td>
<td class="gt_row gt_right" headers="450">2</td>
<td class="gt_row gt_right" headers="250">3</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Wisconsin</td>
<td class="gt_row gt_right" headers="450">3</td>
<td class="gt_row gt_right" headers="250">3</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">New York</td>
<td class="gt_row gt_right" headers="450">3</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Unknown</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Florida</td>
<td class="gt_row gt_right" headers="450">2</td>
<td class="gt_row gt_right" headers="250">2</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Illinois</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">2</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Massachusetts</td>
<td class="gt_row gt_right" headers="450">2</td>
<td class="gt_row gt_right" headers="250">2</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Georgia</td>
<td class="gt_row gt_right" headers="450">2</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Nevada</td>
<td class="gt_row gt_right" headers="450">2</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">New Brunswick</td>
<td class="gt_row gt_right" headers="450">2</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Wyoming</td>
<td class="gt_row gt_right" headers="450">2</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Australia</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">California</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Idaho</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Iowa</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Minnesota</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">New Hampshire</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">New Mexico</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">North Carolina</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">South Carolina</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Tennessee</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">United Kingdom</td>
<td class="gt_row gt_right" headers="450">0</td>
<td class="gt_row gt_right" headers="250">1</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Denmark</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">France</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">New Zealand</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">North Dakota</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="location">Texas</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="location">Utah</td>
<td class="gt_row gt_right" headers="450">1</td>
<td class="gt_row gt_right" headers="250">0</td>
<td class="gt_row gt_right" headers="WMX">0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="passing-probabilities" class="level2">
<h2 class="anchored" data-anchor-id="passing-probabilities">4.2 Passing probabilities</h2>
<p><strong>Q1</strong>: What is the likelihood to go from one position to any other position on any given lap?</p>
<p>Letâ€™s start with the 450 class.</p>
<p>Formatting the empirical data:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>all_2024_450_add <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>all_2024_450_add2 <span class="ot">&lt;-</span> all_2024_450_add <span class="sc">|&gt;</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>all_2024_450_add <span class="ot">&lt;-</span> all_2024_450_add <span class="sc">|&gt;</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_450_add2) <span class="sc">|&gt;</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Creating the transition matrix:</p>
<ol type="1">
<li>Individual place positions - We have a 30 x 30 matrix since 450 motos in 2024 included a maximum of 30 riders.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>cats <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>matrix450_1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows) {</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols) {</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_450_add <span class="sc">|&gt;</span> </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> place_next <span class="sc">==</span> j)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_450_add <span class="sc">|&gt;</span> </span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> place_next <span class="sc">==</span> j) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    matrix450_1[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix450_1) <span class="ot">&lt;-</span> cats</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix450_1) <span class="ot">&lt;-</span> cats</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(matrix450_1, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1    2    3    4    5    6    7    8    9   10   11   12   13   14   15
1  0.96 0.03 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0.05 0.90 0.04 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0.00 0.05 0.84 0.08 0.01 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0.00 0.01 0.11 0.78 0.07 0.03 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
5  0.00 0.00 0.00 0.13 0.77 0.06 0.01 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00
6  0.00 0.00 0.00 0.01 0.12 0.77 0.07 0.02 0.01 0.00 0.00 0.00 0.00 0.00 0.00
7  0.00 0.00 0.00 0.01 0.03 0.09 0.77 0.08 0.01 0.00 0.00 0.00 0.00 0.00 0.01
8  0.00 0.00 0.00 0.00 0.00 0.05 0.10 0.75 0.09 0.01 0.00 0.00 0.00 0.00 0.00
9  0.00 0.00 0.00 0.00 0.00 0.00 0.03 0.12 0.72 0.09 0.03 0.02 0.00 0.00 0.00
10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.12 0.77 0.06 0.02 0.01 0.00 0.00
11 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.03 0.10 0.70 0.10 0.03 0.01 0.01
12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.02 0.17 0.67 0.10 0.03 0.00
13 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.16 0.65 0.10 0.03
14 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.01 0.02 0.18 0.62 0.11
15 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.02 0.18 0.60
16 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.04 0.18
17 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.05
18 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.02
19 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01
20 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
21 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
22 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
23 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
24 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
25 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
26 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
27 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
28 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
29 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
30 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
     16   17   18   19   20   21   22   23   24   25   26   27   28   29   30
1  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
5  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
6  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
7  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
8  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
9  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
11 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
13 0.01 0.02 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
14 0.03 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
15 0.12 0.04 0.00 0.00 0.00 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
16 0.62 0.10 0.01 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.00 0.00
17 0.14 0.64 0.13 0.01 0.00 0.00 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
18 0.05 0.16 0.55 0.14 0.02 0.01 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00
19 0.01 0.02 0.23 0.58 0.10 0.02 0.00 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00
20 0.00 0.00 0.05 0.19 0.58 0.10 0.02 0.01 0.00 0.00 0.01 0.00 0.00 0.00 0.00
21 0.01 0.00 0.01 0.03 0.21 0.57 0.09 0.03 0.02 0.00 0.00 0.00 0.00 0.01 0.00
22 0.00 0.00 0.01 0.01 0.06 0.18 0.56 0.11 0.02 0.01 0.01 0.00 0.00 0.00 0.00
23 0.00 0.00 0.00 0.01 0.01 0.07 0.23 0.54 0.09 0.01 0.01 0.01 0.01 0.00 0.00
24 0.00 0.00 0.00 0.00 0.01 0.02 0.03 0.23 0.52 0.10 0.04 0.03 0.00 0.00 0.00
25 0.00 0.00 0.00 0.00 0.01 0.00 0.03 0.03 0.22 0.61 0.07 0.03 0.00 0.02 0.00
26 0.00 0.00 0.00 0.00 0.00 0.00 0.02 0.03 0.05 0.20 0.59 0.07 0.03 0.01 0.01
27 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.05 0.05 0.20 0.54 0.13 0.03 0.01
28 0.00 0.01 0.00 0.00 0.00 0.01 0.00 0.01 0.02 0.01 0.09 0.23 0.55 0.05 0.01
29 0.00 0.00 0.00 0.00 0.00 0.02 0.01 0.00 0.00 0.01 0.04 0.10 0.21 0.58 0.02
30 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.03 0.00 0.12 0.19 0.66</code></pre>
</div>
</div>
<p>We can see that there is a 96% chance of staying in first and a 3% chance of falling from first to second on any given lap.</p>
<ol start="2" type="1">
<li>Grouped place positions - The 30 x 30 matrix can be overwhelming. So, letâ€™s group the place positions and apply the same method. Here are the group we will use: 1-5, 6-10, 11-15, 16-20, 21-25, 26-30.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>all_2024_450_placecat <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"21-25"</span>,<span class="st">"26-30"</span>))))),</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>         <span class="at">place_next_cat =</span> <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>)))))) <span class="sc">|&gt;</span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>all_2024_450_placecat2 <span class="ot">&lt;-</span> all_2024_450_placecat <span class="sc">|&gt;</span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat) <span class="sc">|&gt;</span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>all_2024_450_placecat <span class="ot">&lt;-</span> all_2024_450_placecat <span class="sc">|&gt;</span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_450_placecat2) <span class="sc">|&gt;</span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>rows2 <span class="ot">=</span> <span class="dv">6</span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>cols2 <span class="ot">=</span> <span class="dv">6</span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>cats2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>)</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>matrix450_2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows2, <span class="at">ncol =</span> cols2)</span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows2) {</span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols2) {</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_450_placecat <span class="sc">|&gt;</span></span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats2[j])</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_450_placecat <span class="sc">|&gt;</span> </span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats2[j]) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a>    matrix450_2[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix450_2) <span class="ot">&lt;-</span> cats2</span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix450_2) <span class="ot">&lt;-</span> cats2</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>tm_450 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(matrix450_2))</span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tm_450, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> Freq)) <span class="sc">+</span></span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"#da3a32"</span>) <span class="sc">+</span></span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Freq,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Passing Probabilities"</span>,</span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"2024 Season - 450 Class"</span>,</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"From Place"</span>, </span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"To Place"</span>, <span class="at">fill =</span> <span class="st">"Probability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Letâ€™s apply the same analysis to the 250 class. The only difference will be that 250 motos can include a maximum of 40 riders so the groups will be 1-5, 6-10, 11-15, 16-20, 21-25, 26-30, 31-35, 36-40.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>all_2024_250_add <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>all_2024_250_add2 <span class="ot">&lt;-</span> all_2024_250_add <span class="sc">|&gt;</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>all_2024_250_add <span class="ot">&lt;-</span> all_2024_250_add <span class="sc">|&gt;</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_250_add2) <span class="sc">|&gt;</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">=</span> <span class="dv">40</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">=</span> <span class="dv">40</span></span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>cats <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">40</span></span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>matrix250_1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows) {</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols) {</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_250_add <span class="sc">|&gt;</span> </span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> place_next <span class="sc">==</span> j)</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_250_add <span class="sc">|&gt;</span> </span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> place_next <span class="sc">==</span> j) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>    matrix250_1[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix250_1) <span class="ot">&lt;-</span> cats</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix250_1) <span class="ot">&lt;-</span> cats</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(matrix250_1, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1    2    3    4    5    6    7    8    9   10   11   12   13   14   15
1  0.97 0.03 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0.04 0.89 0.04 0.01 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0.00 0.07 0.87 0.04 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0.00 0.01 0.08 0.79 0.08 0.02 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
5  0.00 0.00 0.01 0.14 0.70 0.10 0.04 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00
6  0.00 0.00 0.00 0.02 0.15 0.69 0.09 0.03 0.00 0.00 0.01 0.00 0.00 0.00 0.00
7  0.00 0.00 0.00 0.00 0.05 0.17 0.64 0.09 0.01 0.02 0.00 0.00 0.00 0.00 0.00
8  0.00 0.00 0.00 0.00 0.00 0.01 0.17 0.67 0.07 0.02 0.02 0.00 0.01 0.00 0.00
9  0.00 0.00 0.00 0.00 0.00 0.00 0.04 0.14 0.68 0.10 0.01 0.01 0.00 0.00 0.01
10 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.03 0.18 0.60 0.13 0.04 0.00 0.00 0.00
11 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.03 0.02 0.18 0.56 0.15 0.03 0.01 0.00
12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.03 0.06 0.18 0.55 0.13 0.01 0.01
13 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.05 0.16 0.57 0.09 0.05
14 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.03 0.04 0.19 0.61 0.08
15 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.03 0.04 0.19 0.54
16 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.00 0.01 0.06 0.21
17 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.01 0.01 0.02 0.07
18 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.02
19 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01
20 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.01 0.01
21 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00
22 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
23 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00
24 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
25 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
26 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
27 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
28 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
29 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
30 0.00 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
31 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00
32 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
33 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
34 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
35 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
36 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
37 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
38 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
39 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
40 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
     16   17   18   19   20   21   22   23   24   25   26   27   28   29   30
1  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
5  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
6  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
7  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
8  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
9  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
11 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
12 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
13 0.01 0.02 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
14 0.02 0.01 0.01 0.01 0.01 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
15 0.12 0.04 0.01 0.01 0.00 0.01 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
16 0.52 0.14 0.04 0.01 0.00 0.00 0.00 0.01 0.00 0.01 0.00 0.00 0.00 0.00 0.00
17 0.25 0.53 0.09 0.00 0.02 0.00 0.01 0.00 0.01 0.00 0.01 0.00 0.01 0.00 0.00
18 0.03 0.22 0.56 0.10 0.04 0.01 0.01 0.01 0.00 0.00 0.00 0.01 0.00 0.01 0.00
19 0.03 0.04 0.21 0.55 0.09 0.03 0.01 0.02 0.00 0.00 0.00 0.01 0.00 0.01 0.00
20 0.01 0.01 0.06 0.21 0.54 0.12 0.01 0.02 0.00 0.01 0.00 0.00 0.00 0.00 0.00
21 0.00 0.01 0.01 0.09 0.16 0.55 0.11 0.03 0.01 0.01 0.01 0.01 0.00 0.01 0.00
22 0.01 0.00 0.01 0.03 0.09 0.18 0.49 0.11 0.02 0.01 0.03 0.00 0.00 0.00 0.01
23 0.00 0.00 0.01 0.01 0.03 0.09 0.19 0.46 0.14 0.02 0.03 0.01 0.01 0.01 0.01
24 0.00 0.00 0.00 0.01 0.02 0.02 0.11 0.23 0.41 0.12 0.00 0.03 0.01 0.01 0.02
25 0.00 0.00 0.00 0.00 0.01 0.00 0.03 0.07 0.26 0.44 0.10 0.02 0.02 0.01 0.01
26 0.00 0.00 0.00 0.00 0.01 0.01 0.01 0.02 0.08 0.24 0.48 0.08 0.03 0.01 0.02
27 0.00 0.00 0.00 0.00 0.01 0.01 0.01 0.02 0.03 0.11 0.17 0.48 0.09 0.04 0.01
28 0.00 0.00 0.01 0.00 0.00 0.00 0.01 0.02 0.01 0.03 0.15 0.16 0.48 0.08 0.03
29 0.00 0.00 0.00 0.00 0.01 0.00 0.00 0.01 0.02 0.01 0.02 0.11 0.17 0.45 0.12
30 0.00 0.00 0.00 0.01 0.00 0.00 0.01 0.00 0.01 0.01 0.01 0.05 0.14 0.21 0.37
31 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.01 0.01 0.01 0.02 0.12 0.24
32 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.00 0.00 0.00 0.01 0.03 0.02 0.11
33 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.00 0.01 0.00 0.01 0.03
34 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.02
35 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.01 0.01
36 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.02
37 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.00 0.00
38 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.00 0.00
39 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.03 0.00
40 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
     31   32   33   34   35   36   37   38   39   40
1  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
5  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
6  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
7  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
8  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
9  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
11 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
13 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
14 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
15 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
16 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.00 0.00 0.00
17 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
18 0.00 0.00 0.00 0.00 0.01 0.00 0.01 0.01 0.00 0.00
19 0.01 0.00 0.00 0.00 0.01 0.00 0.00 0.00 0.00 0.00
20 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
21 0.01 0.00 0.01 0.00 0.00 0.01 0.00 0.00 0.00 0.00
22 0.00 0.01 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00
23 0.01 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.00 0.00
24 0.01 0.02 0.00 0.00 0.00 0.00 0.01 0.00 0.01 0.00
25 0.00 0.00 0.01 0.01 0.01 0.00 0.01 0.00 0.00 0.01
26 0.01 0.00 0.01 0.00 0.00 0.00 0.01 0.00 0.00 0.00
27 0.02 0.01 0.00 0.01 0.00 0.00 0.00 0.00 0.01 0.01
28 0.01 0.01 0.01 0.01 0.01 0.00 0.01 0.00 0.00 0.00
29 0.04 0.00 0.01 0.01 0.01 0.01 0.01 0.00 0.00 0.00
30 0.08 0.05 0.03 0.01 0.01 0.01 0.00 0.00 0.00 0.00
31 0.42 0.09 0.03 0.01 0.01 0.01 0.01 0.01 0.00 0.00
32 0.22 0.40 0.11 0.04 0.02 0.03 0.00 0.00 0.01 0.00
33 0.13 0.23 0.43 0.09 0.03 0.01 0.02 0.01 0.01 0.00
34 0.04 0.11 0.21 0.43 0.10 0.06 0.02 0.01 0.00 0.00
35 0.01 0.05 0.10 0.27 0.41 0.05 0.05 0.01 0.01 0.01
36 0.02 0.05 0.04 0.11 0.21 0.36 0.16 0.02 0.02 0.00
37 0.00 0.01 0.02 0.06 0.11 0.33 0.36 0.06 0.01 0.02
38 0.01 0.00 0.01 0.06 0.06 0.12 0.19 0.49 0.03 0.01
39 0.00 0.00 0.03 0.00 0.07 0.03 0.07 0.30 0.45 0.03
40 0.00 0.00 0.00 0.00 0.00 0.05 0.00 0.32 0.21 0.42</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>all_2024_250_placecat <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span>) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>,</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">35</span>,</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"31-35"</span>, <span class="st">"36-40"</span>))))))),</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">place_next_cat =</span> <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, </span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">35</span>, <span class="st">"31-35"</span>, <span class="st">"36-40"</span>)))))))) <span class="sc">|&gt;</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>all_2024_250_placecat2 <span class="ot">&lt;-</span> all_2024_250_placecat <span class="sc">|&gt;</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat) <span class="sc">|&gt;</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a>all_2024_250_placecat <span class="ot">&lt;-</span> all_2024_250_placecat <span class="sc">|&gt;</span></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_250_placecat2) <span class="sc">|&gt;</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a>rows2 <span class="ot">=</span> <span class="dv">8</span></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>cols2 <span class="ot">=</span> <span class="dv">8</span></span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>cats2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>,</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>           <span class="st">"31-35"</span>, <span class="st">"36-40"</span>)</span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a>matrix250_2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows2, <span class="at">ncol =</span> cols2)</span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows2) {</span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols2) {</span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_250_placecat <span class="sc">|&gt;</span></span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats2[j])</span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_250_placecat <span class="sc">|&gt;</span> </span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats2[j]) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a>    matrix250_2[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix250_2) <span class="ot">&lt;-</span> cats2</span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix250_2) <span class="ot">&lt;-</span> cats2</span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a>tm_250 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(matrix250_2))</span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tm_250, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> Freq)) <span class="sc">+</span></span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"#da3a32"</span>) <span class="sc">+</span></span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Freq,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Passing Probabilities"</span>,</span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"2024 Season - 250 Class"</span>,</span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"From Place"</span>, </span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"To Place"</span>, <span class="at">fill =</span> <span class="st">"Probability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Lastly, letâ€™s apply the same analysis to the WMX class.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_add <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span>) <span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_add2 <span class="ot">&lt;-</span> all_2024_wmx_add <span class="sc">|&gt;</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_add <span class="ot">&lt;-</span> all_2024_wmx_add <span class="sc">|&gt;</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_wmx_add2) <span class="sc">|&gt;</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>cats <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>matrixwmx_1 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows) {</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols) {</span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_wmx_add <span class="sc">|&gt;</span> </span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> place_next <span class="sc">==</span> j)</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_wmx_add <span class="sc">|&gt;</span> </span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> place_next <span class="sc">==</span> j) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>    matrixwmx_1[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrixwmx_1) <span class="ot">&lt;-</span> cats</span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrixwmx_1) <span class="ot">&lt;-</span> cats</span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(matrixwmx_1, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16
1  1 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0 0.92 0.06 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0 0.05 0.85 0.06 0.03 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0 0.03 0.07 0.75 0.10 0.01 0.01 0.00 0.01 0.00 0.00 0.01 0.00 0.00 0.00 0.00
5  0 0.00 0.01 0.13 0.77 0.09 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
6  0 0.00 0.00 0.04 0.10 0.68 0.14 0.01 0.01 0.00 0.01 0.00 0.00 0.01 0.00 0.00
7  0 0.00 0.00 0.01 0.01 0.19 0.62 0.12 0.01 0.00 0.00 0.00 0.00 0.01 0.00 0.00
8  0 0.00 0.00 0.00 0.00 0.03 0.16 0.66 0.11 0.03 0.00 0.01 0.00 0.00 0.00 0.00
9  0 0.00 0.00 0.00 0.00 0.00 0.04 0.12 0.66 0.10 0.05 0.00 0.01 0.00 0.00 0.00
10 0 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.09 0.66 0.12 0.03 0.03 0.01 0.00 0.00
11 0 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.07 0.13 0.58 0.11 0.05 0.03 0.00 0.00
12 0 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.03 0.07 0.16 0.52 0.14 0.03 0.01 0.03
13 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.00 0.07 0.24 0.53 0.12 0.00 0.03
14 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.01 0.01 0.06 0.13 0.60 0.12 0.03
15 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.20 0.62 0.06
16 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.03 0.03 0.03 0.08 0.63
17 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.11 0.17
18 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.03
19 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.03
20 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.03 0.00
21 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.04 0.00 0.04 0.00
22 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
23 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.12 0.00 0.00 0.00
24 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.07 0.00 0.00 0.00 0.00
25 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
26 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
27 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
28 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.12 0.00
29 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
30 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
     17   18   19   20   21   22   23   24   25   26   27   28   29 30
1  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
2  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
3  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
4  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
5  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
6  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
7  0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
8  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
9  0.00 0.00 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
11 0.00 0.00 0.01 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
13 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
14 0.00 0.03 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
15 0.00 0.02 0.00 0.02 0.00 0.02 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
16 0.11 0.05 0.00 0.03 0.03 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
17 0.54 0.11 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
18 0.27 0.47 0.07 0.10 0.03 0.00 0.03 0.00 0.00 0.00 0.00 0.00 0.00  0
19 0.00 0.13 0.57 0.13 0.03 0.03 0.00 0.03 0.00 0.00 0.00 0.00 0.03  0
20 0.07 0.07 0.13 0.43 0.13 0.07 0.07 0.00 0.00 0.00 0.00 0.00 0.00  0
21 0.00 0.04 0.04 0.14 0.57 0.11 0.00 0.00 0.04 0.00 0.00 0.00 0.00  0
22 0.00 0.00 0.04 0.12 0.16 0.60 0.00 0.04 0.00 0.00 0.00 0.04 0.00  0
23 0.00 0.00 0.00 0.06 0.06 0.12 0.50 0.12 0.00 0.00 0.00 0.00 0.00  0
24 0.07 0.00 0.00 0.00 0.00 0.07 0.14 0.43 0.07 0.07 0.07 0.00 0.00  0
25 0.00 0.00 0.08 0.00 0.00 0.00 0.08 0.17 0.58 0.08 0.00 0.00 0.00  0
26 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.38 0.25 0.38 0.00 0.00  0
27 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.25 0.50 0.25 0.00  0
28 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.25 0.00 0.38 0.25  0
29 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.12 0.00 0.00 0.00 0.25 0.62  0
30 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  1</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_placecat <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"21-25"</span>,<span class="st">"26-30"</span>))))),</span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>         <span class="at">place_next_cat =</span> <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>)))))) <span class="sc">|&gt;</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_placecat2 <span class="ot">&lt;-</span> all_2024_wmx_placecat <span class="sc">|&gt;</span></span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat) <span class="sc">|&gt;</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb22-31"><a href="#cb22-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb22-32"><a href="#cb22-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-33"><a href="#cb22-33" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_placecat <span class="ot">&lt;-</span> all_2024_wmx_placecat <span class="sc">|&gt;</span></span>
<span id="cb22-34"><a href="#cb22-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_wmx_placecat2) <span class="sc">|&gt;</span></span>
<span id="cb22-35"><a href="#cb22-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb22-36"><a href="#cb22-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-37"><a href="#cb22-37" aria-hidden="true" tabindex="-1"></a>rows2 <span class="ot">=</span> <span class="dv">6</span></span>
<span id="cb22-38"><a href="#cb22-38" aria-hidden="true" tabindex="-1"></a>cols2 <span class="ot">=</span> <span class="dv">6</span></span>
<span id="cb22-39"><a href="#cb22-39" aria-hidden="true" tabindex="-1"></a>cats2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>)</span>
<span id="cb22-40"><a href="#cb22-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-41"><a href="#cb22-41" aria-hidden="true" tabindex="-1"></a>matrixwmx_2 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows2, <span class="at">ncol =</span> cols2)</span>
<span id="cb22-42"><a href="#cb22-42" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows2) {</span>
<span id="cb22-43"><a href="#cb22-43" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols2) {</span>
<span id="cb22-44"><a href="#cb22-44" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_wmx_placecat <span class="sc">|&gt;</span></span>
<span id="cb22-45"><a href="#cb22-45" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats2[j])</span>
<span id="cb22-46"><a href="#cb22-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb22-47"><a href="#cb22-47" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb22-48"><a href="#cb22-48" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb22-49"><a href="#cb22-49" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_wmx_placecat <span class="sc">|&gt;</span> </span>
<span id="cb22-50"><a href="#cb22-50" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats2[j]) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb22-51"><a href="#cb22-51" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb22-52"><a href="#cb22-52" aria-hidden="true" tabindex="-1"></a>    matrixwmx_2[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb22-53"><a href="#cb22-53" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb22-54"><a href="#cb22-54" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb22-55"><a href="#cb22-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-56"><a href="#cb22-56" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrixwmx_2) <span class="ot">&lt;-</span> cats2</span>
<span id="cb22-57"><a href="#cb22-57" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrixwmx_2) <span class="ot">&lt;-</span> cats2</span>
<span id="cb22-58"><a href="#cb22-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-59"><a href="#cb22-59" aria-hidden="true" tabindex="-1"></a>tm_wmx <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(matrixwmx_2))</span>
<span id="cb22-60"><a href="#cb22-60" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(tm_wmx, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> Freq)) <span class="sc">+</span></span>
<span id="cb22-61"><a href="#cb22-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb22-62"><a href="#cb22-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"#da3a32"</span>) <span class="sc">+</span></span>
<span id="cb22-63"><a href="#cb22-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Freq,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb22-64"><a href="#cb22-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Passing Probabilities"</span>,</span>
<span id="cb22-65"><a href="#cb22-65" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"2024 Season - WMX Class"</span>,</span>
<span id="cb22-66"><a href="#cb22-66" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"From Place"</span>, </span>
<span id="cb22-67"><a href="#cb22-67" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"To Place"</span>, <span class="at">fill =</span> <span class="st">"Probability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The same analysis can be done at an individual moto or individual rider level.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>pass_prob_moto_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(input_class, input_raceid) {</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  placecat <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(class <span class="sc">==</span> input_class <span class="sc">&amp;</span> race_id <span class="sc">==</span> input_raceid) <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>                             <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>,</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>                                                          <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>                                                                 <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">35</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>                                                                        <span class="st">"31-35"</span>, <span class="st">"36-40"</span>))))))),</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>           <span class="at">place_next_cat =</span> <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>                                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>                                                 <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>                                                        <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, </span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">35</span>, <span class="st">"31-35"</span>, <span class="st">"36-40"</span>)))))))) <span class="sc">|&gt;</span></span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-32"><a href="#cb23-32" aria-hidden="true" tabindex="-1"></a>  placecat2 <span class="ot">&lt;-</span> placecat <span class="sc">|&gt;</span></span>
<span id="cb23-33"><a href="#cb23-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(place_cat) <span class="sc">|&gt;</span></span>
<span id="cb23-34"><a href="#cb23-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb23-35"><a href="#cb23-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb23-36"><a href="#cb23-36" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-37"><a href="#cb23-37" aria-hidden="true" tabindex="-1"></a>  placecat <span class="ot">&lt;-</span> placecat <span class="sc">|&gt;</span></span>
<span id="cb23-38"><a href="#cb23-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(placecat2) <span class="sc">|&gt;</span></span>
<span id="cb23-39"><a href="#cb23-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb23-40"><a href="#cb23-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-41"><a href="#cb23-41" aria-hidden="true" tabindex="-1"></a>  distinct_cat <span class="ot">&lt;-</span> placecat <span class="sc">%&gt;%</span></span>
<span id="cb23-42"><a href="#cb23-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">distinct_cats =</span> <span class="fu">n_distinct</span>(place_cat)) <span class="sc">|&gt;</span></span>
<span id="cb23-43"><a href="#cb23-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(distinct_cats)</span>
<span id="cb23-44"><a href="#cb23-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-45"><a href="#cb23-45" aria-hidden="true" tabindex="-1"></a>    rows <span class="ot">=</span> distinct_cat</span>
<span id="cb23-46"><a href="#cb23-46" aria-hidden="true" tabindex="-1"></a>    cols <span class="ot">=</span> distinct_cat</span>
<span id="cb23-47"><a href="#cb23-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">4</span>) {</span>
<span id="cb23-48"><a href="#cb23-48" aria-hidden="true" tabindex="-1"></a>      cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>)</span>
<span id="cb23-49"><a href="#cb23-49" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">5</span>) {</span>
<span id="cb23-50"><a href="#cb23-50" aria-hidden="true" tabindex="-1"></a>      cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>)</span>
<span id="cb23-51"><a href="#cb23-51" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">6</span>) {</span>
<span id="cb23-52"><a href="#cb23-52" aria-hidden="true" tabindex="-1"></a>      cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>)</span>
<span id="cb23-53"><a href="#cb23-53" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">7</span>) {</span>
<span id="cb23-54"><a href="#cb23-54" aria-hidden="true" tabindex="-1"></a>      cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>,</span>
<span id="cb23-55"><a href="#cb23-55" aria-hidden="true" tabindex="-1"></a>                <span class="st">"31-35"</span>)</span>
<span id="cb23-56"><a href="#cb23-56" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">8</span>) {</span>
<span id="cb23-57"><a href="#cb23-57" aria-hidden="true" tabindex="-1"></a>      cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>,</span>
<span id="cb23-58"><a href="#cb23-58" aria-hidden="true" tabindex="-1"></a>                <span class="st">"31-35"</span>, <span class="st">"36-40"</span>)</span>
<span id="cb23-59"><a href="#cb23-59" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb23-60"><a href="#cb23-60" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-61"><a href="#cb23-61" aria-hidden="true" tabindex="-1"></a>    pass_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span>
<span id="cb23-62"><a href="#cb23-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows) {</span>
<span id="cb23-63"><a href="#cb23-63" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols) {</span>
<span id="cb23-64"><a href="#cb23-64" aria-hidden="true" tabindex="-1"></a>        matrix_row <span class="ot">&lt;-</span> placecat <span class="sc">|&gt;</span></span>
<span id="cb23-65"><a href="#cb23-65" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats[j])</span>
<span id="cb23-66"><a href="#cb23-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb23-67"><a href="#cb23-67" aria-hidden="true" tabindex="-1"></a>          matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb23-68"><a href="#cb23-68" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> {</span>
<span id="cb23-69"><a href="#cb23-69" aria-hidden="true" tabindex="-1"></a>          matrix_value <span class="ot">&lt;-</span> placecat <span class="sc">|&gt;</span> </span>
<span id="cb23-70"><a href="#cb23-70" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats[j]) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb23-71"><a href="#cb23-71" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb23-72"><a href="#cb23-72" aria-hidden="true" tabindex="-1"></a>        pass_matrix[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb23-73"><a href="#cb23-73" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb23-74"><a href="#cb23-74" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb23-75"><a href="#cb23-75" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb23-76"><a href="#cb23-76" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames</span>(pass_matrix) <span class="ot">&lt;-</span> cats</span>
<span id="cb23-77"><a href="#cb23-77" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(pass_matrix) <span class="ot">&lt;-</span> cats</span>
<span id="cb23-78"><a href="#cb23-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-79"><a href="#cb23-79" aria-hidden="true" tabindex="-1"></a>  pass_matrix_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(pass_matrix))</span>
<span id="cb23-80"><a href="#cb23-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(pass_matrix_df, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> Freq)) <span class="sc">+</span></span>
<span id="cb23-81"><a href="#cb23-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb23-82"><a href="#cb23-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"#da3a32"</span>) <span class="sc">+</span></span>
<span id="cb23-83"><a href="#cb23-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Freq,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb23-84"><a href="#cb23-84" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Passing Probabilities"</span>,</span>
<span id="cb23-85"><a href="#cb23-85" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> input_raceid,</span>
<span id="cb23-86"><a href="#cb23-86" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"From Place"</span>, </span>
<span id="cb23-87"><a href="#cb23-87" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"To Place"</span>, <span class="at">fill =</span> <span class="st">"Probability"</span>)</span>
<span id="cb23-88"><a href="#cb23-88" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb23-89"><a href="#cb23-89" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb23-90"><a href="#cb23-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-91"><a href="#cb23-91" aria-hidden="true" tabindex="-1"></a><span class="fu">pass_prob_moto_fn</span>(<span class="st">"450"</span>, <span class="st">"450_2024_1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>pass_prob_rider_fn <span class="ot">&lt;-</span> <span class="cf">function</span>(input_rider) {</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  placecat <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(rider <span class="sc">==</span> input_rider) <span class="sc">|&gt;</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>                             <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>                                            <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>                                                   <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>,</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>                                                          <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>                                                                 <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">35</span>, <span class="st">"31-35"</span>, <span class="st">"36-40"</span>))))))),</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>           <span class="at">place_next_cat =</span> <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>                                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>                                                 <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>                                                        <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, </span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>                                                               <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>                                                                      <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">35</span>, <span class="st">"31-35"</span>, <span class="st">"36-40"</span>)))))))) <span class="sc">|&gt;</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(place_cat, place_next_cat) <span class="sc">|&gt;</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a>  placecat2 <span class="ot">&lt;-</span> placecat <span class="sc">|&gt;</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(place_cat) <span class="sc">|&gt;</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>  placecat <span class="ot">&lt;-</span> placecat <span class="sc">|&gt;</span></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(placecat2) <span class="sc">|&gt;</span></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a>  distinct_cat <span class="ot">&lt;-</span> placecat <span class="sc">%&gt;%</span></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">distinct_cats =</span> <span class="fu">n_distinct</span>(place_cat)) <span class="sc">|&gt;</span></span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(distinct_cats)</span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a>  rows <span class="ot">=</span> distinct_cat</span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a>  cols <span class="ot">=</span> distinct_cat</span>
<span id="cb24-46"><a href="#cb24-46" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">4</span>) {</span>
<span id="cb24-47"><a href="#cb24-47" aria-hidden="true" tabindex="-1"></a>    cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>)</span>
<span id="cb24-48"><a href="#cb24-48" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">5</span>) {</span>
<span id="cb24-49"><a href="#cb24-49" aria-hidden="true" tabindex="-1"></a>    cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>)</span>
<span id="cb24-50"><a href="#cb24-50" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">6</span>) {</span>
<span id="cb24-51"><a href="#cb24-51" aria-hidden="true" tabindex="-1"></a>    cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>)</span>
<span id="cb24-52"><a href="#cb24-52" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">7</span>) {</span>
<span id="cb24-53"><a href="#cb24-53" aria-hidden="true" tabindex="-1"></a>    cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>,</span>
<span id="cb24-54"><a href="#cb24-54" aria-hidden="true" tabindex="-1"></a>              <span class="st">"31-35"</span>)</span>
<span id="cb24-55"><a href="#cb24-55" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> <span class="cf">if</span> (distinct_cat <span class="sc">==</span> <span class="dv">8</span>) {</span>
<span id="cb24-56"><a href="#cb24-56" aria-hidden="true" tabindex="-1"></a>    cats <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>,</span>
<span id="cb24-57"><a href="#cb24-57" aria-hidden="true" tabindex="-1"></a>              <span class="st">"31-35"</span>, <span class="st">"36-40"</span>)</span>
<span id="cb24-58"><a href="#cb24-58" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb24-59"><a href="#cb24-59" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-60"><a href="#cb24-60" aria-hidden="true" tabindex="-1"></a>  pass_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span>
<span id="cb24-61"><a href="#cb24-61" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows) {</span>
<span id="cb24-62"><a href="#cb24-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols) {</span>
<span id="cb24-63"><a href="#cb24-63" aria-hidden="true" tabindex="-1"></a>      matrix_row <span class="ot">&lt;-</span> placecat <span class="sc">|&gt;</span></span>
<span id="cb24-64"><a href="#cb24-64" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats[j])</span>
<span id="cb24-65"><a href="#cb24-65" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb24-66"><a href="#cb24-66" aria-hidden="true" tabindex="-1"></a>        matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb24-67"><a href="#cb24-67" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb24-68"><a href="#cb24-68" aria-hidden="true" tabindex="-1"></a>        matrix_value <span class="ot">&lt;-</span> placecat <span class="sc">|&gt;</span> </span>
<span id="cb24-69"><a href="#cb24-69" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats[i] <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> cats[j]) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb24-70"><a href="#cb24-70" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb24-71"><a href="#cb24-71" aria-hidden="true" tabindex="-1"></a>      pass_matrix[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb24-72"><a href="#cb24-72" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb24-73"><a href="#cb24-73" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb24-74"><a href="#cb24-74" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-75"><a href="#cb24-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames</span>(pass_matrix) <span class="ot">&lt;-</span> cats</span>
<span id="cb24-76"><a href="#cb24-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(pass_matrix) <span class="ot">&lt;-</span> cats</span>
<span id="cb24-77"><a href="#cb24-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb24-78"><a href="#cb24-78" aria-hidden="true" tabindex="-1"></a>  pass_matrix_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(pass_matrix))</span>
<span id="cb24-79"><a href="#cb24-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(pass_matrix_df, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> Freq)) <span class="sc">+</span></span>
<span id="cb24-80"><a href="#cb24-80" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb24-81"><a href="#cb24-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"#da3a32"</span>) <span class="sc">+</span></span>
<span id="cb24-82"><a href="#cb24-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Freq,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb24-83"><a href="#cb24-83" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Passing Probabilities"</span>,</span>
<span id="cb24-84"><a href="#cb24-84" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> input_rider, </span>
<span id="cb24-85"><a href="#cb24-85" aria-hidden="true" tabindex="-1"></a>         <span class="at">x =</span> <span class="st">"From Place"</span>, </span>
<span id="cb24-86"><a href="#cb24-86" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"To Place"</span>, <span class="at">fill =</span> <span class="st">"Probability"</span>)</span>
<span id="cb24-87"><a href="#cb24-87" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-88"><a href="#cb24-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-89"><a href="#cb24-89" aria-hidden="true" tabindex="-1"></a><span class="fu">pass_prob_rider_fn</span>(<span class="st">"TANNER WARD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Q2</strong>: What is the probability of going from one place group to another over the course of x laps?</p>
<p>We can let x be any positive integer. As an example, we will consider the probabilities over the course of 5 laps.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">=</span> <span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>450 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(matrix450_2 <span class="sc">%^%</span> x, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1-5 6-10 11-15 16-20 21-25 26-30
1-5   0.87 0.11  0.01  0.00  0.00  0.00
6-10  0.14 0.73  0.11  0.02  0.01  0.00
11-15 0.01 0.14  0.63  0.17  0.03  0.01
16-20 0.00 0.02  0.22  0.55  0.15  0.05
21-25 0.00 0.00  0.04  0.24  0.56  0.16
26-30 0.00 0.00  0.01  0.08  0.41  0.51</code></pre>
</div>
</div>
<p>250 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(matrix250_2 <span class="sc">%^%</span> x, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1-5 6-10 11-15 16-20 21-25 26-30 31-35 36-40
1-5   0.82 0.15  0.02  0.00  0.00  0.00  0.01  0.00
6-10  0.17 0.61  0.17  0.02  0.00  0.00  0.01  0.00
11-15 0.03 0.22  0.53  0.16  0.04  0.01  0.01  0.01
16-20 0.00 0.05  0.23  0.50  0.14  0.04  0.03  0.02
21-25 0.00 0.01  0.05  0.24  0.44  0.16  0.07  0.03
26-30 0.00 0.00  0.01  0.08  0.29  0.41  0.16  0.04
31-35 0.00 0.00  0.00  0.02  0.11  0.32  0.43  0.12
36-40 0.00 0.00  0.00  0.01  0.05  0.20  0.46  0.29</code></pre>
</div>
</div>
<p>WMX class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(matrixwmx_2 <span class="sc">%^%</span> x, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1-5 6-10 11-15 16-20 21-25 26-30
1-5   0.87 0.11  0.02  0.00  0.00  0.00
6-10  0.13 0.65  0.19  0.03  0.01  0.00
11-15 0.02 0.26  0.57  0.12  0.03  0.00
16-20 0.00 0.04  0.22  0.50  0.20  0.04
21-25 0.00 0.03  0.19  0.32  0.36  0.10
26-30 0.00 0.02  0.13  0.10  0.26  0.49</code></pre>
</div>
</div>
<p><strong>Q3</strong>: Do passing probabilities themselves change over the course of a moto?</p>
<p>To narrow the focus of this problem, we will consider how the probability of staying in 1-5 position group changes throughout a moto.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>all_2024_placecat_laps <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place_next) <span class="sc">|&gt;</span></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, place_next, lap, class) <span class="sc">|&gt;</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>,</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">35</span>, <span class="st">"31-35"</span>,</span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>                            <span class="st">"36-40"</span>))))))),</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">place_next_cat =</span> <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, </span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(place_next <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place_next <span class="sc">&lt;=</span> <span class="dv">35</span>, <span class="st">"31-35"</span>, <span class="st">"36-40"</span>)))))))) <span class="sc">|&gt;</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place_cat, place_next_cat, lap, class) <span class="sc">|&gt;</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat, place_next_cat, lap, class) <span class="sc">|&gt;</span></span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>all_2024_placecat_laps2 <span class="ot">&lt;-</span> all_2024_placecat_laps <span class="sc">|&gt;</span></span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(class, lap, place_cat) <span class="sc">|&gt;</span></span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>all_2024_placecat_laps3 <span class="ot">&lt;-</span> all_2024_placecat_laps <span class="sc">|&gt;</span></span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_placecat_laps2) <span class="sc">|&gt;</span></span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total) <span class="sc">|&gt;</span></span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(place_cat <span class="sc">==</span> <span class="st">"1-5"</span> <span class="sc">&amp;</span> place_next_cat <span class="sc">==</span> <span class="st">"1-5"</span>)</span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a>all_2024_placecat_laps3 <span class="sc">|&gt;</span></span>
<span id="cb32-42"><a href="#cb32-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lap, <span class="at">y =</span> prob, <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb32-43"><a href="#cb32-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb32-44"><a href="#cb32-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb32-45"><a href="#cb32-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lap"</span>, <span class="at">y =</span> <span class="st">"Probability of Retaining 1-5"</span>, <span class="at">color =</span> <span class="st">"Class"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The bold line is the line of best fit from local polynomial regression. A big takeaway from this visual is that it usually becomes less likely to change positions the longer the race goes on. This makes sense as gaps begin to open up.</p>
<p><strong>Q4</strong>: What is the probability of starting in place X and finishing the moto in place Y?</p>
<p>450 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>all_2024_450_start_finish <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span> <span class="sc">&amp;</span> lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, finish)</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>all_2024_450_start_finish_sum <span class="ot">&lt;-</span> all_2024_450_start_finish <span class="sc">|&gt;</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place, finish) <span class="sc">|&gt;</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>all_2024_450_start_finish_sum_2 <span class="ot">&lt;-</span> all_2024_450_start_finish_sum <span class="sc">|&gt;</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>all_2024_450_start_finish_sum_3 <span class="ot">&lt;-</span> all_2024_450_start_finish_sum <span class="sc">|&gt;</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_450_start_finish_sum_2) <span class="sc">|&gt;</span></span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>cats <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>matrix450_3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows) {</span>
<span id="cb33-25"><a href="#cb33-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols) {</span>
<span id="cb33-26"><a href="#cb33-26" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_450_start_finish_sum_3 <span class="sc">|&gt;</span> </span>
<span id="cb33-27"><a href="#cb33-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> finish <span class="sc">==</span> j)</span>
<span id="cb33-28"><a href="#cb33-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb33-29"><a href="#cb33-29" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb33-30"><a href="#cb33-30" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb33-31"><a href="#cb33-31" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_450_start_finish_sum_3 <span class="sc">|&gt;</span> </span>
<span id="cb33-32"><a href="#cb33-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> finish <span class="sc">==</span> j) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb33-33"><a href="#cb33-33" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb33-34"><a href="#cb33-34" aria-hidden="true" tabindex="-1"></a>    matrix450_3[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb33-35"><a href="#cb33-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb33-36"><a href="#cb33-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb33-37"><a href="#cb33-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-38"><a href="#cb33-38" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix450_3) <span class="ot">&lt;-</span> cats</span>
<span id="cb33-39"><a href="#cb33-39" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix450_3) <span class="ot">&lt;-</span> cats</span>
<span id="cb33-40"><a href="#cb33-40" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(matrix450_3, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1    2    3    4    5    6    7    8    9   10   11   12   13   14   15
1  0.50 0.31 0.06 0.00 0.06 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00
2  0.31 0.25 0.31 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0.12 0.31 0.06 0.00 0.06 0.06 0.06 0.06 0.00 0.00 0.06 0.00 0.00 0.06 0.00
4  0.06 0.12 0.12 0.19 0.19 0.00 0.12 0.12 0.00 0.00 0.00 0.06 0.00 0.00 0.00
5  0.00 0.00 0.25 0.06 0.00 0.19 0.06 0.06 0.06 0.12 0.00 0.00 0.06 0.00 0.06
6  0.00 0.00 0.00 0.19 0.06 0.38 0.00 0.12 0.06 0.00 0.00 0.00 0.06 0.00 0.00
7  0.00 0.00 0.00 0.12 0.19 0.19 0.19 0.00 0.00 0.12 0.00 0.06 0.00 0.00 0.06
8  0.00 0.00 0.06 0.06 0.06 0.06 0.25 0.06 0.25 0.06 0.00 0.00 0.00 0.00 0.00
9  0.00 0.00 0.06 0.06 0.06 0.06 0.06 0.12 0.12 0.19 0.06 0.06 0.00 0.00 0.06
10 0.00 0.00 0.00 0.06 0.06 0.00 0.06 0.06 0.06 0.12 0.12 0.06 0.00 0.06 0.00
11 0.00 0.00 0.00 0.12 0.00 0.00 0.00 0.06 0.19 0.00 0.12 0.00 0.00 0.00 0.31
12 0.00 0.00 0.00 0.00 0.06 0.00 0.06 0.12 0.12 0.06 0.12 0.00 0.12 0.06 0.00
13 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.06 0.00 0.06 0.00 0.12 0.12 0.12 0.00
14 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.06 0.00 0.12 0.12 0.19 0.12 0.06
15 0.00 0.00 0.00 0.00 0.12 0.00 0.00 0.00 0.00 0.00 0.12 0.00 0.00 0.06 0.12
16 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.19 0.06 0.12 0.06
17 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.12 0.00 0.12 0.12 0.00 0.06
18 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.06 0.06 0.06 0.06 0.00 0.00 0.06 0.00
19 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.06 0.06
20 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.06 0.00
21 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.00 0.00
22 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.12
23 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
24 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00
25 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
26 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.00
27 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.07 0.00 0.00
28 0.00 0.00 0.00 0.00 0.00 0.08 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
29 0.00 0.00 0.00 0.00 0.00 0.00 0.09 0.00 0.00 0.00 0.09 0.00 0.00 0.09 0.00
30 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
     16   17   18   19   20   21   22   23   24   25   26   27   28   29   30
1  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00
3  0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00
4  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
5  0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
6  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.06 0.00 0.00
7  0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
8  0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00
9  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06
10 0.00 0.12 0.00 0.00 0.06 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00
11 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.06 0.00 0.06 0.00 0.00 0.00
12 0.06 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.00 0.00
13 0.12 0.00 0.06 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.12 0.00 0.00 0.00
14 0.00 0.00 0.00 0.12 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
15 0.00 0.06 0.12 0.12 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.12
16 0.31 0.06 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00
17 0.06 0.06 0.00 0.00 0.00 0.12 0.00 0.12 0.06 0.00 0.12 0.00 0.00 0.00 0.00
18 0.06 0.12 0.12 0.06 0.06 0.12 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00
19 0.12 0.12 0.00 0.06 0.00 0.06 0.12 0.00 0.00 0.06 0.00 0.06 0.00 0.06 0.06
20 0.06 0.06 0.12 0.06 0.12 0.00 0.06 0.06 0.00 0.19 0.00 0.00 0.12 0.00 0.00
21 0.00 0.00 0.06 0.12 0.00 0.12 0.12 0.12 0.00 0.12 0.00 0.06 0.06 0.06 0.00
22 0.06 0.00 0.06 0.06 0.19 0.06 0.06 0.06 0.06 0.00 0.06 0.00 0.00 0.06 0.06
23 0.06 0.00 0.00 0.12 0.00 0.19 0.00 0.12 0.06 0.12 0.12 0.06 0.06 0.00 0.00
24 0.00 0.00 0.12 0.00 0.12 0.06 0.12 0.12 0.00 0.06 0.19 0.00 0.06 0.06 0.00
25 0.06 0.12 0.06 0.12 0.00 0.00 0.06 0.00 0.38 0.00 0.12 0.06 0.00 0.00 0.00
26 0.00 0.00 0.06 0.00 0.06 0.00 0.12 0.19 0.06 0.12 0.00 0.06 0.00 0.19 0.00
27 0.00 0.00 0.07 0.00 0.13 0.00 0.07 0.07 0.20 0.20 0.00 0.13 0.00 0.07 0.00
28 0.00 0.15 0.08 0.00 0.08 0.08 0.15 0.00 0.15 0.00 0.08 0.08 0.00 0.08 0.00
29 0.00 0.00 0.09 0.00 0.00 0.00 0.09 0.00 0.00 0.00 0.09 0.09 0.09 0.18 0.09
30 0.00 0.00 0.00 0.00 0.14 0.00 0.00 0.14 0.14 0.00 0.14 0.14 0.14 0.00 0.14</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>all_2024_450_start_finish_cat <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span> <span class="sc">&amp;</span> lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, finish) <span class="sc">|&gt;</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, </span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"21-25"</span>,<span class="st">"26-30"</span>))))),</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">finish_cat =</span> <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, </span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"26-30"</span>)))))) <span class="sc">|&gt;</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place_cat, finish_cat) <span class="sc">|&gt;</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat, finish_cat) <span class="sc">|&gt;</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>all_2024_450_start_finish_cat_2 <span class="ot">&lt;-</span> all_2024_450_start_finish_cat <span class="sc">|&gt;</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat) <span class="sc">|&gt;</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>all_2024_450_start_finish_cat_3 <span class="ot">&lt;-</span> all_2024_450_start_finish_cat <span class="sc">|&gt;</span></span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_450_start_finish_cat_2) <span class="sc">|&gt;</span></span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>rows2 <span class="ot">=</span> <span class="dv">6</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>cols2 <span class="ot">=</span> <span class="dv">6</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>cats2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>)</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>matrix450_4 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows2, <span class="at">ncol =</span> cols2)</span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows2) {</span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols2) {</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_450_start_finish_cat_3 <span class="sc">|&gt;</span></span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> finish_cat <span class="sc">==</span> cats2[j])</span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb35-40"><a href="#cb35-40" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb35-41"><a href="#cb35-41" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb35-42"><a href="#cb35-42" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_450_start_finish_cat_3 <span class="sc">|&gt;</span> </span>
<span id="cb35-43"><a href="#cb35-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> finish_cat <span class="sc">==</span> cats2[j]) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb35-44"><a href="#cb35-44" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb35-45"><a href="#cb35-45" aria-hidden="true" tabindex="-1"></a>    matrix450_4[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb35-46"><a href="#cb35-46" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb35-47"><a href="#cb35-47" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb35-48"><a href="#cb35-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-49"><a href="#cb35-49" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix450_4) <span class="ot">&lt;-</span> cats2</span>
<span id="cb35-50"><a href="#cb35-50" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix450_4) <span class="ot">&lt;-</span> cats2</span>
<span id="cb35-51"><a href="#cb35-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-52"><a href="#cb35-52" aria-hidden="true" tabindex="-1"></a>sf_450 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(matrix450_4))</span>
<span id="cb35-53"><a href="#cb35-53" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sf_450, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> Freq)) <span class="sc">+</span></span>
<span id="cb35-54"><a href="#cb35-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb35-55"><a href="#cb35-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"#da3a32"</span>) <span class="sc">+</span></span>
<span id="cb35-56"><a href="#cb35-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Freq,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb35-57"><a href="#cb35-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Start-Finish Probabilities"</span>,</span>
<span id="cb35-58"><a href="#cb35-58" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"450"</span>, <span class="at">x =</span> <span class="st">"Start "</span>, <span class="at">y =</span> <span class="st">"Finish"</span>,</span>
<span id="cb35-59"><a href="#cb35-59" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Probability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>250 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>all_2024_250_start_finish <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span> <span class="sc">&amp;</span> lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, finish)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>all_2024_250_start_finish_sum <span class="ot">&lt;-</span> all_2024_250_start_finish <span class="sc">|&gt;</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place, finish) <span class="sc">|&gt;</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>all_2024_250_start_finish_sum_2 <span class="ot">&lt;-</span> all_2024_250_start_finish_sum <span class="sc">|&gt;</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>all_2024_250_start_finish_sum_3 <span class="ot">&lt;-</span> all_2024_250_start_finish_sum <span class="sc">|&gt;</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_250_start_finish_sum_2) <span class="sc">|&gt;</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">=</span> <span class="dv">40</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">=</span> <span class="dv">40</span></span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>cats <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">40</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>matrix250_3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows) {</span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols) {</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_250_start_finish_sum_3 <span class="sc">|&gt;</span> </span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> finish <span class="sc">==</span> j)</span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_250_start_finish_sum_3 <span class="sc">|&gt;</span> </span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> finish <span class="sc">==</span> j) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>    matrix250_3[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb36-35"><a href="#cb36-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb36-36"><a href="#cb36-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb36-37"><a href="#cb36-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-38"><a href="#cb36-38" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix250_3) <span class="ot">&lt;-</span> cats</span>
<span id="cb36-39"><a href="#cb36-39" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix250_3) <span class="ot">&lt;-</span> cats</span>
<span id="cb36-40"><a href="#cb36-40" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(matrix250_3, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      1    2    3    4    5    6    7    8    9   10   11   12   13   14   15
1  0.56 0.25 0.06 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0.25 0.25 0.12 0.12 0.00 0.00 0.06 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0.06 0.19 0.38 0.06 0.00 0.06 0.12 0.06 0.00 0.00 0.00 0.06 0.00 0.00 0.00
4  0.00 0.12 0.12 0.12 0.25 0.06 0.00 0.06 0.00 0.19 0.00 0.00 0.00 0.00 0.00
5  0.00 0.06 0.00 0.06 0.06 0.19 0.00 0.06 0.06 0.00 0.06 0.06 0.19 0.00 0.06
6  0.00 0.00 0.19 0.06 0.19 0.19 0.00 0.06 0.12 0.06 0.00 0.06 0.00 0.00 0.00
7  0.00 0.06 0.00 0.06 0.19 0.12 0.06 0.12 0.06 0.06 0.06 0.00 0.00 0.00 0.00
8  0.06 0.00 0.00 0.06 0.06 0.00 0.00 0.00 0.06 0.06 0.06 0.12 0.00 0.25 0.06
9  0.00 0.00 0.00 0.19 0.06 0.00 0.06 0.19 0.06 0.06 0.06 0.00 0.00 0.06 0.06
10 0.00 0.00 0.06 0.06 0.06 0.00 0.06 0.12 0.12 0.06 0.00 0.06 0.12 0.12 0.00
11 0.00 0.00 0.00 0.00 0.06 0.00 0.19 0.06 0.06 0.00 0.00 0.00 0.12 0.06 0.12
12 0.00 0.00 0.00 0.06 0.00 0.12 0.00 0.06 0.00 0.06 0.12 0.00 0.25 0.00 0.06
13 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.06 0.12 0.00 0.00 0.06 0.00 0.06 0.12
14 0.00 0.06 0.00 0.12 0.00 0.00 0.00 0.06 0.00 0.00 0.19 0.25 0.00 0.06 0.00
15 0.00 0.00 0.06 0.00 0.00 0.00 0.06 0.00 0.12 0.06 0.06 0.12 0.12 0.00 0.19
16 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.19 0.00 0.00 0.12 0.00
17 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.12 0.12 0.00 0.06 0.00 0.06
18 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.12 0.00 0.06 0.00 0.06 0.00
19 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.12
20 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00
21 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.06 0.06 0.06 0.00 0.06 0.00
22 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
23 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00
24 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06
25 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00
26 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
27 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
28 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
29 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
30 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00
31 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
32 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00
33 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00
34 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06
35 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
36 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
37 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
38 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
39 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.11 0.00 0.00 0.00
40 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
     16   17   18   19   20   21   22   23   24   25   26   27   28   29   30
1  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00
5  0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
6  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
7  0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
8  0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00
9  0.12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
10 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
11 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
12 0.00 0.00 0.12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
13 0.12 0.00 0.06 0.00 0.00 0.12 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00
14 0.00 0.06 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
15 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.00 0.00 0.00 0.00 0.00
16 0.00 0.06 0.06 0.00 0.06 0.00 0.06 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00
17 0.19 0.06 0.00 0.12 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.06 0.00 0.00 0.00
18 0.06 0.06 0.12 0.00 0.06 0.00 0.06 0.00 0.00 0.06 0.06 0.00 0.00 0.12 0.06
19 0.12 0.12 0.00 0.06 0.00 0.06 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.06 0.06
20 0.00 0.00 0.06 0.00 0.00 0.12 0.12 0.06 0.06 0.00 0.06 0.06 0.00 0.00 0.06
21 0.12 0.00 0.06 0.12 0.00 0.06 0.06 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00
22 0.00 0.12 0.00 0.00 0.19 0.00 0.00 0.06 0.00 0.00 0.06 0.00 0.00 0.12 0.00
23 0.06 0.19 0.06 0.19 0.00 0.00 0.00 0.06 0.06 0.12 0.00 0.06 0.00 0.06 0.00
24 0.00 0.00 0.06 0.06 0.19 0.00 0.00 0.06 0.00 0.06 0.00 0.12 0.06 0.06 0.00
25 0.00 0.06 0.12 0.06 0.00 0.12 0.00 0.00 0.12 0.06 0.06 0.00 0.00 0.06 0.00
26 0.06 0.00 0.06 0.06 0.00 0.12 0.00 0.06 0.00 0.12 0.00 0.12 0.12 0.06 0.06
27 0.00 0.00 0.00 0.06 0.06 0.06 0.06 0.00 0.06 0.19 0.19 0.06 0.06 0.00 0.00
28 0.06 0.00 0.00 0.00 0.19 0.06 0.06 0.06 0.06 0.12 0.06 0.00 0.00 0.06 0.06
29 0.00 0.06 0.00 0.00 0.06 0.00 0.00 0.06 0.00 0.06 0.00 0.12 0.00 0.00 0.12
30 0.00 0.00 0.00 0.00 0.12 0.06 0.06 0.00 0.25 0.00 0.00 0.00 0.00 0.00 0.06
31 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.06 0.00 0.00 0.12 0.00 0.12 0.00 0.06
32 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.06 0.06 0.00 0.06 0.06 0.00 0.12 0.00
33 0.06 0.00 0.00 0.06 0.00 0.00 0.12 0.00 0.06 0.00 0.06 0.00 0.12 0.06 0.00
34 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.06 0.06 0.06 0.06 0.06 0.12 0.00 0.06
35 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.06 0.00 0.19 0.06 0.06
36 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.06 0.00 0.06 0.00 0.00 0.19
37 0.00 0.00 0.07 0.00 0.00 0.00 0.07 0.07 0.00 0.00 0.00 0.07 0.07 0.00 0.00
38 0.00 0.00 0.00 0.08 0.00 0.00 0.15 0.08 0.00 0.00 0.00 0.00 0.08 0.08 0.08
39 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.11 0.00 0.00 0.11 0.00 0.00 0.11
40 0.00 0.00 0.00 0.00 0.00 0.00 0.17 0.00 0.00 0.00 0.00 0.00 0.17 0.17 0.00
     31   32   33   34   35   36   37   38   39   40
1  0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00
2  0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.06 0.00 0.00
3  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
5  0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00
6  0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00
7  0.00 0.00 0.00 0.00 0.06 0.06 0.00 0.00 0.00 0.00
8  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.06
9  0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00
10 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00
11 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.06 0.00 0.06
12 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.12 0.00
13 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00
14 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.06 0.00 0.00
15 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
16 0.00 0.00 0.06 0.00 0.00 0.00 0.12 0.12 0.00 0.00
17 0.00 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00
18 0.00 0.06 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
19 0.00 0.00 0.06 0.00 0.00 0.06 0.12 0.00 0.00 0.00
20 0.00 0.00 0.00 0.00 0.06 0.12 0.00 0.00 0.06 0.00
21 0.00 0.06 0.00 0.06 0.06 0.00 0.00 0.00 0.00 0.00
22 0.00 0.06 0.19 0.00 0.12 0.00 0.00 0.00 0.00 0.00
23 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
24 0.06 0.00 0.00 0.06 0.00 0.06 0.06 0.00 0.00 0.00
25 0.00 0.00 0.06 0.06 0.06 0.00 0.00 0.00 0.06 0.00
26 0.00 0.00 0.06 0.00 0.06 0.00 0.00 0.00 0.00 0.00
27 0.06 0.00 0.00 0.00 0.00 0.06 0.00 0.06 0.00 0.00
28 0.06 0.00 0.00 0.00 0.06 0.00 0.00 0.00 0.00 0.00
29 0.12 0.06 0.00 0.06 0.06 0.00 0.12 0.00 0.00 0.00
30 0.06 0.12 0.00 0.06 0.06 0.00 0.00 0.00 0.06 0.00
31 0.00 0.19 0.06 0.06 0.06 0.06 0.00 0.00 0.06 0.00
32 0.06 0.00 0.00 0.12 0.00 0.12 0.12 0.00 0.00 0.06
33 0.06 0.12 0.06 0.00 0.00 0.00 0.00 0.12 0.00 0.00
34 0.06 0.06 0.00 0.06 0.00 0.06 0.12 0.00 0.00 0.00
35 0.12 0.00 0.00 0.06 0.00 0.12 0.12 0.06 0.00 0.00
36 0.12 0.12 0.12 0.06 0.00 0.06 0.00 0.06 0.00 0.00
37 0.00 0.07 0.20 0.13 0.07 0.07 0.07 0.07 0.00 0.00
38 0.00 0.00 0.08 0.00 0.08 0.00 0.00 0.15 0.08 0.08
39 0.22 0.11 0.00 0.00 0.00 0.00 0.00 0.00 0.22 0.00
40 0.00 0.00 0.00 0.17 0.00 0.00 0.00 0.00 0.00 0.33</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>all_2024_250_start_finish_cat <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span> <span class="sc">&amp;</span> lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, finish) <span class="sc">|&gt;</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>,</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">35</span>, <span class="st">"31-35"</span>, </span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"36-40"</span>))))))),</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">finish_cat =</span> <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, </span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">26</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"26-30"</span>,</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">35</span>, <span class="st">"31-35"</span>, </span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"36-40"</span>)))))))) <span class="sc">|&gt;</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place_cat, finish_cat) <span class="sc">|&gt;</span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat, finish_cat) <span class="sc">|&gt;</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>all_2024_250_start_finish_cat_2 <span class="ot">&lt;-</span> all_2024_250_start_finish_cat <span class="sc">|&gt;</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat) <span class="sc">|&gt;</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>all_2024_250_start_finish_cat_3 <span class="ot">&lt;-</span> all_2024_250_start_finish_cat <span class="sc">|&gt;</span></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_250_start_finish_cat_2) <span class="sc">|&gt;</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>rows2 <span class="ot">=</span> <span class="dv">8</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>cols2 <span class="ot">=</span> <span class="dv">8</span></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>cats2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, </span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>           <span class="st">"21-25"</span>, <span class="st">"26-30"</span>, <span class="st">"31-35"</span>, <span class="st">"36-40"</span>)</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>matrix250_4 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows2, <span class="at">ncol =</span> cols2)</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows2) {</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols2) {</span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_250_start_finish_cat_3 <span class="sc">|&gt;</span></span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> finish_cat <span class="sc">==</span> cats2[j])</span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_250_start_finish_cat_3 <span class="sc">|&gt;</span> </span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> finish_cat <span class="sc">==</span> cats2[j]) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a>    matrix250_4[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrix250_4) <span class="ot">&lt;-</span> cats2</span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrix250_4) <span class="ot">&lt;-</span> cats2</span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a>sf_250 <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(matrix250_4))</span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sf_250, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> Freq)) <span class="sc">+</span></span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"#da3a32"</span>) <span class="sc">+</span></span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Freq,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Start-Finish Probabilities"</span>,</span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"250"</span>, <span class="at">x =</span> <span class="st">"Start "</span>, <span class="at">y =</span> <span class="st">"Finish"</span>,</span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Probability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>WMX class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_start_finish <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span> <span class="sc">&amp;</span> lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, finish)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_start_finish_sum <span class="ot">&lt;-</span> all_2024_wmx_start_finish <span class="sc">|&gt;</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place, finish) <span class="sc">|&gt;</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_start_finish_sum_2 <span class="ot">&lt;-</span> all_2024_wmx_start_finish_sum <span class="sc">|&gt;</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_start_finish_sum_3 <span class="ot">&lt;-</span> all_2024_wmx_start_finish_sum <span class="sc">|&gt;</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_wmx_start_finish_sum_2) <span class="sc">|&gt;</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>rows <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>cols <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>cats <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>matrixwmx_3 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows, <span class="at">ncol =</span> cols)</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows) {</span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols) {</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_wmx_start_finish_sum_3 <span class="sc">|&gt;</span> </span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> finish <span class="sc">==</span> j)</span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_wmx_start_finish_sum_3 <span class="sc">|&gt;</span> </span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place <span class="sc">==</span> i <span class="sc">&amp;</span> finish <span class="sc">==</span> j) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a>    matrixwmx_3[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrixwmx_3) <span class="ot">&lt;-</span> cats</span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrixwmx_3) <span class="ot">&lt;-</span> cats</span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">round</span>(matrixwmx_3, <span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   1    2    3    4    5    6    7    8    9   10   11   12   13   14   15   16
1  1 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2  0 0.64 0.21 0.14 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
3  0 0.21 0.36 0.07 0.29 0.00 0.07 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
4  0 0.07 0.14 0.29 0.21 0.00 0.07 0.00 0.00 0.00 0.07 0.00 0.14 0.00 0.00 0.00
5  0 0.00 0.14 0.29 0.36 0.07 0.00 0.07 0.00 0.00 0.00 0.00 0.00 0.07 0.00 0.00
6  0 0.07 0.00 0.21 0.07 0.29 0.29 0.00 0.00 0.07 0.00 0.00 0.00 0.00 0.00 0.00
7  0 0.00 0.14 0.00 0.00 0.21 0.21 0.14 0.14 0.00 0.00 0.00 0.14 0.00 0.00 0.00
8  0 0.00 0.00 0.00 0.00 0.00 0.14 0.29 0.14 0.21 0.07 0.00 0.00 0.14 0.00 0.00
9  0 0.00 0.00 0.00 0.00 0.14 0.14 0.14 0.07 0.14 0.07 0.14 0.00 0.00 0.00 0.14
10 0 0.00 0.00 0.00 0.00 0.07 0.00 0.21 0.21 0.21 0.00 0.00 0.14 0.14 0.00 0.00
11 0 0.00 0.00 0.00 0.07 0.00 0.00 0.00 0.14 0.14 0.14 0.21 0.14 0.07 0.00 0.00
12 0 0.00 0.00 0.00 0.00 0.00 0.00 0.07 0.07 0.07 0.36 0.21 0.00 0.00 0.07 0.00
13 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.07 0.21 0.07 0.29 0.07 0.21 0.07
14 0 0.00 0.00 0.00 0.00 0.00 0.07 0.00 0.07 0.07 0.00 0.21 0.07 0.21 0.14 0.00
15 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.40 0.10 0.20
16 0 0.00 0.00 0.00 0.00 0.00 0.00 0.12 0.00 0.00 0.12 0.00 0.00 0.00 0.12 0.12
17 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
18 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.17
19 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.17
20 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.17 0.17 0.00 0.00 0.00
21 0 0.00 0.00 0.00 0.00 0.17 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.17 0.00
22 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
23 0 0.00 0.00 0.00 0.00 0.25 0.00 0.00 0.25 0.00 0.00 0.00 0.00 0.00 0.25 0.00
24 0 0.00 0.00 0.00 0.00 0.25 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
25 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
26 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
27 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
28 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.50 0.00 0.00 0.00 0.00 0.00 0.00 0.00
29 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.50 0.00 0.00 0.00 0.00
30 0 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
     17   18   19   20   21   22   23   24   25   26   27   28   29 30
1  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
2  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
3  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
4  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
5  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
6  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
7  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
8  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
9  0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
10 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
11 0.00 0.00 0.07 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
12 0.07 0.07 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
13 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
14 0.07 0.00 0.00 0.00 0.07 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
15 0.00 0.00 0.00 0.20 0.00 0.10 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
16 0.12 0.00 0.00 0.12 0.00 0.00 0.12 0.12 0.00 0.00 0.00 0.00 0.00  0
17 0.14 0.43 0.14 0.00 0.14 0.00 0.14 0.00 0.00 0.00 0.00 0.00 0.00  0
18 0.17 0.00 0.17 0.17 0.17 0.17 0.00 0.00 0.00 0.00 0.00 0.00 0.00  0
19 0.17 0.00 0.17 0.00 0.00 0.17 0.00 0.17 0.00 0.17 0.00 0.00 0.00  0
20 0.00 0.00 0.00 0.17 0.17 0.00 0.00 0.17 0.00 0.00 0.00 0.17 0.00  0
21 0.00 0.17 0.00 0.17 0.17 0.00 0.00 0.00 0.17 0.00 0.00 0.00 0.00  0
22 0.00 0.00 0.33 0.00 0.17 0.33 0.00 0.00 0.00 0.00 0.17 0.00 0.00  0
23 0.00 0.00 0.00 0.00 0.00 0.00 0.25 0.00 0.00 0.00 0.00 0.00 0.00  0
24 0.00 0.00 0.00 0.00 0.00 0.25 0.00 0.00 0.25 0.00 0.00 0.00 0.25  0
25 0.33 0.00 0.00 0.00 0.00 0.00 0.33 0.33 0.00 0.00 0.00 0.00 0.00  0
26 0.00 0.50 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.50 0.00 0.00  0
27 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.50 0.00 0.00 0.50 0.00  0
28 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.50 0.00 0.00 0.00  0
29 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.50  0
30 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00  1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_start_finish_cat <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span> <span class="sc">&amp;</span> lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place, finish) <span class="sc">|&gt;</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_cat =</span> <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">ifelse</span>(place <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> place <span class="sc">&lt;=</span> <span class="dv">25</span>, </span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"21-25"</span>,<span class="st">"26-30"</span>))))),</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">finish_cat =</span> <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">1</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">5</span>, <span class="st">"1-5"</span>,</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">6</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">10</span>, <span class="st">"6-10"</span>,</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">11</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">15</span>, <span class="st">"11-15"</span>,</span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">16</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">20</span>, <span class="st">"16-20"</span>,</span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>                      <span class="fu">ifelse</span>(finish <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">25</span>, <span class="st">"21-25"</span>, </span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"26-30"</span>)))))) <span class="sc">|&gt;</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(place_cat, finish_cat) <span class="sc">|&gt;</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat, finish_cat) <span class="sc">|&gt;</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb41-20"><a href="#cb41-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-21"><a href="#cb41-21" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_start_finish_cat_2 <span class="ot">&lt;-</span> all_2024_wmx_start_finish_cat <span class="sc">|&gt;</span></span>
<span id="cb41-22"><a href="#cb41-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(place_cat) <span class="sc">|&gt;</span></span>
<span id="cb41-23"><a href="#cb41-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb41-24"><a href="#cb41-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb41-25"><a href="#cb41-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-26"><a href="#cb41-26" aria-hidden="true" tabindex="-1"></a>all_2024_wmx_start_finish_cat_3 <span class="ot">&lt;-</span> all_2024_wmx_start_finish_cat <span class="sc">|&gt;</span></span>
<span id="cb41-27"><a href="#cb41-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(all_2024_wmx_start_finish_cat_2) <span class="sc">|&gt;</span></span>
<span id="cb41-28"><a href="#cb41-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">prob =</span> n<span class="sc">/</span>total)</span>
<span id="cb41-29"><a href="#cb41-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-30"><a href="#cb41-30" aria-hidden="true" tabindex="-1"></a>rows2 <span class="ot">=</span> <span class="dv">6</span></span>
<span id="cb41-31"><a href="#cb41-31" aria-hidden="true" tabindex="-1"></a>cols2 <span class="ot">=</span> <span class="dv">6</span></span>
<span id="cb41-32"><a href="#cb41-32" aria-hidden="true" tabindex="-1"></a>cats2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"1-5"</span>, <span class="st">"6-10"</span>, <span class="st">"11-15"</span>, <span class="st">"16-20"</span>, <span class="st">"21-25"</span>, <span class="st">"26-30"</span>)</span>
<span id="cb41-33"><a href="#cb41-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-34"><a href="#cb41-34" aria-hidden="true" tabindex="-1"></a>matrixwmx_4 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> rows2, <span class="at">ncol =</span> cols2)</span>
<span id="cb41-35"><a href="#cb41-35" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>rows2) {</span>
<span id="cb41-36"><a href="#cb41-36" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>cols2) {</span>
<span id="cb41-37"><a href="#cb41-37" aria-hidden="true" tabindex="-1"></a>    matrix_row <span class="ot">&lt;-</span> all_2024_wmx_start_finish_cat_3 <span class="sc">|&gt;</span></span>
<span id="cb41-38"><a href="#cb41-38" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> finish_cat <span class="sc">==</span> cats2[j])</span>
<span id="cb41-39"><a href="#cb41-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">nrow</span>(matrix_row) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb41-40"><a href="#cb41-40" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb41-41"><a href="#cb41-41" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb41-42"><a href="#cb41-42" aria-hidden="true" tabindex="-1"></a>      matrix_value <span class="ot">&lt;-</span> all_2024_wmx_start_finish_cat_3 <span class="sc">|&gt;</span> </span>
<span id="cb41-43"><a href="#cb41-43" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(place_cat <span class="sc">==</span> cats2[i] <span class="sc">&amp;</span> finish_cat <span class="sc">==</span> cats2[j]) <span class="sc">|&gt;</span> <span class="fu">pull</span>(prob)</span>
<span id="cb41-44"><a href="#cb41-44" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb41-45"><a href="#cb41-45" aria-hidden="true" tabindex="-1"></a>    matrixwmx_4[i, j] <span class="ot">&lt;-</span> matrix_value</span>
<span id="cb41-46"><a href="#cb41-46" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb41-47"><a href="#cb41-47" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-48"><a href="#cb41-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-49"><a href="#cb41-49" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(matrixwmx_4) <span class="ot">&lt;-</span> cats2</span>
<span id="cb41-50"><a href="#cb41-50" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(matrixwmx_4) <span class="ot">&lt;-</span> cats2</span>
<span id="cb41-51"><a href="#cb41-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-52"><a href="#cb41-52" aria-hidden="true" tabindex="-1"></a>sf_wmx <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.table</span>(matrixwmx_4))</span>
<span id="cb41-53"><a href="#cb41-53" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sf_wmx, <span class="fu">aes</span>(Var1, Var2, <span class="at">fill =</span> Freq)) <span class="sc">+</span></span>
<span id="cb41-54"><a href="#cb41-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>() <span class="sc">+</span></span>
<span id="cb41-55"><a href="#cb41-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"white"</span>, <span class="at">high =</span> <span class="st">"#da3a32"</span>) <span class="sc">+</span></span>
<span id="cb41-56"><a href="#cb41-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Freq,<span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb41-57"><a href="#cb41-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Start-Finish Probabilities"</span>,</span>
<span id="cb41-58"><a href="#cb41-58" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">"WMX"</span>, <span class="at">x =</span> <span class="st">"Start "</span>, <span class="at">y =</span> <span class="st">"Finish"</span>,</span>
<span id="cb41-59"><a href="#cb41-59" aria-hidden="true" tabindex="-1"></a>       <span class="at">fill =</span> <span class="st">"Probability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="rider-fatique" class="level2">
<h2 class="anchored" data-anchor-id="rider-fatique">4.3 Rider fatique</h2>
<p>Do riders get more tired as the moto goes on? We can check this by checking whether lap times increase with lap number?</p>
<p>We filter out the first lap since it is not a full lap of the moto.</p>
<p>450 class:</p>
<p>We also filter out lap times over 200 seconds as these are outliers and might affect the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lap, <span class="at">y =</span> time, </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto))) <span class="sc">+</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lap"</span>, <span class="at">y =</span> <span class="st">"Lap Time"</span>, <span class="at">color =</span> <span class="st">"Race ID"</span>,</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"All 450 Lap Times by Race"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span> <span class="sc">&amp;</span> time <span class="sc">&lt;</span> <span class="dv">200</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto)) <span class="sc">|&gt;</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="at">model =</span> <span class="fu">lm</span>(time <span class="sc">~</span> lap, <span class="at">data =</span> .)) <span class="sc">|&gt;</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope =</span> <span class="fu">coef</span>(model)[<span class="st">"lap"</span>]) <span class="sc">|&gt;</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span>, slope) <span class="sc">|&gt;</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(slope, round, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Race ID"</span>,</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">slope =</span> <span class="st">"Slope"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="oretgvqrrf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#oretgvqrrf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#oretgvqrrf thead, #oretgvqrrf tbody, #oretgvqrrf tfoot, #oretgvqrrf tr, #oretgvqrrf td, #oretgvqrrf th {
  border-style: none;
}

#oretgvqrrf p {
  margin: 0;
  padding: 0;
}

#oretgvqrrf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#oretgvqrrf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#oretgvqrrf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#oretgvqrrf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#oretgvqrrf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oretgvqrrf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oretgvqrrf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#oretgvqrrf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#oretgvqrrf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#oretgvqrrf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#oretgvqrrf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#oretgvqrrf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#oretgvqrrf .gt_spanner_row {
  border-bottom-style: hidden;
}

#oretgvqrrf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#oretgvqrrf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#oretgvqrrf .gt_from_md > :first-child {
  margin-top: 0;
}

#oretgvqrrf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#oretgvqrrf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#oretgvqrrf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#oretgvqrrf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#oretgvqrrf .gt_row_group_first td {
  border-top-width: 2px;
}

#oretgvqrrf .gt_row_group_first th {
  border-top-width: 2px;
}

#oretgvqrrf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oretgvqrrf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#oretgvqrrf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#oretgvqrrf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oretgvqrrf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#oretgvqrrf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#oretgvqrrf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#oretgvqrrf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#oretgvqrrf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#oretgvqrrf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oretgvqrrf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oretgvqrrf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#oretgvqrrf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#oretgvqrrf .gt_left {
  text-align: left;
}

#oretgvqrrf .gt_center {
  text-align: center;
}

#oretgvqrrf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#oretgvqrrf .gt_font_normal {
  font-weight: normal;
}

#oretgvqrrf .gt_font_bold {
  font-weight: bold;
}

#oretgvqrrf .gt_font_italic {
  font-style: italic;
}

#oretgvqrrf .gt_super {
  font-size: 65%;
}

#oretgvqrrf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#oretgvqrrf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#oretgvqrrf .gt_indent_1 {
  text-indent: 5px;
}

#oretgvqrrf .gt_indent_2 {
  text-indent: 10px;
}

#oretgvqrrf .gt_indent_3 {
  text-indent: 15px;
}

#oretgvqrrf .gt_indent_4 {
  text-indent: 20px;
}

#oretgvqrrf .gt_indent_5 {
  text-indent: 25px;
}

#oretgvqrrf .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#oretgvqrrf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="paste0(round,-&quot;-&quot;,-moto)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Race ID</th>
<th id="slope" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Slope</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">1-1</td>
<td class="gt_row gt_right" headers="slope">-0.03</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">1-2</td>
<td class="gt_row gt_right" headers="slope">0.10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">2-1</td>
<td class="gt_row gt_right" headers="slope">0.17</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">2-2</td>
<td class="gt_row gt_right" headers="slope">-0.75</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">3-1</td>
<td class="gt_row gt_right" headers="slope">0.11</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">3-2</td>
<td class="gt_row gt_right" headers="slope">0.31</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">4-1</td>
<td class="gt_row gt_right" headers="slope">0.43</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">4-2</td>
<td class="gt_row gt_right" headers="slope">0.46</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">5-1</td>
<td class="gt_row gt_right" headers="slope">0.46</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">5-2</td>
<td class="gt_row gt_right" headers="slope">0.39</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">6-1</td>
<td class="gt_row gt_right" headers="slope">-0.06</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">6-2</td>
<td class="gt_row gt_right" headers="slope">0.13</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">7-1</td>
<td class="gt_row gt_right" headers="slope">0.44</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">7-2</td>
<td class="gt_row gt_right" headers="slope">0.65</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">8-1</td>
<td class="gt_row gt_right" headers="slope">0.14</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">8-2</td>
<td class="gt_row gt_right" headers="slope">0.22</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This shows that over the course of motos, lap times of riders are likely to increase. This is an indication of fatique. Note that the moto 2-2 ended early due to Dylan Wrightâ€™s fall so rider fatigue was unlikely to kick in.</p>
<p>Here are the average lap times by lap for each moto:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span> <span class="sc">&amp;</span> time <span class="sc">&lt;</span> <span class="dv">200</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto), lap) <span class="sc">|&gt;</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_time =</span> <span class="fu">mean</span>(time)) <span class="sc">|&gt;</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lap, <span class="at">y =</span> avg_time, </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lap"</span>, <span class="at">y =</span> <span class="st">"Average Lap Time"</span>, <span class="at">color =</span> <span class="st">"Race ID"</span>,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"450 - Average Lap Times"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This shows that average lap times are increasing up until the last couple of laps of the moto. I intuit that this is for a couple of reasons. First, we need to consider survivorship bias. Because lapping other riders exists, the final couple of lap times are only going to include the top riders in that moto, making the average lap time much faster here. Second, at the end of a moto, riders are giving it everything they can as they know the race is ending soon.</p>
<p>250 class:</p>
<p>We also filter out lap times over 250 seconds as these are outliers and might affect the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lap, <span class="at">y =</span> time, </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto))) <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lap"</span>, <span class="at">y =</span> <span class="st">"Lap Time"</span>, <span class="at">color =</span> <span class="st">"Race ID"</span>,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"All 450 Lap Times by Race"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span> <span class="sc">&amp;</span> time <span class="sc">&lt;</span> <span class="dv">250</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto)) <span class="sc">|&gt;</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="at">model =</span> <span class="fu">lm</span>(time <span class="sc">~</span> lap, <span class="at">data =</span> .)) <span class="sc">|&gt;</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope =</span> <span class="fu">coef</span>(model)[<span class="st">"lap"</span>]) <span class="sc">|&gt;</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span>, slope) <span class="sc">|&gt;</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(slope, round, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Race ID"</span>,</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">slope =</span> <span class="st">"Slope"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="jiyteglxen" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jiyteglxen table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jiyteglxen thead, #jiyteglxen tbody, #jiyteglxen tfoot, #jiyteglxen tr, #jiyteglxen td, #jiyteglxen th {
  border-style: none;
}

#jiyteglxen p {
  margin: 0;
  padding: 0;
}

#jiyteglxen .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jiyteglxen .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jiyteglxen .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jiyteglxen .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jiyteglxen .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jiyteglxen .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jiyteglxen .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jiyteglxen .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jiyteglxen .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jiyteglxen .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jiyteglxen .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jiyteglxen .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jiyteglxen .gt_spanner_row {
  border-bottom-style: hidden;
}

#jiyteglxen .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jiyteglxen .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jiyteglxen .gt_from_md > :first-child {
  margin-top: 0;
}

#jiyteglxen .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jiyteglxen .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jiyteglxen .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jiyteglxen .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jiyteglxen .gt_row_group_first td {
  border-top-width: 2px;
}

#jiyteglxen .gt_row_group_first th {
  border-top-width: 2px;
}

#jiyteglxen .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jiyteglxen .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jiyteglxen .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jiyteglxen .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jiyteglxen .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jiyteglxen .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jiyteglxen .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jiyteglxen .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jiyteglxen .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jiyteglxen .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jiyteglxen .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jiyteglxen .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jiyteglxen .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jiyteglxen .gt_left {
  text-align: left;
}

#jiyteglxen .gt_center {
  text-align: center;
}

#jiyteglxen .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jiyteglxen .gt_font_normal {
  font-weight: normal;
}

#jiyteglxen .gt_font_bold {
  font-weight: bold;
}

#jiyteglxen .gt_font_italic {
  font-style: italic;
}

#jiyteglxen .gt_super {
  font-size: 65%;
}

#jiyteglxen .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jiyteglxen .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jiyteglxen .gt_indent_1 {
  text-indent: 5px;
}

#jiyteglxen .gt_indent_2 {
  text-indent: 10px;
}

#jiyteglxen .gt_indent_3 {
  text-indent: 15px;
}

#jiyteglxen .gt_indent_4 {
  text-indent: 20px;
}

#jiyteglxen .gt_indent_5 {
  text-indent: 25px;
}

#jiyteglxen .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jiyteglxen div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="paste0(round,-&quot;-&quot;,-moto)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Race ID</th>
<th id="slope" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Slope</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">1-1</td>
<td class="gt_row gt_right" headers="slope">-0.66</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">1-2</td>
<td class="gt_row gt_right" headers="slope">-0.40</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">2-1</td>
<td class="gt_row gt_right" headers="slope">0.28</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">2-2</td>
<td class="gt_row gt_right" headers="slope">0.30</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">3-1</td>
<td class="gt_row gt_right" headers="slope">-0.93</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">3-2</td>
<td class="gt_row gt_right" headers="slope">-0.45</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">4-1</td>
<td class="gt_row gt_right" headers="slope">0.34</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">4-2</td>
<td class="gt_row gt_right" headers="slope">0.24</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">5-1</td>
<td class="gt_row gt_right" headers="slope">0.24</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">5-2</td>
<td class="gt_row gt_right" headers="slope">0.37</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">6-1</td>
<td class="gt_row gt_right" headers="slope">0.11</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">6-2</td>
<td class="gt_row gt_right" headers="slope">0.14</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">7-1</td>
<td class="gt_row gt_right" headers="slope">0.13</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">7-2</td>
<td class="gt_row gt_right" headers="slope">0.34</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">8-1</td>
<td class="gt_row gt_right" headers="slope">0.30</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">8-2</td>
<td class="gt_row gt_right" headers="slope">0.35</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This shows that for most motos, lap times of riders are likely to increase in time. This is an indication of fatigue.</p>
<p>Here are the average lap times by lap for each moto:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span> <span class="sc">&amp;</span> time <span class="sc">&lt;</span> <span class="dv">250</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto), lap) <span class="sc">|&gt;</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_time =</span> <span class="fu">mean</span>(time)) <span class="sc">|&gt;</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lap, <span class="at">y =</span> avg_time, </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lap"</span>, <span class="at">y =</span> <span class="st">"Average Lap Time"</span>, <span class="at">color =</span> <span class="st">"Race ID"</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"250 - Average Lap Times"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This shows that average lap times are increasing up until the last couple of laps of the moto, as in the 450 class.</p>
<p>WMX class:</p>
<p>We also filter out lap times over 250 seconds as these are outliers and might affect the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lap, <span class="at">y =</span> time, </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto))) <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>() <span class="sc">+</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lap"</span>, <span class="at">y =</span> <span class="st">"Lap Time"</span>, <span class="at">color =</span> <span class="st">"Race ID"</span>,</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"All 450 Lap Times by Race"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span> <span class="sc">&amp;</span> time <span class="sc">&lt;</span> <span class="dv">250</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto)) <span class="sc">|&gt;</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">do</span>(<span class="at">model =</span> <span class="fu">lm</span>(time <span class="sc">~</span> lap, <span class="at">data =</span> .)) <span class="sc">|&gt;</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">slope =</span> <span class="fu">coef</span>(model)[<span class="st">"lap"</span>]) <span class="sc">|&gt;</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span>, slope) <span class="sc">|&gt;</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(slope, round, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"Race ID"</span>,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">slope =</span> <span class="st">"Slope"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ztjkclglws" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ztjkclglws table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ztjkclglws thead, #ztjkclglws tbody, #ztjkclglws tfoot, #ztjkclglws tr, #ztjkclglws td, #ztjkclglws th {
  border-style: none;
}

#ztjkclglws p {
  margin: 0;
  padding: 0;
}

#ztjkclglws .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ztjkclglws .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ztjkclglws .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ztjkclglws .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ztjkclglws .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ztjkclglws .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ztjkclglws .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ztjkclglws .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ztjkclglws .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ztjkclglws .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ztjkclglws .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ztjkclglws .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ztjkclglws .gt_spanner_row {
  border-bottom-style: hidden;
}

#ztjkclglws .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ztjkclglws .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ztjkclglws .gt_from_md > :first-child {
  margin-top: 0;
}

#ztjkclglws .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ztjkclglws .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ztjkclglws .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ztjkclglws .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ztjkclglws .gt_row_group_first td {
  border-top-width: 2px;
}

#ztjkclglws .gt_row_group_first th {
  border-top-width: 2px;
}

#ztjkclglws .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ztjkclglws .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ztjkclglws .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ztjkclglws .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ztjkclglws .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ztjkclglws .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ztjkclglws .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ztjkclglws .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ztjkclglws .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ztjkclglws .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ztjkclglws .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ztjkclglws .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ztjkclglws .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ztjkclglws .gt_left {
  text-align: left;
}

#ztjkclglws .gt_center {
  text-align: center;
}

#ztjkclglws .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ztjkclglws .gt_font_normal {
  font-weight: normal;
}

#ztjkclglws .gt_font_bold {
  font-weight: bold;
}

#ztjkclglws .gt_font_italic {
  font-style: italic;
}

#ztjkclglws .gt_super {
  font-size: 65%;
}

#ztjkclglws .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ztjkclglws .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ztjkclglws .gt_indent_1 {
  text-indent: 5px;
}

#ztjkclglws .gt_indent_2 {
  text-indent: 10px;
}

#ztjkclglws .gt_indent_3 {
  text-indent: 15px;
}

#ztjkclglws .gt_indent_4 {
  text-indent: 20px;
}

#ztjkclglws .gt_indent_5 {
  text-indent: 25px;
}

#ztjkclglws .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ztjkclglws div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="paste0(round,-&quot;-&quot;,-moto)" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Race ID</th>
<th id="slope" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Slope</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">1-1</td>
<td class="gt_row gt_right" headers="slope">-0.89</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">1-2</td>
<td class="gt_row gt_right" headers="slope">-0.79</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">2-1</td>
<td class="gt_row gt_right" headers="slope">-0.56</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">2-2</td>
<td class="gt_row gt_right" headers="slope">1.33</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">3-1</td>
<td class="gt_row gt_right" headers="slope">-0.14</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">3-2</td>
<td class="gt_row gt_right" headers="slope">-0.86</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">5-1</td>
<td class="gt_row gt_right" headers="slope">-1.81</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">5-2</td>
<td class="gt_row gt_right" headers="slope">-1.05</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">6-1</td>
<td class="gt_row gt_right" headers="slope">-1.35</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">6-2</td>
<td class="gt_row gt_right" headers="slope">-1.21</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">7-1</td>
<td class="gt_row gt_right" headers="slope">-1.51</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">7-2</td>
<td class="gt_row gt_right" headers="slope">-0.98</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">8-1</td>
<td class="gt_row gt_right" headers="slope">-0.87</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="paste0(round, " data--",="" data-moto)"="">8-2</td>
<td class="gt_row gt_right" headers="slope">-1.19</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This shows that for most motos, lap times of riders are likely to decrease in time. Unlike the menâ€™s classes, this is an indication that riders are not fatiguing since they are getting faster.</p>
<p>Here are the average lap times by lap for each moto:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span> <span class="sc">&amp;</span> time <span class="sc">&lt;</span> <span class="dv">250</span> <span class="sc">&amp;</span> lap <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">paste0</span>(round, <span class="st">"-"</span>, moto), lap) <span class="sc">|&gt;</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_time =</span> <span class="fu">mean</span>(time)) <span class="sc">|&gt;</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lap, <span class="at">y =</span> avg_time, </span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">`</span><span class="at">paste0(round, "-", moto)</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lap"</span>, <span class="at">y =</span> <span class="st">"Average Lap Time"</span>, <span class="at">color =</span> <span class="st">"Race ID"</span>,</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"WMX - Average Lap Times"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="rider-rivalries" class="level2">
<h2 class="anchored" data-anchor-id="rider-rivalries">4.4 Rider rivalries</h2>
<p>Which two riders in each class battled the most throughout the season? In other words, add up the number of laps where the behind times between adjacent pairs of riders is less than 3 seconds. Which pair spend the most laps in this state?</p>
<p>450 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>gaps_450_1 <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span>) <span class="sc">|&gt;</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(lap, time, behind, place, race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_time =</span> <span class="fu">cumsum</span>(time)) <span class="sc">|&gt;</span></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">next_place =</span> place <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>gaps_450_2 <span class="ot">&lt;-</span> gaps_450_1 <span class="sc">|&gt;</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(gaps_450_1, <span class="at">by =</span> <span class="fu">join_by</span>(next_place <span class="sc">==</span> place, </span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>                                     race_id <span class="sc">==</span> race_id,</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>                                     lap <span class="sc">==</span> lap)) <span class="sc">|&gt;</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(lap, race_id, rider.x, total_time.x, place, </span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>         rider.y, total_time.y, next_place) <span class="sc">|&gt;</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diff =</span> total_time.x <span class="sc">-</span> total_time.y) <span class="sc">|&gt;</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(rider.y) <span class="sc">|&gt;</span></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(diff <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>rival_pairs_450 <span class="ot">&lt;-</span> gaps_450_2 <span class="sc">|&gt;</span> </span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider.x, rider.y) <span class="sc">|&gt;</span></span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pair =</span> <span class="fu">map2_chr</span>(rider.x, rider.y, </span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a>                         <span class="sc">~</span><span class="fu">paste</span>(<span class="fu">sort</span>(<span class="fu">c</span>(.x, .y)), <span class="at">collapse =</span> <span class="st">"-"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(pair) <span class="sc">|&gt;</span></span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(pair, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"rider1"</span>, <span class="st">"rider2"</span>), <span class="at">sep =</span> <span class="st">"-"</span>) <span class="sc">|&gt;</span></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>rival_pairs_450 <span class="sc">|&gt;</span></span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider1 =</span> <span class="st">"Rider A"</span>,</span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">rider2 =</span> <span class="st">"Rider B"</span>,</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>             <span class="at">n =</span> <span class="st">"# of Laps"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="dumknzyccn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dumknzyccn table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dumknzyccn thead, #dumknzyccn tbody, #dumknzyccn tfoot, #dumknzyccn tr, #dumknzyccn td, #dumknzyccn th {
  border-style: none;
}

#dumknzyccn p {
  margin: 0;
  padding: 0;
}

#dumknzyccn .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dumknzyccn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dumknzyccn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dumknzyccn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dumknzyccn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dumknzyccn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dumknzyccn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dumknzyccn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dumknzyccn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dumknzyccn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dumknzyccn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dumknzyccn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dumknzyccn .gt_spanner_row {
  border-bottom-style: hidden;
}

#dumknzyccn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dumknzyccn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dumknzyccn .gt_from_md > :first-child {
  margin-top: 0;
}

#dumknzyccn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dumknzyccn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dumknzyccn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dumknzyccn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dumknzyccn .gt_row_group_first td {
  border-top-width: 2px;
}

#dumknzyccn .gt_row_group_first th {
  border-top-width: 2px;
}

#dumknzyccn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dumknzyccn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dumknzyccn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dumknzyccn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dumknzyccn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dumknzyccn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dumknzyccn .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dumknzyccn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dumknzyccn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dumknzyccn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dumknzyccn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dumknzyccn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dumknzyccn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dumknzyccn .gt_left {
  text-align: left;
}

#dumknzyccn .gt_center {
  text-align: center;
}

#dumknzyccn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dumknzyccn .gt_font_normal {
  font-weight: normal;
}

#dumknzyccn .gt_font_bold {
  font-weight: bold;
}

#dumknzyccn .gt_font_italic {
  font-style: italic;
}

#dumknzyccn .gt_super {
  font-size: 65%;
}

#dumknzyccn .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dumknzyccn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dumknzyccn .gt_indent_1 {
  text-indent: 5px;
}

#dumknzyccn .gt_indent_2 {
  text-indent: 10px;
}

#dumknzyccn .gt_indent_3 {
  text-indent: 15px;
}

#dumknzyccn .gt_indent_4 {
  text-indent: 20px;
}

#dumknzyccn .gt_indent_5 {
  text-indent: 25px;
}

#dumknzyccn .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#dumknzyccn div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider1" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider A</th>
<th id="rider2" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider B</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col"># of Laps</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">MITCHELL HARRISON</td>
<td class="gt_row gt_left" headers="rider2">PRESTON KILROY</td>
<td class="gt_row gt_right" headers="n">41</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">AARON TANTI</td>
<td class="gt_row gt_left" headers="rider2">PRESTON KILROY</td>
<td class="gt_row gt_right" headers="n">40</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">DANIEL ELMORE</td>
<td class="gt_row gt_left" headers="rider2">PARKER EALES</td>
<td class="gt_row gt_right" headers="n">40</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">JESS PETTIS</td>
<td class="gt_row gt_left" headers="rider2">JOSIAH NATZKE</td>
<td class="gt_row gt_right" headers="n">34</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">JULIEN BENEK</td>
<td class="gt_row gt_left" headers="rider2">TANNER WARD</td>
<td class="gt_row gt_right" headers="n">28</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">JESS PETTIS</td>
<td class="gt_row gt_left" headers="rider2">PRESTON KILROY</td>
<td class="gt_row gt_right" headers="n">26</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">AARON TANTI</td>
<td class="gt_row gt_left" headers="rider2">JOSIAH NATZKE</td>
<td class="gt_row gt_right" headers="n">25</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">AARON TANTI</td>
<td class="gt_row gt_left" headers="rider2">TANNER WARD</td>
<td class="gt_row gt_right" headers="n">25</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">BRENDAN SIPPLE</td>
<td class="gt_row gt_left" headers="rider2">RYAN DERRY</td>
<td class="gt_row gt_right" headers="n">24</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">GAVIN BROUGH</td>
<td class="gt_row gt_left" headers="rider2">PARKER EALES</td>
<td class="gt_row gt_right" headers="n">24</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>250 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>gaps_250_1 <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(lap, time, behind, place, race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_time =</span> <span class="fu">cumsum</span>(time)) <span class="sc">|&gt;</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">next_place =</span> place <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>gaps_250_2 <span class="ot">&lt;-</span> gaps_250_1 <span class="sc">|&gt;</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(gaps_250_1, <span class="at">by =</span> <span class="fu">join_by</span>(next_place <span class="sc">==</span> place, </span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>                                     race_id <span class="sc">==</span> race_id,</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>                                     lap <span class="sc">==</span> lap)) <span class="sc">|&gt;</span></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(lap, race_id, rider.x, total_time.x, place, </span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>         rider.y, total_time.y, next_place) <span class="sc">|&gt;</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diff =</span> total_time.x <span class="sc">-</span> total_time.y) <span class="sc">|&gt;</span></span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(rider.y) <span class="sc">|&gt;</span></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(diff <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>rival_pairs_250 <span class="ot">&lt;-</span> gaps_250_2 <span class="sc">|&gt;</span> </span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider.x, rider.y) <span class="sc">|&gt;</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pair =</span> <span class="fu">map2_chr</span>(rider.x, rider.y, </span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>                         <span class="sc">~</span><span class="fu">paste</span>(<span class="fu">sort</span>(<span class="fu">c</span>(.x, .y)), <span class="at">collapse =</span> <span class="st">"-"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(pair) <span class="sc">|&gt;</span></span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(pair, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"rider1"</span>, <span class="st">"rider2"</span>), <span class="at">sep =</span> <span class="st">"-"</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>rival_pairs_250 <span class="sc">|&gt;</span></span>
<span id="cb52-29"><a href="#cb52-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-30"><a href="#cb52-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-31"><a href="#cb52-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider1 =</span> <span class="st">"Rider A"</span>,</span>
<span id="cb52-32"><a href="#cb52-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">rider2 =</span> <span class="st">"Rider B"</span>,</span>
<span id="cb52-33"><a href="#cb52-33" aria-hidden="true" tabindex="-1"></a>             <span class="at">n =</span> <span class="st">"# of Laps"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ycfihasimp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ycfihasimp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ycfihasimp thead, #ycfihasimp tbody, #ycfihasimp tfoot, #ycfihasimp tr, #ycfihasimp td, #ycfihasimp th {
  border-style: none;
}

#ycfihasimp p {
  margin: 0;
  padding: 0;
}

#ycfihasimp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ycfihasimp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ycfihasimp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ycfihasimp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ycfihasimp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ycfihasimp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ycfihasimp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ycfihasimp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ycfihasimp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ycfihasimp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ycfihasimp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ycfihasimp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ycfihasimp .gt_spanner_row {
  border-bottom-style: hidden;
}

#ycfihasimp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ycfihasimp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ycfihasimp .gt_from_md > :first-child {
  margin-top: 0;
}

#ycfihasimp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ycfihasimp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ycfihasimp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ycfihasimp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ycfihasimp .gt_row_group_first td {
  border-top-width: 2px;
}

#ycfihasimp .gt_row_group_first th {
  border-top-width: 2px;
}

#ycfihasimp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ycfihasimp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ycfihasimp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ycfihasimp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ycfihasimp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ycfihasimp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ycfihasimp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ycfihasimp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ycfihasimp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ycfihasimp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ycfihasimp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ycfihasimp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ycfihasimp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ycfihasimp .gt_left {
  text-align: left;
}

#ycfihasimp .gt_center {
  text-align: center;
}

#ycfihasimp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ycfihasimp .gt_font_normal {
  font-weight: normal;
}

#ycfihasimp .gt_font_bold {
  font-weight: bold;
}

#ycfihasimp .gt_font_italic {
  font-style: italic;
}

#ycfihasimp .gt_super {
  font-size: 65%;
}

#ycfihasimp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ycfihasimp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ycfihasimp .gt_indent_1 {
  text-indent: 5px;
}

#ycfihasimp .gt_indent_2 {
  text-indent: 10px;
}

#ycfihasimp .gt_indent_3 {
  text-indent: 15px;
}

#ycfihasimp .gt_indent_4 {
  text-indent: 20px;
}

#ycfihasimp .gt_indent_5 {
  text-indent: 25px;
}

#ycfihasimp .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ycfihasimp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider1" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider A</th>
<th id="rider2" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider B</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col"># of Laps</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">DREW ADAMS</td>
<td class="gt_row gt_left" headers="rider2">KAVEN BENOIT</td>
<td class="gt_row gt_right" headers="n">31</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">GAGE LINVILLE</td>
<td class="gt_row gt_left" headers="rider2">QUINN AMYOTTE</td>
<td class="gt_row gt_right" headers="n">31</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">KAVEN BENOIT</td>
<td class="gt_row gt_left" headers="rider2">KRYSTIAN JANIK</td>
<td class="gt_row gt_right" headers="n">26</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">GAGE LINVILLE</td>
<td class="gt_row gt_left" headers="rider2">KAVEN BENOIT</td>
<td class="gt_row gt_right" headers="n">25</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">DYLAN REMPEL</td>
<td class="gt_row gt_left" headers="rider2">TIGER WOOD</td>
<td class="gt_row gt_right" headers="n">23</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">DYLAN REMPEL</td>
<td class="gt_row gt_left" headers="rider2">WYATT KERR</td>
<td class="gt_row gt_right" headers="n">23</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">SEBASTIEN RACINE</td>
<td class="gt_row gt_left" headers="rider2">WYATT KERR</td>
<td class="gt_row gt_right" headers="n">23</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">CLAYTON SCHMUCKI</td>
<td class="gt_row gt_left" headers="rider2">HAYDEN JAMESON</td>
<td class="gt_row gt_right" headers="n">22</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">TIGER WOOD</td>
<td class="gt_row gt_left" headers="rider2">WYATT KERR</td>
<td class="gt_row gt_right" headers="n">22</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">DYLAN REMPEL</td>
<td class="gt_row gt_left" headers="rider2">TYLER MEDAGLIA</td>
<td class="gt_row gt_right" headers="n">20</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>WMX class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>gaps_wmx_1 <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(lap, time, behind, place, race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_time =</span> <span class="fu">cumsum</span>(time)) <span class="sc">|&gt;</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">next_place =</span> place <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>gaps_wmx_2 <span class="ot">&lt;-</span> gaps_wmx_1 <span class="sc">|&gt;</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(gaps_wmx_1, <span class="at">by =</span> <span class="fu">join_by</span>(next_place <span class="sc">==</span> place, </span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>                                     race_id <span class="sc">==</span> race_id,</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>                                     lap <span class="sc">==</span> lap)) <span class="sc">|&gt;</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(lap, race_id, rider.x, total_time.x, place, </span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>         rider.y, total_time.y, next_place) <span class="sc">|&gt;</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diff =</span> total_time.x <span class="sc">-</span> total_time.y) <span class="sc">|&gt;</span></span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(rider.y) <span class="sc">|&gt;</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(diff <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>rival_pairs_wmx <span class="ot">&lt;-</span> gaps_wmx_2 <span class="sc">|&gt;</span> </span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider.x, rider.y) <span class="sc">|&gt;</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">pair =</span> <span class="fu">map2_chr</span>(rider.x, rider.y, </span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>                         <span class="sc">~</span><span class="fu">paste</span>(<span class="fu">sort</span>(<span class="fu">c</span>(.x, .y)), <span class="at">collapse =</span> <span class="st">"-"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(pair) <span class="sc">|&gt;</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(pair, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"rider1"</span>, <span class="st">"rider2"</span>), <span class="at">sep =</span> <span class="st">"-"</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-28"><a href="#cb53-28" aria-hidden="true" tabindex="-1"></a>rival_pairs_wmx <span class="sc">|&gt;</span></span>
<span id="cb53-29"><a href="#cb53-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb53-30"><a href="#cb53-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb53-31"><a href="#cb53-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider1 =</span> <span class="st">"Rider A"</span>,</span>
<span id="cb53-32"><a href="#cb53-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">rider2 =</span> <span class="st">"Rider B"</span>,</span>
<span id="cb53-33"><a href="#cb53-33" aria-hidden="true" tabindex="-1"></a>             <span class="at">n =</span> <span class="st">"# of Laps"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="pnfardovvd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#pnfardovvd table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pnfardovvd thead, #pnfardovvd tbody, #pnfardovvd tfoot, #pnfardovvd tr, #pnfardovvd td, #pnfardovvd th {
  border-style: none;
}

#pnfardovvd p {
  margin: 0;
  padding: 0;
}

#pnfardovvd .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pnfardovvd .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pnfardovvd .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pnfardovvd .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pnfardovvd .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pnfardovvd .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pnfardovvd .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pnfardovvd .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pnfardovvd .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pnfardovvd .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pnfardovvd .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pnfardovvd .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pnfardovvd .gt_spanner_row {
  border-bottom-style: hidden;
}

#pnfardovvd .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pnfardovvd .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pnfardovvd .gt_from_md > :first-child {
  margin-top: 0;
}

#pnfardovvd .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pnfardovvd .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pnfardovvd .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pnfardovvd .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pnfardovvd .gt_row_group_first td {
  border-top-width: 2px;
}

#pnfardovvd .gt_row_group_first th {
  border-top-width: 2px;
}

#pnfardovvd .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pnfardovvd .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pnfardovvd .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pnfardovvd .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pnfardovvd .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pnfardovvd .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pnfardovvd .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pnfardovvd .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pnfardovvd .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pnfardovvd .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pnfardovvd .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pnfardovvd .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pnfardovvd .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pnfardovvd .gt_left {
  text-align: left;
}

#pnfardovvd .gt_center {
  text-align: center;
}

#pnfardovvd .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pnfardovvd .gt_font_normal {
  font-weight: normal;
}

#pnfardovvd .gt_font_bold {
  font-weight: bold;
}

#pnfardovvd .gt_font_italic {
  font-style: italic;
}

#pnfardovvd .gt_super {
  font-size: 65%;
}

#pnfardovvd .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pnfardovvd .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pnfardovvd .gt_indent_1 {
  text-indent: 5px;
}

#pnfardovvd .gt_indent_2 {
  text-indent: 10px;
}

#pnfardovvd .gt_indent_3 {
  text-indent: 15px;
}

#pnfardovvd .gt_indent_4 {
  text-indent: 20px;
}

#pnfardovvd .gt_indent_5 {
  text-indent: 25px;
}

#pnfardovvd .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#pnfardovvd div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider1" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider A</th>
<th id="rider2" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider B</th>
<th id="n" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col"># of Laps</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">ANI FERGUSON</td>
<td class="gt_row gt_left" headers="rider2">BROOK GREENLAW</td>
<td class="gt_row gt_right" headers="n">16</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">ANNALYSE LOPUSHINSKY</td>
<td class="gt_row gt_left" headers="rider2">KATRINE FERGUSON</td>
<td class="gt_row gt_right" headers="n">16</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">EVE BRODEUR</td>
<td class="gt_row gt_left" headers="rider2">VIVIANA CONTRERAS</td>
<td class="gt_row gt_right" headers="n">15</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">HANNAH COLE</td>
<td class="gt_row gt_left" headers="rider2">KATRINE FERGUSON</td>
<td class="gt_row gt_right" headers="n">12</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">JAIME ASTUDILLO</td>
<td class="gt_row gt_left" headers="rider2">VIVIANA CONTRERAS</td>
<td class="gt_row gt_right" headers="n">12</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">AMELIE CROTEAU</td>
<td class="gt_row gt_left" headers="rider2">BRITTANI MAJCHER</td>
<td class="gt_row gt_right" headers="n">11</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">AMELIE CROTEAU</td>
<td class="gt_row gt_left" headers="rider2">HANNAH COLE</td>
<td class="gt_row gt_right" headers="n">10</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">EVE BRODEUR</td>
<td class="gt_row gt_left" headers="rider2">JAIME ASTUDILLO</td>
<td class="gt_row gt_right" headers="n">10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider1">EVE BRODEUR</td>
<td class="gt_row gt_left" headers="rider2">KAYLIE KAYER</td>
<td class="gt_row gt_right" headers="n">10</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider1">ISABELLA MORGAN</td>
<td class="gt_row gt_left" headers="rider2">MALIA GARANT</td>
<td class="gt_row gt_right" headers="n">9</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="points-race" class="level2">
<h2 class="anchored" data-anchor-id="points-race">4.5 Points race</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>standings_450 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">rider =</span> <span class="fu">c</span>(<span class="st">"JESS PETTIS"</span>, <span class="st">"JOSIAH NATZKE"</span>, </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"PRESTON KILROY"</span>,<span class="st">"AARON TANTI"</span>, </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"TANNER WARD"</span>, <span class="st">"PARKER EALES"</span>,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"DYLAN WRIGHT"</span>, <span class="st">"JULIEN BENEK"</span>, </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"DANIEL ELMORE"</span>, <span class="st">"MITCHELL HARRISON"</span>),</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">total_points =</span> <span class="fu">c</span>(<span class="dv">355</span>, <span class="dv">344</span>, <span class="dv">300</span>, <span class="dv">252</span>, <span class="dv">234</span>, </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>                                  <span class="dv">189</span>, <span class="dv">180</span>, <span class="dv">176</span>, <span class="dv">176</span>, <span class="dv">117</span>))</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>points_race_450 <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span>) <span class="sc">|&gt;</span></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(race_id, rider, points) <span class="sc">|&gt;</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(rider <span class="sc">%in%</span> standings_450<span class="sc">$</span>rider)</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> standings_450<span class="sc">$</span>rider) {</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> points_race_450<span class="sc">$</span>race_id) {</span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>    check <span class="ot">&lt;-</span> points_race_450 <span class="sc">|&gt;</span> <span class="fu">filter</span>(race_id <span class="sc">==</span> j <span class="sc">&amp;</span> rider <span class="sc">==</span> i)</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">nrow</span>(check) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>            points_race_450 <span class="ot">&lt;-</span> points_race_450 <span class="sc">|&gt;</span> <span class="fu">add_row</span>(<span class="at">race_id =</span> j,</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>                                                          <span class="at">rider =</span> i,</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>                                                          <span class="at">points =</span> <span class="dv">0</span>)</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>points_race_450 <span class="sc">|&gt;</span></span>
<span id="cb54-26"><a href="#cb54-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season_moto =</span> <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_1"</span>, <span class="dv">1</span>,</span>
<span id="cb54-27"><a href="#cb54-27" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_2"</span>, <span class="dv">2</span>,</span>
<span id="cb54-28"><a href="#cb54-28" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_3"</span>, <span class="dv">3</span>,</span>
<span id="cb54-29"><a href="#cb54-29" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_4"</span>, <span class="dv">4</span>,</span>
<span id="cb54-30"><a href="#cb54-30" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_5"</span>, <span class="dv">5</span>,</span>
<span id="cb54-31"><a href="#cb54-31" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_6"</span>, <span class="dv">6</span>,</span>
<span id="cb54-32"><a href="#cb54-32" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_7"</span>, <span class="dv">7</span>,</span>
<span id="cb54-33"><a href="#cb54-33" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_8"</span>, <span class="dv">8</span>,</span>
<span id="cb54-34"><a href="#cb54-34" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_9"</span>, <span class="dv">9</span>,</span>
<span id="cb54-35"><a href="#cb54-35" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_10"</span>, <span class="dv">10</span>,</span>
<span id="cb54-36"><a href="#cb54-36" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_11"</span>, <span class="dv">11</span>,</span>
<span id="cb54-37"><a href="#cb54-37" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_12"</span>, <span class="dv">12</span>,</span>
<span id="cb54-38"><a href="#cb54-38" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_13"</span>, <span class="dv">13</span>,</span>
<span id="cb54-39"><a href="#cb54-39" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_14"</span>, <span class="dv">14</span>,</span>
<span id="cb54-40"><a href="#cb54-40" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"450_2024_15"</span>, </span>
<span id="cb54-41"><a href="#cb54-41" aria-hidden="true" tabindex="-1"></a>                               <span class="dv">15</span>,<span class="dv">16</span>)))))))))))))))) <span class="sc">|&gt;</span></span>
<span id="cb54-42"><a href="#cb54-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(season_moto, rider) <span class="sc">|&gt;</span></span>
<span id="cb54-43"><a href="#cb54-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(rider) <span class="sc">|&gt;</span></span>
<span id="cb54-44"><a href="#cb54-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_points =</span> <span class="fu">cumsum</span>(points)) <span class="sc">|&gt;</span></span>
<span id="cb54-45"><a href="#cb54-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb54-46"><a href="#cb54-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season_moto, <span class="at">y =</span> total_points, <span class="at">color =</span> rider)) <span class="sc">+</span></span>
<span id="cb54-47"><a href="#cb54-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb54-48"><a href="#cb54-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Moto #"</span>, <span class="at">y =</span> <span class="st">"Total Points"</span>, <span class="at">title =</span> <span class="st">"450 Points Race"</span>,</span>
<span id="cb54-49"><a href="#cb54-49" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Rider"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>standings_250 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">rider =</span> <span class="fu">c</span>(<span class="st">"KAVEN BENOIT"</span>, <span class="st">"DREW ADAMS"</span>, </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"GAGE LINVILLE"</span>, <span class="st">"SEBASTIEN RACINE"</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"WYATT KERR"</span>, <span class="st">"QUINN AMYOTTE"</span>,</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"TYLER MEDAGLIA"</span>, <span class="st">"TIGER WOOD"</span>, </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"DYLAN REMPEL"</span>, <span class="st">"EVAN STICE"</span>),</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>                 <span class="at">total_points =</span> <span class="fu">c</span>(<span class="dv">351</span>, <span class="dv">349</span>, <span class="dv">254</span>, <span class="dv">225</span>, <span class="dv">223</span>, </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>                                  <span class="dv">215</span>, <span class="dv">178</span>, <span class="dv">162</span>, <span class="dv">155</span>, <span class="dv">141</span>))</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>points_race_250 <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span>) <span class="sc">|&gt;</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(race_id, rider, points) <span class="sc">|&gt;</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(rider <span class="sc">%in%</span> standings_250<span class="sc">$</span>rider)</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> standings_250<span class="sc">$</span>rider) {</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> points_race_250<span class="sc">$</span>race_id) {</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>    check <span class="ot">&lt;-</span> points_race_250 <span class="sc">|&gt;</span> <span class="fu">filter</span>(race_id <span class="sc">==</span> j <span class="sc">&amp;</span> rider <span class="sc">==</span> i)</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">nrow</span>(check) <span class="sc">==</span> <span class="dv">0</span>) {</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>            points_race_250 <span class="ot">&lt;-</span> points_race_250 <span class="sc">|&gt;</span> <span class="fu">add_row</span>(<span class="at">race_id =</span> j,</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>                                                          <span class="at">rider =</span> i,</span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>                                                          <span class="at">points =</span> <span class="dv">0</span>)</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>points_race_250 <span class="sc">|&gt;</span></span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">season_moto =</span> <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_1"</span>, <span class="dv">1</span>,</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_2"</span>, <span class="dv">2</span>,</span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_3"</span>, <span class="dv">3</span>,</span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_4"</span>, <span class="dv">4</span>,</span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_5"</span>, <span class="dv">5</span>,</span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_6"</span>, <span class="dv">6</span>,</span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_7"</span>, <span class="dv">7</span>,</span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_8"</span>, <span class="dv">8</span>,</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_9"</span>, <span class="dv">9</span>,</span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_10"</span>, <span class="dv">10</span>,</span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_11"</span>, <span class="dv">11</span>,</span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_12"</span>, <span class="dv">12</span>,</span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_13"</span>, <span class="dv">13</span>,</span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_14"</span>, <span class="dv">14</span>,</span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">if_else</span>(race_id <span class="sc">==</span> <span class="st">"250_2024_15"</span>, </span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>                               <span class="dv">15</span>,<span class="dv">16</span>)))))))))))))))) <span class="sc">|&gt;</span></span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(season_moto, rider) <span class="sc">|&gt;</span></span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(rider) <span class="sc">|&gt;</span></span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">total_points =</span> <span class="fu">cumsum</span>(points)) <span class="sc">|&gt;</span></span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> season_moto, <span class="at">y =</span> total_points, <span class="at">color =</span> rider)) <span class="sc">+</span></span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Moto #"</span>, <span class="at">y =</span> <span class="st">"Total Points"</span>, <span class="at">title =</span> <span class="st">"250 Points Race"</span>,</span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Rider"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The WMX class was not included in this analysis since there were technically three different series - West, East, and E/W Shootout.</p>
</section>
<section id="positions-gained" class="level2">
<h2 class="anchored" data-anchor-id="positions-gained">4.6 Positions gained</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>all_2024_poschange <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span> race_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"wmx_2024_41"</span>, <span class="st">"wmx_2024_42"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race_id_name =</span> <span class="fu">paste</span>(race_id, rider, <span class="at">sep =</span> <span class="st">"_"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">lead</span>(place, <span class="at">n =</span> <span class="dv">1</span>L,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">order_by =</span> race_id_name)) <span class="sc">|&gt;</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id_name) <span class="sc">|&gt;</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">place_next =</span> <span class="fu">c</span>(place_next[<span class="sc">-</span><span class="fu">n</span>()], <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>(place, place_next) <span class="sc">|&gt;</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">places_gain =</span> <span class="fu">if_else</span>(place_next <span class="sc">&lt;</span> place,</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>                               place <span class="sc">-</span> place_next, <span class="dv">0</span>),</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">places_lost =</span> <span class="fu">if_else</span>(place_next <span class="sc">&gt;</span> place,</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>                               place_next <span class="sc">-</span> place, <span class="dv">0</span>)) <span class="sc">|&gt;</span></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(rider, class) <span class="sc">|&gt;</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_motos =</span> <span class="fu">n_distinct</span>(race_id),</span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>            <span class="at">total_passes =</span> <span class="fu">sum</span>(places_gain),</span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>            <span class="at">avg_finish =</span> <span class="fu">round</span>(<span class="fu">mean</span>(finish),<span class="dv">2</span>),</span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a>            <span class="at">passes_per_moto =</span> <span class="fu">round</span>(total_passes<span class="sc">/</span>total_motos,<span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(passes_per_moto)) <span class="sc">|&gt;</span></span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>450 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>all_2024_poschange <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span>) <span class="sc">|&gt;</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider, total_motos, total_passes,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>         avg_finish, passes_per_moto) <span class="sc">|&gt;</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_finish)) <span class="sc">|&gt;</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(avg_finish, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider =</span> <span class="st">"Rider"</span>,</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_motos =</span> <span class="st">"Total Motos"</span>,</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_passes =</span> <span class="st">"Total Passes"</span>,</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_finish =</span> <span class="st">"Average Finish"</span>,</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">passes_per_moto =</span> <span class="st">"Passes/Moto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="bmmvtyyuwl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bmmvtyyuwl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bmmvtyyuwl thead, #bmmvtyyuwl tbody, #bmmvtyyuwl tfoot, #bmmvtyyuwl tr, #bmmvtyyuwl td, #bmmvtyyuwl th {
  border-style: none;
}

#bmmvtyyuwl p {
  margin: 0;
  padding: 0;
}

#bmmvtyyuwl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bmmvtyyuwl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bmmvtyyuwl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bmmvtyyuwl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bmmvtyyuwl .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bmmvtyyuwl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bmmvtyyuwl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bmmvtyyuwl .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bmmvtyyuwl .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bmmvtyyuwl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bmmvtyyuwl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bmmvtyyuwl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bmmvtyyuwl .gt_spanner_row {
  border-bottom-style: hidden;
}

#bmmvtyyuwl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bmmvtyyuwl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bmmvtyyuwl .gt_from_md > :first-child {
  margin-top: 0;
}

#bmmvtyyuwl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bmmvtyyuwl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bmmvtyyuwl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bmmvtyyuwl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bmmvtyyuwl .gt_row_group_first td {
  border-top-width: 2px;
}

#bmmvtyyuwl .gt_row_group_first th {
  border-top-width: 2px;
}

#bmmvtyyuwl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bmmvtyyuwl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bmmvtyyuwl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bmmvtyyuwl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bmmvtyyuwl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bmmvtyyuwl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bmmvtyyuwl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bmmvtyyuwl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bmmvtyyuwl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bmmvtyyuwl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bmmvtyyuwl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bmmvtyyuwl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bmmvtyyuwl .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bmmvtyyuwl .gt_left {
  text-align: left;
}

#bmmvtyyuwl .gt_center {
  text-align: center;
}

#bmmvtyyuwl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bmmvtyyuwl .gt_font_normal {
  font-weight: normal;
}

#bmmvtyyuwl .gt_font_bold {
  font-weight: bold;
}

#bmmvtyyuwl .gt_font_italic {
  font-style: italic;
}

#bmmvtyyuwl .gt_super {
  font-size: 65%;
}

#bmmvtyyuwl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bmmvtyyuwl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bmmvtyyuwl .gt_indent_1 {
  text-indent: 5px;
}

#bmmvtyyuwl .gt_indent_2 {
  text-indent: 10px;
}

#bmmvtyyuwl .gt_indent_3 {
  text-indent: 15px;
}

#bmmvtyyuwl .gt_indent_4 {
  text-indent: 20px;
}

#bmmvtyyuwl .gt_indent_5 {
  text-indent: 25px;
}

#bmmvtyyuwl .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#bmmvtyyuwl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider</th>
<th id="total_motos" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Motos</th>
<th id="total_passes" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Passes</th>
<th id="avg_finish" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Finish</th>
<th id="passes_per_moto" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Passes/Moto</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JESS PETTIS</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">16</td>
<td class="gt_row gt_right" headers="avg_finish">2.33</td>
<td class="gt_row gt_right" headers="passes_per_moto">1.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">JOSIAH NATZKE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">62</td>
<td class="gt_row gt_right" headers="avg_finish">2.46</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.88</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">PRESTON KILROY</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">57</td>
<td class="gt_row gt_right" headers="avg_finish">3.60</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.56</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">DYLAN WRIGHT</td>
<td class="gt_row gt_right" headers="total_motos">10</td>
<td class="gt_row gt_right" headers="total_passes">28</td>
<td class="gt_row gt_right" headers="avg_finish">4.05</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.80</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">TRISTAN LANE</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="total_passes">18</td>
<td class="gt_row gt_right" headers="avg_finish">4.69</td>
<td class="gt_row gt_right" headers="passes_per_moto">4.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">ADRIEN MALAVAL</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="total_passes">12</td>
<td class="gt_row gt_right" headers="avg_finish">4.80</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">AARON TANTI</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">39</td>
<td class="gt_row gt_right" headers="avg_finish">6.08</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.44</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">MITCHELL HARRISON</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="total_passes">18</td>
<td class="gt_row gt_right" headers="avg_finish">6.23</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.25</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">TANNER WARD</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">60</td>
<td class="gt_row gt_right" headers="avg_finish">6.56</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.75</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">JULIEN BENEK</td>
<td class="gt_row gt_right" headers="total_motos">13</td>
<td class="gt_row gt_right" headers="total_passes">37</td>
<td class="gt_row gt_right" headers="avg_finish">7.55</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.85</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">PARKER EALES</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">53</td>
<td class="gt_row gt_right" headers="avg_finish">9.17</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.31</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">JAMES HARRINGTON</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="total_passes">6</td>
<td class="gt_row gt_right" headers="avg_finish">9.50</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DANIEL ELMORE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">40</td>
<td class="gt_row gt_right" headers="avg_finish">9.86</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">RILEY BROUGH</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="total_passes">2</td>
<td class="gt_row gt_right" headers="avg_finish">10.48</td>
<td class="gt_row gt_right" headers="passes_per_moto">1.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">KEYLAN MESTON</td>
<td class="gt_row gt_right" headers="total_motos">6</td>
<td class="gt_row gt_right" headers="total_passes">23</td>
<td class="gt_row gt_right" headers="avg_finish">10.96</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.83</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>250 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>all_2024_poschange <span class="sc">|&gt;</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span>) <span class="sc">|&gt;</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider, total_motos, total_passes,</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>         avg_finish, passes_per_moto) <span class="sc">|&gt;</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_finish)) <span class="sc">|&gt;</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(avg_finish, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider =</span> <span class="st">"Rider"</span>,</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_motos =</span> <span class="st">"Total Motos"</span>,</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_passes =</span> <span class="st">"Total Passes"</span>,</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_finish =</span> <span class="st">"Average Finish"</span>,</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">passes_per_moto =</span> <span class="st">"Passes/Moto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ticpcyhlww" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ticpcyhlww table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ticpcyhlww thead, #ticpcyhlww tbody, #ticpcyhlww tfoot, #ticpcyhlww tr, #ticpcyhlww td, #ticpcyhlww th {
  border-style: none;
}

#ticpcyhlww p {
  margin: 0;
  padding: 0;
}

#ticpcyhlww .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ticpcyhlww .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ticpcyhlww .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ticpcyhlww .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ticpcyhlww .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ticpcyhlww .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ticpcyhlww .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ticpcyhlww .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ticpcyhlww .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ticpcyhlww .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ticpcyhlww .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ticpcyhlww .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ticpcyhlww .gt_spanner_row {
  border-bottom-style: hidden;
}

#ticpcyhlww .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ticpcyhlww .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ticpcyhlww .gt_from_md > :first-child {
  margin-top: 0;
}

#ticpcyhlww .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ticpcyhlww .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ticpcyhlww .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ticpcyhlww .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ticpcyhlww .gt_row_group_first td {
  border-top-width: 2px;
}

#ticpcyhlww .gt_row_group_first th {
  border-top-width: 2px;
}

#ticpcyhlww .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ticpcyhlww .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ticpcyhlww .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ticpcyhlww .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ticpcyhlww .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ticpcyhlww .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ticpcyhlww .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ticpcyhlww .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ticpcyhlww .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ticpcyhlww .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ticpcyhlww .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ticpcyhlww .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ticpcyhlww .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ticpcyhlww .gt_left {
  text-align: left;
}

#ticpcyhlww .gt_center {
  text-align: center;
}

#ticpcyhlww .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ticpcyhlww .gt_font_normal {
  font-weight: normal;
}

#ticpcyhlww .gt_font_bold {
  font-weight: bold;
}

#ticpcyhlww .gt_font_italic {
  font-style: italic;
}

#ticpcyhlww .gt_super {
  font-size: 65%;
}

#ticpcyhlww .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ticpcyhlww .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ticpcyhlww .gt_indent_1 {
  text-indent: 5px;
}

#ticpcyhlww .gt_indent_2 {
  text-indent: 10px;
}

#ticpcyhlww .gt_indent_3 {
  text-indent: 15px;
}

#ticpcyhlww .gt_indent_4 {
  text-indent: 20px;
}

#ticpcyhlww .gt_indent_5 {
  text-indent: 25px;
}

#ticpcyhlww .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ticpcyhlww div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider</th>
<th id="total_motos" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Motos</th>
<th id="total_passes" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Passes</th>
<th id="avg_finish" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Finish</th>
<th id="passes_per_moto" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Passes/Moto</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DREW ADAMS</td>
<td class="gt_row gt_right" headers="total_motos">15</td>
<td class="gt_row gt_right" headers="total_passes">83</td>
<td class="gt_row gt_right" headers="avg_finish">1.77</td>
<td class="gt_row gt_right" headers="passes_per_moto">5.53</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">KAVEN BENOIT</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">28</td>
<td class="gt_row gt_right" headers="avg_finish">2.13</td>
<td class="gt_row gt_right" headers="passes_per_moto">1.75</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">KRYSTIAN JANIK</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="total_passes">27</td>
<td class="gt_row gt_right" headers="avg_finish">4.03</td>
<td class="gt_row gt_right" headers="passes_per_moto">6.75</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">ALEXANDER FEDORTSOV</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="total_passes">4</td>
<td class="gt_row gt_right" headers="avg_finish">4.50</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DYLAN WALSH</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="total_passes">7</td>
<td class="gt_row gt_right" headers="avg_finish">5.50</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">TYLER MEDAGLIA</td>
<td class="gt_row gt_right" headers="total_motos">11</td>
<td class="gt_row gt_right" headers="total_passes">43</td>
<td class="gt_row gt_right" headers="avg_finish">5.61</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.91</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">WYATT KERR</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">115</td>
<td class="gt_row gt_right" headers="avg_finish">6.72</td>
<td class="gt_row gt_right" headers="passes_per_moto">7.19</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">GAGE LINVILLE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">42</td>
<td class="gt_row gt_right" headers="avg_finish">6.78</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.62</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">SEBASTIEN RACINE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">144</td>
<td class="gt_row gt_right" headers="avg_finish">7.76</td>
<td class="gt_row gt_right" headers="passes_per_moto">9.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">DYLAN REMPEL</td>
<td class="gt_row gt_right" headers="total_motos">13</td>
<td class="gt_row gt_right" headers="total_passes">47</td>
<td class="gt_row gt_right" headers="avg_finish">7.81</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.62</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">QUINN AMYOTTE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">44</td>
<td class="gt_row gt_right" headers="avg_finish">8.28</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.75</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">TIGER WOOD</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">75</td>
<td class="gt_row gt_right" headers="avg_finish">10.89</td>
<td class="gt_row gt_right" headers="passes_per_moto">4.69</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JOSH CLARK</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="total_passes">17</td>
<td class="gt_row gt_right" headers="avg_finish">11.90</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.12</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">EVAN STICE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="total_passes">78</td>
<td class="gt_row gt_right" headers="avg_finish">11.99</td>
<td class="gt_row gt_right" headers="passes_per_moto">4.88</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">LUKE FAUSER</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="total_passes">51</td>
<td class="gt_row gt_right" headers="avg_finish">12.61</td>
<td class="gt_row gt_right" headers="passes_per_moto">6.38</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>WMX class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>all_2024_poschange <span class="sc">|&gt;</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider, total_motos, total_passes,</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>         avg_finish, passes_per_moto) <span class="sc">|&gt;</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_finish)) <span class="sc">|&gt;</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(avg_finish, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider =</span> <span class="st">"Rider"</span>,</span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_motos =</span> <span class="st">"Total Motos"</span>,</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_passes =</span> <span class="st">"Total Passes"</span>,</span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_finish =</span> <span class="st">"Average Finish"</span>,</span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">passes_per_moto =</span> <span class="st">"Passes/Moto"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="undbzsxqqh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#undbzsxqqh table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#undbzsxqqh thead, #undbzsxqqh tbody, #undbzsxqqh tfoot, #undbzsxqqh tr, #undbzsxqqh td, #undbzsxqqh th {
  border-style: none;
}

#undbzsxqqh p {
  margin: 0;
  padding: 0;
}

#undbzsxqqh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#undbzsxqqh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#undbzsxqqh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#undbzsxqqh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#undbzsxqqh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#undbzsxqqh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#undbzsxqqh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#undbzsxqqh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#undbzsxqqh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#undbzsxqqh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#undbzsxqqh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#undbzsxqqh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#undbzsxqqh .gt_spanner_row {
  border-bottom-style: hidden;
}

#undbzsxqqh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#undbzsxqqh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#undbzsxqqh .gt_from_md > :first-child {
  margin-top: 0;
}

#undbzsxqqh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#undbzsxqqh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#undbzsxqqh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#undbzsxqqh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#undbzsxqqh .gt_row_group_first td {
  border-top-width: 2px;
}

#undbzsxqqh .gt_row_group_first th {
  border-top-width: 2px;
}

#undbzsxqqh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#undbzsxqqh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#undbzsxqqh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#undbzsxqqh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#undbzsxqqh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#undbzsxqqh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#undbzsxqqh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#undbzsxqqh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#undbzsxqqh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#undbzsxqqh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#undbzsxqqh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#undbzsxqqh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#undbzsxqqh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#undbzsxqqh .gt_left {
  text-align: left;
}

#undbzsxqqh .gt_center {
  text-align: center;
}

#undbzsxqqh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#undbzsxqqh .gt_font_normal {
  font-weight: normal;
}

#undbzsxqqh .gt_font_bold {
  font-weight: bold;
}

#undbzsxqqh .gt_font_italic {
  font-style: italic;
}

#undbzsxqqh .gt_super {
  font-size: 65%;
}

#undbzsxqqh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#undbzsxqqh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#undbzsxqqh .gt_indent_1 {
  text-indent: 5px;
}

#undbzsxqqh .gt_indent_2 {
  text-indent: 10px;
}

#undbzsxqqh .gt_indent_3 {
  text-indent: 15px;
}

#undbzsxqqh .gt_indent_4 {
  text-indent: 20px;
}

#undbzsxqqh .gt_indent_5 {
  text-indent: 25px;
}

#undbzsxqqh .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#undbzsxqqh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider</th>
<th id="total_motos" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Motos</th>
<th id="total_passes" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Passes</th>
<th id="avg_finish" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Finish</th>
<th id="passes_per_moto" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Passes/Moto</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JORDAN JARVIS</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="total_passes">0</td>
<td class="gt_row gt_right" headers="avg_finish">1.00</td>
<td class="gt_row gt_right" headers="passes_per_moto">0.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">JAIME ASTUDILLO</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="total_passes">0</td>
<td class="gt_row gt_right" headers="avg_finish">1.79</td>
<td class="gt_row gt_right" headers="passes_per_moto">0.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">EVE BRODEUR</td>
<td class="gt_row gt_right" headers="total_motos">12</td>
<td class="gt_row gt_right" headers="total_passes">12</td>
<td class="gt_row gt_right" headers="avg_finish">2.05</td>
<td class="gt_row gt_right" headers="passes_per_moto">1.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">VIVIANA CONTRERAS</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="total_passes">5</td>
<td class="gt_row gt_right" headers="avg_finish">2.28</td>
<td class="gt_row gt_right" headers="passes_per_moto">0.62</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">KAYLIE KAYER</td>
<td class="gt_row gt_right" headers="total_motos">13</td>
<td class="gt_row gt_right" headers="total_passes">21</td>
<td class="gt_row gt_right" headers="avg_finish">3.75</td>
<td class="gt_row gt_right" headers="passes_per_moto">1.62</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">LEXI PECHOUT</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="total_passes">2</td>
<td class="gt_row gt_right" headers="avg_finish">4.50</td>
<td class="gt_row gt_right" headers="passes_per_moto">1.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">KATRINE FERGUSON</td>
<td class="gt_row gt_right" headers="total_motos">14</td>
<td class="gt_row gt_right" headers="total_passes">31</td>
<td class="gt_row gt_right" headers="avg_finish">4.53</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.21</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">ANNALYSE LOPUSHINSKY</td>
<td class="gt_row gt_right" headers="total_motos">6</td>
<td class="gt_row gt_right" headers="total_passes">21</td>
<td class="gt_row gt_right" headers="avg_finish">4.56</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.50</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">HANNAH COLE</td>
<td class="gt_row gt_right" headers="total_motos">6</td>
<td class="gt_row gt_right" headers="total_passes">21</td>
<td class="gt_row gt_right" headers="avg_finish">5.76</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">BRITTANI MAJCHER</td>
<td class="gt_row gt_right" headers="total_motos">6</td>
<td class="gt_row gt_right" headers="total_passes">26</td>
<td class="gt_row gt_right" headers="avg_finish">5.79</td>
<td class="gt_row gt_right" headers="passes_per_moto">4.33</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">AMELIE CROTEAU</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="total_passes">16</td>
<td class="gt_row gt_right" headers="avg_finish">5.96</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">SARAH-KIM VILLENEUVE</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="total_passes">17</td>
<td class="gt_row gt_right" headers="avg_finish">6.50</td>
<td class="gt_row gt_right" headers="passes_per_moto">8.50</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DESTINY SLINGERLAND</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="total_passes">12</td>
<td class="gt_row gt_right" headers="avg_finish">7.70</td>
<td class="gt_row gt_right" headers="passes_per_moto">3.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">JORDANNE TROTTIER</td>
<td class="gt_row gt_right" headers="total_motos">3</td>
<td class="gt_row gt_right" headers="total_passes">1</td>
<td class="gt_row gt_right" headers="avg_finish">7.71</td>
<td class="gt_row gt_right" headers="passes_per_moto">0.33</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">SIENNA BROWN</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="total_passes">8</td>
<td class="gt_row gt_right" headers="avg_finish">7.75</td>
<td class="gt_row gt_right" headers="passes_per_moto">2.00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(all_2024_poschange,</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> avg_finish,</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> passes_per_moto,</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> class)) <span class="sc">+</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>) <span class="sc">+</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Average Finish"</span>,</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Passes per Moto"</span>,</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Class"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There is lots of useful insight from this graph. First, we see a similar pattern for all three classes. The riders who finish near the front are not making many passes. They usually have good starts and stay in the front throughout the moto. The riders who finish near the rear are not making many passes. They usually have poor starts and stay in the back throughout the moto. The most passing occurs in the middle of pack.</p>
<p>Second, we see that the 250 class has the most passing and the WMX class has the least amount of passing.</p>
</section>
<section id="best-starters" class="level2">
<h2 class="anchored" data-anchor-id="best-starters">4.7 Best starters</h2>
<p>Unfortunately we donâ€™t access to any holeshot data, so we define the start variable as the riderâ€™s place after the first lap.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>all_2024_startfinish <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span> race_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"wmx_2024_41"</span>, <span class="st">"wmx_2024_42"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider, finish, place, race_id, class) <span class="sc">|&gt;</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(rider, class) <span class="sc">|&gt;</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">total_motos =</span> <span class="fu">n_distinct</span>(race_id),</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">avg_start =</span> <span class="fu">round</span>(<span class="fu">mean</span>(place), <span class="dv">2</span>),</span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">avg_finish =</span> <span class="fu">round</span>(<span class="fu">mean</span>(finish), <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>450 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>all_2024_startfinish <span class="sc">|&gt;</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"450"</span>) <span class="sc">|&gt;</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider, total_motos, avg_start,</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>         avg_finish) <span class="sc">|&gt;</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_start)) <span class="sc">|&gt;</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(avg_start, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider =</span> <span class="st">"Rider"</span>,</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_motos =</span> <span class="st">"Total Motos"</span>,</span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_start =</span> <span class="st">"Average Start"</span>,</span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_finish =</span> <span class="st">"Average Finish"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="bddnlwnjcg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#bddnlwnjcg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#bddnlwnjcg thead, #bddnlwnjcg tbody, #bddnlwnjcg tfoot, #bddnlwnjcg tr, #bddnlwnjcg td, #bddnlwnjcg th {
  border-style: none;
}

#bddnlwnjcg p {
  margin: 0;
  padding: 0;
}

#bddnlwnjcg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#bddnlwnjcg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#bddnlwnjcg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#bddnlwnjcg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#bddnlwnjcg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bddnlwnjcg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bddnlwnjcg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#bddnlwnjcg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#bddnlwnjcg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#bddnlwnjcg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#bddnlwnjcg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#bddnlwnjcg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#bddnlwnjcg .gt_spanner_row {
  border-bottom-style: hidden;
}

#bddnlwnjcg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#bddnlwnjcg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#bddnlwnjcg .gt_from_md > :first-child {
  margin-top: 0;
}

#bddnlwnjcg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#bddnlwnjcg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#bddnlwnjcg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#bddnlwnjcg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#bddnlwnjcg .gt_row_group_first td {
  border-top-width: 2px;
}

#bddnlwnjcg .gt_row_group_first th {
  border-top-width: 2px;
}

#bddnlwnjcg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bddnlwnjcg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#bddnlwnjcg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#bddnlwnjcg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bddnlwnjcg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#bddnlwnjcg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#bddnlwnjcg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#bddnlwnjcg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#bddnlwnjcg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#bddnlwnjcg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bddnlwnjcg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bddnlwnjcg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#bddnlwnjcg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#bddnlwnjcg .gt_left {
  text-align: left;
}

#bddnlwnjcg .gt_center {
  text-align: center;
}

#bddnlwnjcg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#bddnlwnjcg .gt_font_normal {
  font-weight: normal;
}

#bddnlwnjcg .gt_font_bold {
  font-weight: bold;
}

#bddnlwnjcg .gt_font_italic {
  font-style: italic;
}

#bddnlwnjcg .gt_super {
  font-size: 65%;
}

#bddnlwnjcg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#bddnlwnjcg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#bddnlwnjcg .gt_indent_1 {
  text-indent: 5px;
}

#bddnlwnjcg .gt_indent_2 {
  text-indent: 10px;
}

#bddnlwnjcg .gt_indent_3 {
  text-indent: 15px;
}

#bddnlwnjcg .gt_indent_4 {
  text-indent: 20px;
}

#bddnlwnjcg .gt_indent_5 {
  text-indent: 25px;
}

#bddnlwnjcg .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#bddnlwnjcg div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider</th>
<th id="total_motos" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Motos</th>
<th id="avg_start" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Start</th>
<th id="avg_finish" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Finish</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JESS PETTIS</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">2.00</td>
<td class="gt_row gt_right" headers="avg_finish">2.25</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">DYLAN WRIGHT</td>
<td class="gt_row gt_right" headers="total_motos">10</td>
<td class="gt_row gt_right" headers="avg_start">4.70</td>
<td class="gt_row gt_right" headers="avg_finish">6.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">AARON TANTI</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">4.81</td>
<td class="gt_row gt_right" headers="avg_finish">6.06</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">MITCHELL HARRISON</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="avg_start">5.50</td>
<td class="gt_row gt_right" headers="avg_finish">7.88</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JOSIAH NATZKE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">5.69</td>
<td class="gt_row gt_right" headers="avg_finish">2.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">PRESTON KILROY</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">6.38</td>
<td class="gt_row gt_right" headers="avg_finish">3.62</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">ADRIEN MALAVAL</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="avg_start">7.50</td>
<td class="gt_row gt_right" headers="avg_finish">4.75</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">TANNER WARD</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">7.88</td>
<td class="gt_row gt_right" headers="avg_finish">6.62</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">TRISTAN LANE</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="avg_start">8.25</td>
<td class="gt_row gt_right" headers="avg_finish">4.75</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">RILEY BROUGH</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">8.50</td>
<td class="gt_row gt_right" headers="avg_finish">10.50</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JULIEN BENEK</td>
<td class="gt_row gt_right" headers="total_motos">13</td>
<td class="gt_row gt_right" headers="avg_start">8.69</td>
<td class="gt_row gt_right" headers="avg_finish">7.46</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">BLAKE DAVIES</td>
<td class="gt_row gt_right" headers="total_motos">1</td>
<td class="gt_row gt_right" headers="avg_start">9.00</td>
<td class="gt_row gt_right" headers="avg_finish">30.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">NICK COLLINS</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">9.50</td>
<td class="gt_row gt_right" headers="avg_finish">14.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">DANIEL ELMORE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">9.88</td>
<td class="gt_row gt_right" headers="avg_finish">10.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JAMES HARRINGTON</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">10.50</td>
<td class="gt_row gt_right" headers="avg_finish">9.50</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>250 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>all_2024_startfinish <span class="sc">|&gt;</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"250"</span>) <span class="sc">|&gt;</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider, total_motos, avg_start,</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>         avg_finish) <span class="sc">|&gt;</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_start)) <span class="sc">|&gt;</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(avg_start, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider =</span> <span class="st">"Rider"</span>,</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_motos =</span> <span class="st">"Total Motos"</span>,</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_start =</span> <span class="st">"Average Start"</span>,</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_finish =</span> <span class="st">"Average Finish"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="hitweuepzf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hitweuepzf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hitweuepzf thead, #hitweuepzf tbody, #hitweuepzf tfoot, #hitweuepzf tr, #hitweuepzf td, #hitweuepzf th {
  border-style: none;
}

#hitweuepzf p {
  margin: 0;
  padding: 0;
}

#hitweuepzf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hitweuepzf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hitweuepzf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hitweuepzf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hitweuepzf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hitweuepzf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hitweuepzf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hitweuepzf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hitweuepzf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hitweuepzf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hitweuepzf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hitweuepzf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hitweuepzf .gt_spanner_row {
  border-bottom-style: hidden;
}

#hitweuepzf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hitweuepzf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hitweuepzf .gt_from_md > :first-child {
  margin-top: 0;
}

#hitweuepzf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hitweuepzf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hitweuepzf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hitweuepzf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hitweuepzf .gt_row_group_first td {
  border-top-width: 2px;
}

#hitweuepzf .gt_row_group_first th {
  border-top-width: 2px;
}

#hitweuepzf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hitweuepzf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hitweuepzf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hitweuepzf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hitweuepzf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hitweuepzf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hitweuepzf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hitweuepzf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hitweuepzf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hitweuepzf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hitweuepzf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hitweuepzf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hitweuepzf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hitweuepzf .gt_left {
  text-align: left;
}

#hitweuepzf .gt_center {
  text-align: center;
}

#hitweuepzf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hitweuepzf .gt_font_normal {
  font-weight: normal;
}

#hitweuepzf .gt_font_bold {
  font-weight: bold;
}

#hitweuepzf .gt_font_italic {
  font-style: italic;
}

#hitweuepzf .gt_super {
  font-size: 65%;
}

#hitweuepzf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hitweuepzf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hitweuepzf .gt_indent_1 {
  text-indent: 5px;
}

#hitweuepzf .gt_indent_2 {
  text-indent: 10px;
}

#hitweuepzf .gt_indent_3 {
  text-indent: 15px;
}

#hitweuepzf .gt_indent_4 {
  text-indent: 20px;
}

#hitweuepzf .gt_indent_5 {
  text-indent: 25px;
}

#hitweuepzf .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#hitweuepzf div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider</th>
<th id="total_motos" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Motos</th>
<th id="avg_start" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Start</th>
<th id="avg_finish" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Finish</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider">KAVEN BENOIT</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">3.44</td>
<td class="gt_row gt_right" headers="avg_finish">2.12</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">ALEXANDER FEDORTSOV</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">5.00</td>
<td class="gt_row gt_right" headers="avg_finish">4.50</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DYLAN WALSH</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">6.00</td>
<td class="gt_row gt_right" headers="avg_finish">5.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">DREW ADAMS</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">6.88</td>
<td class="gt_row gt_right" headers="avg_finish">3.94</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">GAGE LINVILLE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">6.94</td>
<td class="gt_row gt_right" headers="avg_finish">9.75</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">QUINN AMYOTTE</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">7.62</td>
<td class="gt_row gt_right" headers="avg_finish">8.75</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JOSH CLARK</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="avg_start">8.38</td>
<td class="gt_row gt_right" headers="avg_finish">11.88</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">LUKE FAUSER</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="avg_start">8.88</td>
<td class="gt_row gt_right" headers="avg_finish">13.12</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DYLAN REMPEL</td>
<td class="gt_row gt_right" headers="total_motos">13</td>
<td class="gt_row gt_right" headers="avg_start">8.92</td>
<td class="gt_row gt_right" headers="avg_finish">11.92</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">KRYSTIAN JANIK</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="avg_start">9.50</td>
<td class="gt_row gt_right" headers="avg_finish">4.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">NOAH VINEY</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">10.00</td>
<td class="gt_row gt_right" headers="avg_finish">15.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">BRADEN SPANGLE</td>
<td class="gt_row gt_right" headers="total_motos">3</td>
<td class="gt_row gt_right" headers="avg_start">11.00</td>
<td class="gt_row gt_right" headers="avg_finish">22.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">NOAH PORTER</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="avg_start">11.12</td>
<td class="gt_row gt_right" headers="avg_finish">14.25</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">TYLER MEDAGLIA</td>
<td class="gt_row gt_right" headers="total_motos">12</td>
<td class="gt_row gt_right" headers="avg_start">11.25</td>
<td class="gt_row gt_right" headers="avg_finish">10.08</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">TIGER WOOD</td>
<td class="gt_row gt_right" headers="total_motos">16</td>
<td class="gt_row gt_right" headers="avg_start">11.62</td>
<td class="gt_row gt_right" headers="avg_finish">10.88</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>WMX class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>all_2024_startfinish <span class="sc">|&gt;</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"WMX"</span>) <span class="sc">|&gt;</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider, total_motos, avg_start,</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>         avg_finish) <span class="sc">|&gt;</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(avg_start)) <span class="sc">|&gt;</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(avg_start, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider =</span> <span class="st">"Rider"</span>,</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">total_motos =</span> <span class="st">"Total Motos"</span>,</span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_start =</span> <span class="st">"Average Start"</span>,</span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_finish =</span> <span class="st">"Average Finish"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="kmvguimrua" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#kmvguimrua table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#kmvguimrua thead, #kmvguimrua tbody, #kmvguimrua tfoot, #kmvguimrua tr, #kmvguimrua td, #kmvguimrua th {
  border-style: none;
}

#kmvguimrua p {
  margin: 0;
  padding: 0;
}

#kmvguimrua .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kmvguimrua .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#kmvguimrua .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kmvguimrua .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kmvguimrua .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kmvguimrua .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kmvguimrua .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kmvguimrua .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kmvguimrua .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kmvguimrua .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kmvguimrua .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kmvguimrua .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kmvguimrua .gt_spanner_row {
  border-bottom-style: hidden;
}

#kmvguimrua .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#kmvguimrua .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kmvguimrua .gt_from_md > :first-child {
  margin-top: 0;
}

#kmvguimrua .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kmvguimrua .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kmvguimrua .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kmvguimrua .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kmvguimrua .gt_row_group_first td {
  border-top-width: 2px;
}

#kmvguimrua .gt_row_group_first th {
  border-top-width: 2px;
}

#kmvguimrua .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kmvguimrua .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kmvguimrua .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kmvguimrua .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kmvguimrua .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kmvguimrua .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kmvguimrua .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#kmvguimrua .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kmvguimrua .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kmvguimrua .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kmvguimrua .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kmvguimrua .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kmvguimrua .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kmvguimrua .gt_left {
  text-align: left;
}

#kmvguimrua .gt_center {
  text-align: center;
}

#kmvguimrua .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kmvguimrua .gt_font_normal {
  font-weight: normal;
}

#kmvguimrua .gt_font_bold {
  font-weight: bold;
}

#kmvguimrua .gt_font_italic {
  font-style: italic;
}

#kmvguimrua .gt_super {
  font-size: 65%;
}

#kmvguimrua .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#kmvguimrua .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kmvguimrua .gt_indent_1 {
  text-indent: 5px;
}

#kmvguimrua .gt_indent_2 {
  text-indent: 10px;
}

#kmvguimrua .gt_indent_3 {
  text-indent: 15px;
}

#kmvguimrua .gt_indent_4 {
  text-indent: 20px;
}

#kmvguimrua .gt_indent_5 {
  text-indent: 25px;
}

#kmvguimrua .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#kmvguimrua div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider</th>
<th id="total_motos" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total Motos</th>
<th id="avg_start" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Start</th>
<th id="avg_finish" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Finish</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JORDAN JARVIS</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">1.00</td>
<td class="gt_row gt_right" headers="avg_finish">1.00</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">JAIME ASTUDILLO</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="avg_start">1.62</td>
<td class="gt_row gt_right" headers="avg_finish">1.75</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">VIVIANA CONTRERAS</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="avg_start">2.62</td>
<td class="gt_row gt_right" headers="avg_finish">2.25</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">EVE BRODEUR</td>
<td class="gt_row gt_right" headers="total_motos">12</td>
<td class="gt_row gt_right" headers="avg_start">3.00</td>
<td class="gt_row gt_right" headers="avg_finish">2.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">LEXI PECHOUT</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">4.00</td>
<td class="gt_row gt_right" headers="avg_finish">4.50</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">KAYLIE KAYER</td>
<td class="gt_row gt_right" headers="total_motos">13</td>
<td class="gt_row gt_right" headers="avg_start">5.00</td>
<td class="gt_row gt_right" headers="avg_finish">3.77</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">SAMANTHA FARR</td>
<td class="gt_row gt_right" headers="total_motos">4</td>
<td class="gt_row gt_right" headers="avg_start">5.50</td>
<td class="gt_row gt_right" headers="avg_finish">9.75</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">KATRINE FERGUSON</td>
<td class="gt_row gt_right" headers="total_motos">14</td>
<td class="gt_row gt_right" headers="avg_start">5.93</td>
<td class="gt_row gt_right" headers="avg_finish">4.86</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JORDANNE TROTTIER</td>
<td class="gt_row gt_right" headers="total_motos">3</td>
<td class="gt_row gt_right" headers="avg_start">6.67</td>
<td class="gt_row gt_right" headers="avg_finish">7.67</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">BAILEY ORBANSKI</td>
<td class="gt_row gt_right" headers="total_motos">2</td>
<td class="gt_row gt_right" headers="avg_start">7.00</td>
<td class="gt_row gt_right" headers="avg_finish">10.00</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">AMELIE CROTEAU</td>
<td class="gt_row gt_right" headers="total_motos">8</td>
<td class="gt_row gt_right" headers="avg_start">7.38</td>
<td class="gt_row gt_right" headers="avg_finish">5.88</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">ANNALYSE LOPUSHINSKY</td>
<td class="gt_row gt_right" headers="total_motos">6</td>
<td class="gt_row gt_right" headers="avg_start">7.67</td>
<td class="gt_row gt_right" headers="avg_finish">4.50</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">LAUREN PUHLMANN</td>
<td class="gt_row gt_right" headers="total_motos">6</td>
<td class="gt_row gt_right" headers="avg_start">7.83</td>
<td class="gt_row gt_right" headers="avg_finish">10.33</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">HANNAH COLE</td>
<td class="gt_row gt_right" headers="total_motos">6</td>
<td class="gt_row gt_right" headers="avg_start">8.33</td>
<td class="gt_row gt_right" headers="avg_finish">5.83</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">ANI FERGUSON</td>
<td class="gt_row gt_right" headers="total_motos">10</td>
<td class="gt_row gt_right" headers="avg_start">8.50</td>
<td class="gt_row gt_right" headers="avg_finish">9.80</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can see that those who start strong often finish strong. For the 250 and 450 class, the best starter was also the series champion.</p>
<p>We can also see in which direction the rider usually heads after the start. If the average finish is higher than the average start, the rider usually drops back. If the average finish is lower than the average start, the rider usually climbs up. However, it is important to note that a rider who starts well usually has no place to go but down. This is why Jess Pettis has an average finish below his average start because he starts so many motos in the lead.</p>
</section>
<section id="lap-consistency" class="level2">
<h2 class="anchored" data-anchor-id="lap-consistency">4.8 Lap consistency</h2>
<p>By creating density histograms of lap times during a particular moto, we can assess which riders are consistently fast.</p>
<p>Here are the top five finishers of the first moto for the 450 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>moto_consistency <span class="ot">&lt;-</span> <span class="cf">function</span>(input_raceid) {</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(race_id <span class="sc">==</span> input_raceid) <span class="sc">|&gt;</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(lap <span class="sc">!=</span> <span class="dv">1</span> <span class="sc">&amp;</span> finish <span class="sc">&lt;=</span> <span class="dv">5</span>) <span class="sc">|&gt;</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> time, <span class="at">color =</span> <span class="fu">paste0</span>(finish, <span class="st">"-"</span>, rider))) <span class="sc">+</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_density</span>() <span class="sc">+</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Lap Time"</span>,</span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Density"</span>,</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">color =</span> <span class="st">"Rider"</span>,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="st">"450 Class - Rd 1 - Moto 1"</span>)</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="fu">moto_consistency</span>(<span class="st">"450_2024_1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The central tendency of the race winner, Dylan Wright, is the further to the left, indicating that he had the fastest lap times. However, Wright has the flattest curve, indicating a lack of consistency in this moto. The curve of Josiah Natzke is the tallest, which shows that he had the most consistent lap times, even if they werenâ€™t the fastest in the field.</p>
</section>
<section id="lap-comparisons-to-race-leader" class="level2">
<h2 class="anchored" data-anchor-id="lap-comparisons-to-race-leader">4.9 Lap comparisons to race leader</h2>
<p>It is useful to compare how a rider is performing in a moto relative to the race leader. We can see the points in a race where the rider begins to fall off.</p>
<p>The following table highlights 450 rider Tanner Wardâ€™s lap times in the first moto of the season.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>lap_comparison <span class="ot">&lt;-</span> <span class="cf">function</span>(input_raceid, input_rider) {</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  leader_times <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(race_id <span class="sc">==</span> input_raceid <span class="sc">&amp;</span> place <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(lap, time) <span class="sc">|&gt;</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="at">leader_time =</span> time) <span class="sc">|&gt;</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(lap)</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>  all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(race_id <span class="sc">==</span> input_raceid <span class="sc">&amp;</span> rider <span class="sc">==</span> input_rider) <span class="sc">|&gt;</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(lap, time) <span class="sc">|&gt;</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(leader_times) <span class="sc">|&gt;</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">last_lap_time =</span> <span class="fu">lag</span>(time, <span class="at">default =</span> <span class="cn">NA</span>)) <span class="sc">|&gt;</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">diff_lastlap =</span> time <span class="sc">-</span> last_lap_time,</span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">diff_leader =</span> time <span class="sc">-</span> leader_time) <span class="sc">|&gt;</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(lap, time, diff_lastlap, diff_leader) <span class="sc">|&gt;</span></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cols_label</span>(<span class="at">lap =</span> <span class="st">"Lap"</span>,</span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">time =</span> <span class="st">"Time"</span>,</span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">diff_lastlap =</span> <span class="st">"Difference to Last Lap"</span>,</span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">diff_leader =</span> <span class="st">"Difference to Leader Lap"</span>)</span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a><span class="fu">lap_comparison</span>(<span class="st">"450_2024_1"</span>, <span class="st">"TANNER WARD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="pplwiorctb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#pplwiorctb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#pplwiorctb thead, #pplwiorctb tbody, #pplwiorctb tfoot, #pplwiorctb tr, #pplwiorctb td, #pplwiorctb th {
  border-style: none;
}

#pplwiorctb p {
  margin: 0;
  padding: 0;
}

#pplwiorctb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pplwiorctb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#pplwiorctb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pplwiorctb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pplwiorctb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pplwiorctb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pplwiorctb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pplwiorctb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pplwiorctb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pplwiorctb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pplwiorctb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pplwiorctb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pplwiorctb .gt_spanner_row {
  border-bottom-style: hidden;
}

#pplwiorctb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#pplwiorctb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pplwiorctb .gt_from_md > :first-child {
  margin-top: 0;
}

#pplwiorctb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pplwiorctb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pplwiorctb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#pplwiorctb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#pplwiorctb .gt_row_group_first td {
  border-top-width: 2px;
}

#pplwiorctb .gt_row_group_first th {
  border-top-width: 2px;
}

#pplwiorctb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pplwiorctb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#pplwiorctb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#pplwiorctb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pplwiorctb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pplwiorctb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pplwiorctb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#pplwiorctb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pplwiorctb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pplwiorctb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pplwiorctb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pplwiorctb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pplwiorctb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#pplwiorctb .gt_left {
  text-align: left;
}

#pplwiorctb .gt_center {
  text-align: center;
}

#pplwiorctb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pplwiorctb .gt_font_normal {
  font-weight: normal;
}

#pplwiorctb .gt_font_bold {
  font-weight: bold;
}

#pplwiorctb .gt_font_italic {
  font-style: italic;
}

#pplwiorctb .gt_super {
  font-size: 65%;
}

#pplwiorctb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#pplwiorctb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#pplwiorctb .gt_indent_1 {
  text-indent: 5px;
}

#pplwiorctb .gt_indent_2 {
  text-indent: 10px;
}

#pplwiorctb .gt_indent_3 {
  text-indent: 15px;
}

#pplwiorctb .gt_indent_4 {
  text-indent: 20px;
}

#pplwiorctb .gt_indent_5 {
  text-indent: 25px;
}

#pplwiorctb .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#pplwiorctb div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="lap" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Lap</th>
<th id="time" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Time</th>
<th id="diff_lastlap" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Difference to Last Lap</th>
<th id="diff_leader" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Difference to Leader Lap</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="lap">1</td>
<td class="gt_row gt_right" headers="time">72.382</td>
<td class="gt_row gt_right" headers="diff_lastlap">NA</td>
<td class="gt_row gt_right" headers="diff_leader">12.382</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="lap">2</td>
<td class="gt_row gt_right" headers="time">136.006</td>
<td class="gt_row gt_right" headers="diff_lastlap">63.624</td>
<td class="gt_row gt_right" headers="diff_leader">4.702</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="lap">3</td>
<td class="gt_row gt_right" headers="time">134.679</td>
<td class="gt_row gt_right" headers="diff_lastlap">-1.327</td>
<td class="gt_row gt_right" headers="diff_leader">5.132</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="lap">4</td>
<td class="gt_row gt_right" headers="time">133.898</td>
<td class="gt_row gt_right" headers="diff_lastlap">-0.781</td>
<td class="gt_row gt_right" headers="diff_leader">4.349</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="lap">5</td>
<td class="gt_row gt_right" headers="time">134.248</td>
<td class="gt_row gt_right" headers="diff_lastlap">0.350</td>
<td class="gt_row gt_right" headers="diff_leader">4.178</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="lap">6</td>
<td class="gt_row gt_right" headers="time">133.807</td>
<td class="gt_row gt_right" headers="diff_lastlap">-0.441</td>
<td class="gt_row gt_right" headers="diff_leader">4.203</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="lap">7</td>
<td class="gt_row gt_right" headers="time">131.216</td>
<td class="gt_row gt_right" headers="diff_lastlap">-2.591</td>
<td class="gt_row gt_right" headers="diff_leader">2.548</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="lap">8</td>
<td class="gt_row gt_right" headers="time">132.705</td>
<td class="gt_row gt_right" headers="diff_lastlap">1.489</td>
<td class="gt_row gt_right" headers="diff_leader">2.814</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="lap">9</td>
<td class="gt_row gt_right" headers="time">133.443</td>
<td class="gt_row gt_right" headers="diff_lastlap">0.738</td>
<td class="gt_row gt_right" headers="diff_leader">3.108</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="lap">10</td>
<td class="gt_row gt_right" headers="time">132.590</td>
<td class="gt_row gt_right" headers="diff_lastlap">-0.853</td>
<td class="gt_row gt_right" headers="diff_leader">1.951</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="lap">11</td>
<td class="gt_row gt_right" headers="time">134.355</td>
<td class="gt_row gt_right" headers="diff_lastlap">1.765</td>
<td class="gt_row gt_right" headers="diff_leader">2.399</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="lap">12</td>
<td class="gt_row gt_right" headers="time">133.758</td>
<td class="gt_row gt_right" headers="diff_lastlap">-0.597</td>
<td class="gt_row gt_right" headers="diff_leader">3.287</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="lap">13</td>
<td class="gt_row gt_right" headers="time">133.784</td>
<td class="gt_row gt_right" headers="diff_lastlap">0.026</td>
<td class="gt_row gt_right" headers="diff_leader">1.165</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="lap">14</td>
<td class="gt_row gt_right" headers="time">134.519</td>
<td class="gt_row gt_right" headers="diff_lastlap">0.735</td>
<td class="gt_row gt_right" headers="diff_leader">1.243</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="lap">15</td>
<td class="gt_row gt_right" headers="time">134.291</td>
<td class="gt_row gt_right" headers="diff_lastlap">-0.228</td>
<td class="gt_row gt_right" headers="diff_leader">-0.151</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="lap">16</td>
<td class="gt_row gt_right" headers="time">135.247</td>
<td class="gt_row gt_right" headers="diff_lastlap">0.956</td>
<td class="gt_row gt_right" headers="diff_leader">3.029</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="lap">17</td>
<td class="gt_row gt_right" headers="time">134.008</td>
<td class="gt_row gt_right" headers="diff_lastlap">-1.239</td>
<td class="gt_row gt_right" headers="diff_leader">-0.122</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can see that Ward had a slower start to this moto, putting in laps around 4-5 seconds behind the leader. But he comes on strong towards the end, even putting in some laps faster than the race leader Dylan Wright.</p>
</section>
<section id="win-probability-model" class="level2">
<h2 class="anchored" data-anchor-id="win-probability-model">4.10 Win probability model</h2>
<p>If we know how many laps are left, what place a rider is positioned in, and how far they are behind the leader, we can predict the likelihood that they go on to win the race.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>winning_model_data <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span> <span class="fu">is.na</span>(behind)) <span class="sc">|&gt;</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">won_race =</span> <span class="fu">if_else</span>(finish <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">|&gt;</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">laps_left =</span> <span class="fu">max</span>(lap) <span class="sc">-</span> lap) <span class="sc">|&gt;</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(rider, race_id, laps_left, place, behind, won_race) <span class="sc">|&gt;</span></span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">won_race =</span> <span class="fu">factor</span>(won_race))</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>logistic_model <span class="ot">&lt;-</span> <span class="fu">glm</span>(won_race <span class="sc">~</span> laps_left <span class="sc">+</span> place <span class="sc">+</span> behind, </span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data =</span> winning_model_data, </span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>                      <span class="at">family =</span> binomial)</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(logistic_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = won_race ~ laps_left + place + behind, family = binomial, 
    data = winning_model_data)

Coefficients:
            Estimate Std. Error z value Pr(&gt;|z|)    
(Intercept)  1.66569    0.14705  11.327  &lt; 2e-16 ***
laps_left   -0.07215    0.01427  -5.055 4.31e-07 ***
place       -0.35824    0.07467  -4.798 1.60e-06 ***
behind      -0.32084    0.02566 -12.503  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for binomial family taken to be 1)

    Null deviance: 4983.3  on 16221  degrees of freedom
Residual deviance: 1469.3  on 16218  degrees of freedom
AIC: 1477.3

Number of Fisher Scoring iterations: 13</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">coef</span>(logistic_model))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)   laps_left       place      behind 
  5.2893241   0.9303907   0.6989050   0.7255404 </code></pre>
</div>
</div>
<p>Because the p-value is less than 0.05, we can say that all included variables are statistically significant.</p>
<p>Some interpretation: - For each additional lap left, the odds of winning decrease by 7%. Riders are more likely to win when there are fewer laps left. - For each increase in place number, the odds of winning decrease by 30.1%. Being in a higher place number lowers the chance of winning the moto. - For each additional second behind the leader, the odds of winning decrease by 27.4%. Being further behind the leader reduces the chances of winning.</p>
<p>Now, we can add win probability predictions to the data and see which riders average the highest win probability.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>winning_model_data<span class="sc">$</span>win_prob <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">predict</span>(logistic_model, </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">type =</span> <span class="st">"response"</span>), <span class="dv">2</span>)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>winning_model_data <span class="sc">|&gt;</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(rider, race_id) <span class="sc">|&gt;</span></span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_win_prob =</span> <span class="fu">mean</span>(win_prob)) <span class="sc">|&gt;</span></span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(rider) <span class="sc">|&gt;</span></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg_win_prob =</span> <span class="fu">round</span>(<span class="fu">mean</span>(avg_win_prob),<span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(avg_win_prob, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider =</span> <span class="st">"Rider"</span>,</span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">avg_win_prob =</span> <span class="st">"Average Win Probability"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="catriywyjt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#catriywyjt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#catriywyjt thead, #catriywyjt tbody, #catriywyjt tfoot, #catriywyjt tr, #catriywyjt td, #catriywyjt th {
  border-style: none;
}

#catriywyjt p {
  margin: 0;
  padding: 0;
}

#catriywyjt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#catriywyjt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#catriywyjt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#catriywyjt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#catriywyjt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#catriywyjt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#catriywyjt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#catriywyjt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#catriywyjt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#catriywyjt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#catriywyjt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#catriywyjt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#catriywyjt .gt_spanner_row {
  border-bottom-style: hidden;
}

#catriywyjt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#catriywyjt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#catriywyjt .gt_from_md > :first-child {
  margin-top: 0;
}

#catriywyjt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#catriywyjt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#catriywyjt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#catriywyjt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#catriywyjt .gt_row_group_first td {
  border-top-width: 2px;
}

#catriywyjt .gt_row_group_first th {
  border-top-width: 2px;
}

#catriywyjt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#catriywyjt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#catriywyjt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#catriywyjt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#catriywyjt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#catriywyjt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#catriywyjt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#catriywyjt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#catriywyjt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#catriywyjt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#catriywyjt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#catriywyjt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#catriywyjt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#catriywyjt .gt_left {
  text-align: left;
}

#catriywyjt .gt_center {
  text-align: center;
}

#catriywyjt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#catriywyjt .gt_font_normal {
  font-weight: normal;
}

#catriywyjt .gt_font_bold {
  font-weight: bold;
}

#catriywyjt .gt_font_italic {
  font-style: italic;
}

#catriywyjt .gt_super {
  font-size: 65%;
}

#catriywyjt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#catriywyjt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#catriywyjt .gt_indent_1 {
  text-indent: 5px;
}

#catriywyjt .gt_indent_2 {
  text-indent: 10px;
}

#catriywyjt .gt_indent_3 {
  text-indent: 15px;
}

#catriywyjt .gt_indent_4 {
  text-indent: 20px;
}

#catriywyjt .gt_indent_5 {
  text-indent: 25px;
}

#catriywyjt .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#catriywyjt div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider</th>
<th id="avg_win_prob" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Average Win Probability</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JORDAN JARVIS</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.74</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">EVE BRODEUR</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.49</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DREW ADAMS</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.48</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">JAIME ASTUDILLO</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.46</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JESS PETTIS</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.39</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">VIVIANA CONTRERAS</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.39</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JOSIAH NATZKE</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.31</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">DYLAN WRIGHT</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.27</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">KAVEN BENOIT</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.25</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">KRYSTIAN JANIK</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.16</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">GAGE LINVILLE</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.13</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">AARON TANTI</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.07</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">PRESTON KILROY</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.07</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">ALEXANDER FEDORTSOV</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.06</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">KAYLIE KAYER</td>
<td class="gt_row gt_right" headers="avg_win_prob">0.06</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Here are the cases where the rider has the largest range in win probability.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>winning_model_data <span class="sc">|&gt;</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(rider, race_id) <span class="sc">|&gt;</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">low_prob =</span> <span class="fu">min</span>(win_prob),</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">high_prob =</span> <span class="fu">max</span>(win_prob),</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">prob_diff =</span> high_prob <span class="sc">-</span> low_prob) <span class="sc">|&gt;</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(rider, race_id, low_prob, high_prob, prob_diff) <span class="sc">|&gt;</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(prob_diff, <span class="at">n =</span> <span class="dv">15</span>) <span class="sc">|&gt;</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(<span class="at">rider =</span> <span class="st">"Rider"</span>,</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">race_id =</span> <span class="st">"Race ID"</span>,</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">low_prob =</span> <span class="st">"Lowest Win Prob"</span>,</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">high_prob =</span> <span class="st">"Highest Win Prob"</span>,</span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">prob_diff =</span> <span class="st">"Win Prob Difference"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="kvygthbiuo" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#kvygthbiuo table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#kvygthbiuo thead, #kvygthbiuo tbody, #kvygthbiuo tfoot, #kvygthbiuo tr, #kvygthbiuo td, #kvygthbiuo th {
  border-style: none;
}

#kvygthbiuo p {
  margin: 0;
  padding: 0;
}

#kvygthbiuo .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kvygthbiuo .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#kvygthbiuo .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kvygthbiuo .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kvygthbiuo .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kvygthbiuo .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kvygthbiuo .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kvygthbiuo .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kvygthbiuo .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kvygthbiuo .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kvygthbiuo .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kvygthbiuo .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kvygthbiuo .gt_spanner_row {
  border-bottom-style: hidden;
}

#kvygthbiuo .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#kvygthbiuo .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kvygthbiuo .gt_from_md > :first-child {
  margin-top: 0;
}

#kvygthbiuo .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kvygthbiuo .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kvygthbiuo .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kvygthbiuo .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kvygthbiuo .gt_row_group_first td {
  border-top-width: 2px;
}

#kvygthbiuo .gt_row_group_first th {
  border-top-width: 2px;
}

#kvygthbiuo .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvygthbiuo .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kvygthbiuo .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kvygthbiuo .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kvygthbiuo .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvygthbiuo .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kvygthbiuo .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#kvygthbiuo .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kvygthbiuo .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kvygthbiuo .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kvygthbiuo .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvygthbiuo .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kvygthbiuo .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kvygthbiuo .gt_left {
  text-align: left;
}

#kvygthbiuo .gt_center {
  text-align: center;
}

#kvygthbiuo .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kvygthbiuo .gt_font_normal {
  font-weight: normal;
}

#kvygthbiuo .gt_font_bold {
  font-weight: bold;
}

#kvygthbiuo .gt_font_italic {
  font-style: italic;
}

#kvygthbiuo .gt_super {
  font-size: 65%;
}

#kvygthbiuo .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#kvygthbiuo .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kvygthbiuo .gt_indent_1 {
  text-indent: 5px;
}

#kvygthbiuo .gt_indent_2 {
  text-indent: 10px;
}

#kvygthbiuo .gt_indent_3 {
  text-indent: 15px;
}

#kvygthbiuo .gt_indent_4 {
  text-indent: 20px;
}

#kvygthbiuo .gt_indent_5 {
  text-indent: 25px;
}

#kvygthbiuo .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#kvygthbiuo div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="rider" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Rider</th>
<th id="race_id" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Race ID</th>
<th id="low_prob" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Lowest Win Prob</th>
<th id="high_prob" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Highest Win Prob</th>
<th id="prob_diff" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Win Prob Difference</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JOSIAH NATZKE</td>
<td class="gt_row gt_left" headers="race_id">450_2024_7</td>
<td class="gt_row gt_right" headers="low_prob">0.00</td>
<td class="gt_row gt_right" headers="high_prob">0.79</td>
<td class="gt_row gt_right" headers="prob_diff">0.79</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">DREW ADAMS</td>
<td class="gt_row gt_left" headers="race_id">250_2024_3</td>
<td class="gt_row gt_right" headers="low_prob">0.00</td>
<td class="gt_row gt_right" headers="high_prob">0.79</td>
<td class="gt_row gt_right" headers="prob_diff">0.79</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DREW ADAMS</td>
<td class="gt_row gt_left" headers="race_id">250_2024_16</td>
<td class="gt_row gt_right" headers="low_prob">0.01</td>
<td class="gt_row gt_right" headers="high_prob">0.79</td>
<td class="gt_row gt_right" headers="prob_diff">0.78</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">JESS PETTIS</td>
<td class="gt_row gt_left" headers="race_id">450_2024_13</td>
<td class="gt_row gt_right" headers="low_prob">0.03</td>
<td class="gt_row gt_right" headers="high_prob">0.79</td>
<td class="gt_row gt_right" headers="prob_diff">0.76</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DEVYN SMITH</td>
<td class="gt_row gt_left" headers="race_id">250_2024_13</td>
<td class="gt_row gt_right" headers="low_prob">0.00</td>
<td class="gt_row gt_right" headers="high_prob">0.72</td>
<td class="gt_row gt_right" headers="prob_diff">0.72</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">AARON TANTI</td>
<td class="gt_row gt_left" headers="race_id">450_2024_13</td>
<td class="gt_row gt_right" headers="low_prob">0.00</td>
<td class="gt_row gt_right" headers="high_prob">0.69</td>
<td class="gt_row gt_right" headers="prob_diff">0.69</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DYLAN WRIGHT</td>
<td class="gt_row gt_left" headers="race_id">450_2024_1</td>
<td class="gt_row gt_right" headers="low_prob">0.12</td>
<td class="gt_row gt_right" headers="high_prob">0.79</td>
<td class="gt_row gt_right" headers="prob_diff">0.67</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">DYLAN WRIGHT</td>
<td class="gt_row gt_left" headers="race_id">450_2024_3</td>
<td class="gt_row gt_right" headers="low_prob">0.12</td>
<td class="gt_row gt_right" headers="high_prob">0.79</td>
<td class="gt_row gt_right" headers="prob_diff">0.67</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">DYLAN WRIGHT</td>
<td class="gt_row gt_left" headers="race_id">450_2024_16</td>
<td class="gt_row gt_right" headers="low_prob">0.14</td>
<td class="gt_row gt_right" headers="high_prob">0.79</td>
<td class="gt_row gt_right" headers="prob_diff">0.65</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">VIVIANA CONTRERAS</td>
<td class="gt_row gt_left" headers="race_id">wmx_2024_1</td>
<td class="gt_row gt_right" headers="low_prob">0.03</td>
<td class="gt_row gt_right" headers="high_prob">0.68</td>
<td class="gt_row gt_right" headers="prob_diff">0.65</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">VIVIANA CONTRERAS</td>
<td class="gt_row gt_left" headers="race_id">wmx_2024_4</td>
<td class="gt_row gt_right" headers="low_prob">0.00</td>
<td class="gt_row gt_right" headers="high_prob">0.65</td>
<td class="gt_row gt_right" headers="prob_diff">0.65</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">KAVEN BENOIT</td>
<td class="gt_row gt_left" headers="race_id">250_2024_7</td>
<td class="gt_row gt_right" headers="low_prob">0.00</td>
<td class="gt_row gt_right" headers="high_prob">0.64</td>
<td class="gt_row gt_right" headers="prob_diff">0.64</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JOSIAH NATZKE</td>
<td class="gt_row gt_left" headers="race_id">450_2024_10</td>
<td class="gt_row gt_right" headers="low_prob">0.00</td>
<td class="gt_row gt_right" headers="high_prob">0.63</td>
<td class="gt_row gt_right" headers="prob_diff">0.63</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">KRYSTIAN JANIK</td>
<td class="gt_row gt_left" headers="race_id">250_2024_7</td>
<td class="gt_row gt_right" headers="low_prob">0.00</td>
<td class="gt_row gt_right" headers="high_prob">0.63</td>
<td class="gt_row gt_right" headers="prob_diff">0.63</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="rider">JESS PETTIS</td>
<td class="gt_row gt_left" headers="race_id">450_2024_1</td>
<td class="gt_row gt_right" headers="low_prob">0.01</td>
<td class="gt_row gt_right" headers="high_prob">0.63</td>
<td class="gt_row gt_right" headers="prob_diff">0.62</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="rider">TANNER WARD</td>
<td class="gt_row gt_left" headers="race_id">450_2024_8</td>
<td class="gt_row gt_right" headers="low_prob">0.02</td>
<td class="gt_row gt_right" headers="high_prob">0.64</td>
<td class="gt_row gt_right" headers="prob_diff">0.62</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="rider-profiles" class="level2">
<h2 class="anchored" data-anchor-id="rider-profiles">4.11 Rider profiles</h2>
<p>450 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>moto_id_450 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">race_id =</span> <span class="fu">c</span>(<span class="st">"450_2024_1"</span>, <span class="st">"450_2024_2"</span>,</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"450_2024_3"</span>, <span class="st">"450_2024_4"</span>,</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"450_2024_5"</span>, <span class="st">"450_2024_6"</span>,</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"450_2024_7"</span>, <span class="st">"450_2024_8"</span>,</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"450_2024_9"</span>, <span class="st">"450_2024_10"</span>,</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"450_2024_11"</span>, <span class="st">"450_2024_12"</span>,</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"450_2024_13"</span>, <span class="st">"450_2024_14"</span>,</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"450_2024_15"</span>, <span class="st">"450_2024_16"</span>),</span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">moto_id =</span> <span class="fu">c</span>(<span class="st">"11"</span>,<span class="st">"12"</span>,<span class="st">"21"</span>,<span class="st">"22"</span>,<span class="st">"31"</span>,<span class="st">"32"</span>,<span class="st">"41"</span>,<span class="st">"42"</span>,</span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"51"</span>,<span class="st">"52"</span>,<span class="st">"61"</span>,<span class="st">"62"</span>,<span class="st">"71"</span>,<span class="st">"72"</span>,<span class="st">"81"</span>,<span class="st">"82"</span>))</span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>profile <span class="ot">&lt;-</span> <span class="cf">function</span>(rider_name, num, mx_class, joiner) {</span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>  profile_1 <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(class <span class="sc">==</span> mx_class <span class="sc">&amp;</span> lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(race_id, rider, location, place, finish, points) <span class="sc">|&gt;</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(rider <span class="sc">==</span> rider_name) <span class="sc">|&gt;</span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">full_join</span>(joiner) <span class="sc">|&gt;</span></span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(moto_id) <span class="sc">|&gt;</span></span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(rider, location, moto_id, place, finish, points) <span class="sc">|&gt;</span></span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="st">"place"</span>, <span class="st">"finish"</span>), </span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>                 <span class="at">names_to =</span> <span class="st">"category"</span>, </span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>                 <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">|&gt;</span></span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">category =</span> <span class="fu">ifelse</span>(category <span class="sc">==</span> <span class="st">"place"</span>, <span class="st">"Start"</span>,</span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"Finish"</span>))</span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a>  profile_1<span class="sc">$</span>category <span class="ot">&lt;-</span> <span class="fu">factor</span>(profile_1<span class="sc">$</span>category, </span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a>                               <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Start"</span>, <span class="st">"Finish"</span>))</span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-29"><a href="#cb73-29" aria-hidden="true" tabindex="-1"></a>  riders_class <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb73-30"><a href="#cb73-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(class <span class="sc">==</span> mx_class) <span class="sc">|&gt;</span></span>
<span id="cb73-31"><a href="#cb73-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(rider) <span class="sc">|&gt;</span></span>
<span id="cb73-32"><a href="#cb73-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cross_join</span>(joiner)</span>
<span id="cb73-33"><a href="#cb73-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-34"><a href="#cb73-34" aria-hidden="true" tabindex="-1"></a>  profile_2 <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb73-35"><a href="#cb73-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(class <span class="sc">==</span> mx_class <span class="sc">&amp;</span> lap <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb73-36"><a href="#cb73-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(race_id, rider, place, finish, points) <span class="sc">|&gt;</span></span>
<span id="cb73-37"><a href="#cb73-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">full_join</span>(riders_class) <span class="sc">|&gt;</span></span>
<span id="cb73-38"><a href="#cb73-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(rider) <span class="sc">|&gt;</span></span>
<span id="cb73-39"><a href="#cb73-39" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">total_points =</span> <span class="fu">cumsum</span>(points)) <span class="sc">|&gt;</span></span>
<span id="cb73-40"><a href="#cb73-40" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb73-41"><a href="#cb73-41" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(race_id) <span class="sc">|&gt;</span></span>
<span id="cb73-42"><a href="#cb73-42" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">points_rank =</span> <span class="fu">rank</span>(<span class="fu">desc</span>(total_points), </span>
<span id="cb73-43"><a href="#cb73-43" aria-hidden="true" tabindex="-1"></a>                              <span class="at">ties.method =</span> <span class="st">"first"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb73-44"><a href="#cb73-44" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(rider <span class="sc">==</span> rider_name) <span class="sc">|&gt;</span></span>
<span id="cb73-45"><a href="#cb73-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(moto_id) <span class="sc">|&gt;</span></span>
<span id="cb73-46"><a href="#cb73-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(rider, moto_id, points_rank)</span>
<span id="cb73-47"><a href="#cb73-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-48"><a href="#cb73-48" aria-hidden="true" tabindex="-1"></a>  local <span class="ot">&lt;-</span> profile_1 <span class="sc">|&gt;</span></span>
<span id="cb73-49"><a href="#cb73-49" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(location) <span class="sc">|&gt;</span></span>
<span id="cb73-50"><a href="#cb73-50" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(<span class="dv">1</span>)</span>
<span id="cb73-51"><a href="#cb73-51" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-52"><a href="#cb73-52" aria-hidden="true" tabindex="-1"></a>  gaps_1 <span class="ot">&lt;-</span> all_2024_complete <span class="sc">|&gt;</span></span>
<span id="cb73-53"><a href="#cb73-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(class <span class="sc">==</span> mx_class) <span class="sc">|&gt;</span></span>
<span id="cb73-54"><a href="#cb73-54" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_na</span>(place) <span class="sc">|&gt;</span></span>
<span id="cb73-55"><a href="#cb73-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(lap, time, behind, place, race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb73-56"><a href="#cb73-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(race_id, rider) <span class="sc">|&gt;</span></span>
<span id="cb73-57"><a href="#cb73-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">total_time =</span> <span class="fu">cumsum</span>(time)) <span class="sc">|&gt;</span></span>
<span id="cb73-58"><a href="#cb73-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">|&gt;</span></span>
<span id="cb73-59"><a href="#cb73-59" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">next_place =</span> place <span class="sc">+</span> <span class="dv">1</span>)</span>
<span id="cb73-60"><a href="#cb73-60" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-61"><a href="#cb73-61" aria-hidden="true" tabindex="-1"></a>  gaps_2 <span class="ot">&lt;-</span> gaps_1 <span class="sc">|&gt;</span></span>
<span id="cb73-62"><a href="#cb73-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">left_join</span>(gaps_1, <span class="at">by =</span> <span class="fu">join_by</span>(next_place <span class="sc">==</span> place, </span>
<span id="cb73-63"><a href="#cb73-63" aria-hidden="true" tabindex="-1"></a>                                   race_id <span class="sc">==</span> race_id,</span>
<span id="cb73-64"><a href="#cb73-64" aria-hidden="true" tabindex="-1"></a>                                   lap <span class="sc">==</span> lap)) <span class="sc">|&gt;</span></span>
<span id="cb73-65"><a href="#cb73-65" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(lap, race_id, rider.x, total_time.x, place, </span>
<span id="cb73-66"><a href="#cb73-66" aria-hidden="true" tabindex="-1"></a>           rider.y, total_time.y, next_place) <span class="sc">|&gt;</span></span>
<span id="cb73-67"><a href="#cb73-67" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">diff =</span> total_time.x <span class="sc">-</span> total_time.y) <span class="sc">|&gt;</span></span>
<span id="cb73-68"><a href="#cb73-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">drop_na</span>(rider.y) <span class="sc">|&gt;</span></span>
<span id="cb73-69"><a href="#cb73-69" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(diff <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">3</span>)</span>
<span id="cb73-70"><a href="#cb73-70" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-71"><a href="#cb73-71" aria-hidden="true" tabindex="-1"></a>  rival_pairs <span class="ot">&lt;-</span> gaps_2 <span class="sc">|&gt;</span> </span>
<span id="cb73-72"><a href="#cb73-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(rider.x, rider.y) <span class="sc">|&gt;</span></span>
<span id="cb73-73"><a href="#cb73-73" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">pair =</span> <span class="fu">map2_chr</span>(rider.x, rider.y, </span>
<span id="cb73-74"><a href="#cb73-74" aria-hidden="true" tabindex="-1"></a>                           <span class="sc">~</span><span class="fu">paste</span>(<span class="fu">sort</span>(<span class="fu">c</span>(.x, .y)), <span class="at">collapse =</span> <span class="st">"-"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb73-75"><a href="#cb73-75" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(pair) <span class="sc">|&gt;</span></span>
<span id="cb73-76"><a href="#cb73-76" aria-hidden="true" tabindex="-1"></a>    <span class="fu">separate</span>(pair, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"rider1"</span>, <span class="st">"rider2"</span>), <span class="at">sep =</span> <span class="st">"-"</span>) <span class="sc">|&gt;</span></span>
<span id="cb73-77"><a href="#cb73-77" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">|&gt;</span></span>
<span id="cb73-78"><a href="#cb73-78" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(rider1 <span class="sc">==</span> rider_name <span class="sc">|</span> rider2 <span class="sc">==</span> rider_name) <span class="sc">|&gt;</span></span>
<span id="cb73-79"><a href="#cb73-79" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">rival =</span> <span class="fu">if_else</span>(rider1 <span class="sc">==</span> rider_name,</span>
<span id="cb73-80"><a href="#cb73-80" aria-hidden="true" tabindex="-1"></a>                           rider2, rider1)) <span class="sc">|&gt;</span></span>
<span id="cb73-81"><a href="#cb73-81" aria-hidden="true" tabindex="-1"></a>    <span class="fu">distinct</span>(rival) <span class="sc">|&gt;</span></span>
<span id="cb73-82"><a href="#cb73-82" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pull</span>(rival)</span>
<span id="cb73-83"><a href="#cb73-83" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-84"><a href="#cb73-84" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb73-85"><a href="#cb73-85" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">data =</span> profile_1, </span>
<span id="cb73-86"><a href="#cb73-86" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(moto_id), <span class="at">y =</span> value, <span class="at">fill =</span> category),</span>
<span id="cb73-87"><a href="#cb73-87" aria-hidden="true" tabindex="-1"></a>             <span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb73-88"><a href="#cb73-88" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">data =</span> profile_2, </span>
<span id="cb73-89"><a href="#cb73-89" aria-hidden="true" tabindex="-1"></a>              <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(moto_id), <span class="at">y =</span> points_rank, </span>
<span id="cb73-90"><a href="#cb73-90" aria-hidden="true" tabindex="-1"></a>                  <span class="at">group =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">"Standings"</span>), </span>
<span id="cb73-91"><a href="#cb73-91" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb73-92"><a href="#cb73-92" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="at">data =</span> profile_1,</span>
<span id="cb73-93"><a href="#cb73-93" aria-hidden="true" tabindex="-1"></a>              <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(moto_id), <span class="at">y =</span> <span class="dv">0</span>, <span class="at">fill =</span> category,</span>
<span id="cb73-94"><a href="#cb73-94" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label =</span> value, <span class="at">color =</span> category),</span>
<span id="cb73-95"><a href="#cb73-95" aria-hidden="true" tabindex="-1"></a>              <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>), </span>
<span id="cb73-96"><a href="#cb73-96" aria-hidden="true" tabindex="-1"></a>              <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb73-97"><a href="#cb73-97" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Moto ID"</span>, <span class="at">y =</span> <span class="st">"Position"</span>, <span class="at">fill =</span> <span class="st">" "</span>, <span class="at">color =</span> <span class="st">" "</span>,</span>
<span id="cb73-98"><a href="#cb73-98" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="fu">paste0</span>(<span class="st">"#"</span>, num, <span class="st">" "</span>, rider_name),</span>
<span id="cb73-99"><a href="#cb73-99" aria-hidden="true" tabindex="-1"></a>         <span class="at">subtitle =</span> <span class="fu">paste0</span>(<span class="st">"Class: "</span>, mx_class, <span class="st">"      "</span>,</span>
<span id="cb73-100"><a href="#cb73-100" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Location: "</span>, local)) <span class="sc">+</span></span>
<span id="cb73-101"><a href="#cb73-101" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Start"</span> <span class="ot">=</span> <span class="st">"#32D2DA"</span>, </span>
<span id="cb73-102"><a href="#cb73-102" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"Finish"</span> <span class="ot">=</span> <span class="st">"#da3a32"</span>)) <span class="sc">+</span></span>
<span id="cb73-103"><a href="#cb73-103" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Standings"</span> <span class="ot">=</span> <span class="st">"black"</span>)) <span class="sc">+</span></span>
<span id="cb73-104"><a href="#cb73-104" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">name =</span> <span class="st">"Position"</span>, </span>
<span id="cb73-105"><a href="#cb73-105" aria-hidden="true" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fu">max</span>(<span class="fu">max</span>(profile_1<span class="sc">$</span>value,</span>
<span id="cb73-106"><a href="#cb73-106" aria-hidden="true" tabindex="-1"></a>                                               profile_2<span class="sc">$</span>points_rank, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb73-107"><a href="#cb73-107" aria-hidden="true" tabindex="-1"></a>                                    <span class="at">by =</span> <span class="dv">1</span>),</span>
<span id="cb73-108"><a href="#cb73-108" aria-hidden="true" tabindex="-1"></a>                       <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="at">trans =</span> <span class="sc">~</span> ., </span>
<span id="cb73-109"><a href="#cb73-109" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">name =</span> <span class="st">" "</span>, </span>
<span id="cb73-110"><a href="#cb73-110" aria-hidden="true" tabindex="-1"></a>                                           <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="fu">max</span>(<span class="fu">max</span>(profile_2<span class="sc">$</span>points_rank, profile_1<span class="sc">$</span>value, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), <span class="at">by =</span> <span class="dv">1</span>))) <span class="sc">+</span></span>
<span id="cb73-111"><a href="#cb73-111" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb73-112"><a href="#cb73-112" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="cn">Inf</span>, <span class="at">y =</span> <span class="cn">Inf</span>, </span>
<span id="cb73-113"><a href="#cb73-113" aria-hidden="true" tabindex="-1"></a>                   <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"Top Rivalries:</span><span class="sc">\n</span><span class="st">1. "</span>, rival_pairs[<span class="dv">1</span>], <span class="st">"</span><span class="sc">\n</span><span class="st">2. "</span>, rival_pairs[<span class="dv">2</span>], <span class="st">"</span><span class="sc">\n</span><span class="st">3. "</span>, rival_pairs[<span class="dv">3</span>])), </span>
<span id="cb73-114"><a href="#cb73-114" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">"white"</span>,</span>
<span id="cb73-115"><a href="#cb73-115" aria-hidden="true" tabindex="-1"></a>               <span class="at">vjust =</span> <span class="dv">1</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">2</span>)</span>
<span id="cb73-116"><a href="#cb73-116" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-117"><a href="#cb73-117" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb73-118"><a href="#cb73-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-119"><a href="#cb73-119" aria-hidden="true" tabindex="-1"></a><span class="fu">profile</span>(<span class="st">"JESS PETTIS"</span>, <span class="st">"15"</span>, <span class="st">"450"</span>, moto_id_450)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">profile</span>(<span class="st">"TANNER WARD"</span>, <span class="st">"84"</span>, <span class="st">"450"</span>, moto_id_450)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-54-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>250 class:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>moto_id_250 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">race_id =</span> <span class="fu">c</span>(<span class="st">"250_2024_1"</span>, <span class="st">"250_2024_2"</span>,</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"250_2024_3"</span>, <span class="st">"250_2024_4"</span>,</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"250_2024_5"</span>, <span class="st">"250_2024_6"</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"250_2024_7"</span>, <span class="st">"250_2024_8"</span>,</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"250_2024_9"</span>, <span class="st">"250_2024_10"</span>,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"250_2024_11"</span>, <span class="st">"250_2024_12"</span>,</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"250_2024_13"</span>, <span class="st">"250_2024_14"</span>,</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"250_2024_15"</span>, <span class="st">"250_2024_16"</span>),</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a>                      <span class="at">moto_id =</span> <span class="fu">c</span>(<span class="st">"11"</span>,<span class="st">"12"</span>,<span class="st">"21"</span>,<span class="st">"22"</span>,<span class="st">"31"</span>,<span class="st">"32"</span>,<span class="st">"41"</span>,<span class="st">"42"</span>,</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"51"</span>,<span class="st">"52"</span>,<span class="st">"61"</span>,<span class="st">"62"</span>,<span class="st">"71"</span>,<span class="st">"72"</span>,<span class="st">"81"</span>,<span class="st">"82"</span>))</span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-12"><a href="#cb75-12" aria-hidden="true" tabindex="-1"></a><span class="fu">profile</span>(<span class="st">"DREW ADAMS"</span>, <span class="st">"300"</span>, <span class="st">"250"</span>, moto_id_250)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">profile</span>(<span class="st">"TYLER MEDAGLIA"</span>, <span class="st">"5"</span>, <span class="st">"250"</span>, moto_id_250)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="tcmx_2024_report_files/figure-html/unnamed-chunk-55-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="extensions" class="level1">
<h1>5 Extensions</h1>
<p>There are so many opportunities for further analysis. Here are some ideas I have to expand this project in the future:</p>
<ul>
<li><p>Add previous years data to the analysis. According to the <a href="https://triplecrownseries.ca/results/">results</a> tab of the Triple Crown Series website, there is data going back to 2018.</p></li>
<li><p>Integrate weather and temperature data to explore correlations with rider performance, especially fatigue levels.</p></li>
<li><p>More modelling such as passing and finish place prediction.</p></li>
</ul>
</section>
<section id="notes" class="level1">
<h1>6 Notes</h1>
<ul>
<li>In the WMX class, lap times and places for Round 4 at Gopher Dunes were not available. Only finish positions were included.</li>
</ul>
</section>
<section id="acknowledgements" class="level1">
<h1>7 Acknowledgements</h1>
<p>Thank you to Dr.&nbsp;Jack Davis for suggesting the idea of transition matrices. He recommended me to his own analysis on the game, <a href="https://www.stats-et-al.com/2017/11/snakes-and-ladders-and-transition.html">Snakes and Ladders</a>.</p>
<p>Thank you <a href="https://www.statsf1.com/">Stats F1</a> for rider profile ideas, such as the grid and finish position graph.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>